{"version":3,"sources":["webpack://G2Plot/webpack/universalModuleDefinition","webpack://G2Plot/webpack/bootstrap","webpack://G2Plot/../src/is-array-like.ts","webpack://G2Plot/../src/contains.ts","webpack://G2Plot/../src/filter.ts","webpack://G2Plot/../src/difference.ts","webpack://G2Plot/../src/is-type.ts","webpack://G2Plot/../src/is-function.ts","webpack://G2Plot/../src/is-nil.ts","webpack://G2Plot/../src/is-array.ts","webpack://G2Plot/../src/is-object.ts","webpack://G2Plot/../src/each.ts","webpack://G2Plot/../src/keys.ts","webpack://G2Plot/../src/is-match.ts","webpack://G2Plot/../src/is-object-like.ts","webpack://G2Plot/../src/is-plain-object.ts","webpack://G2Plot/../src/find.ts","webpack://G2Plot/../src/find-index.ts","webpack://G2Plot/../src/first-value.ts","webpack://G2Plot/../src/flatten.ts","webpack://G2Plot/../src/flatten-deep.ts","webpack://G2Plot/../src/max.ts","webpack://G2Plot/../src/min.ts","webpack://G2Plot/../src/get-range.ts","webpack://G2Plot/../src/pull.ts","webpack://G2Plot/../src/pull-at.ts","webpack://G2Plot/../src/reduce.ts","webpack://G2Plot/../src/remove.ts","webpack://G2Plot/../src/is-string.ts","webpack://G2Plot/../src/sort-by.ts","webpack://G2Plot/../src/uniq.ts","webpack://G2Plot/../src/union.ts","webpack://G2Plot/../src/values-of-key.ts","webpack://G2Plot/../src/head.ts","webpack://G2Plot/../src/last.ts","webpack://G2Plot/../src/starts-with.ts","webpack://G2Plot/../src/ends-with.ts","webpack://G2Plot/../src/every.ts","webpack://G2Plot/../src/some.ts","webpack://G2Plot/../src/group-by.ts","webpack://G2Plot/../src/group-to-map.ts","webpack://G2Plot/../src/group.ts","webpack://G2Plot/../src/get-wrap-behavior.ts","webpack://G2Plot/../src/wrap-behavior.ts","webpack://G2Plot/../src/number2color.ts","webpack://G2Plot/../src/parse-radius.ts","webpack://G2Plot/../src/clamp.ts","webpack://G2Plot/../src/fixed-base.ts","webpack://G2Plot/../src/is-number.ts","webpack://G2Plot/../src/is-decimal.ts","webpack://G2Plot/../src/is-even.ts","webpack://G2Plot/../src/is-integer.ts","webpack://G2Plot/../src/is-negative.ts","webpack://G2Plot/../src/is-number-equal.ts","webpack://G2Plot/../src/is-odd.ts","webpack://G2Plot/../src/is-positive.ts","webpack://G2Plot/../src/max-by.ts","webpack://G2Plot/../src/min-by.ts","webpack://G2Plot/../src/mod.ts","webpack://G2Plot/../src/to-degree.ts","webpack://G2Plot/../src/to-integer.ts","webpack://G2Plot/../src/to-radian.ts","webpack://G2Plot/../src/for-in.ts","webpack://G2Plot/../src/has.ts","webpack://G2Plot/../src/has-key.ts","webpack://G2Plot/../src/values.ts","webpack://G2Plot/../src/has-value.ts","webpack://G2Plot/../src/to-string.ts","webpack://G2Plot/../src/lower-case.ts","webpack://G2Plot/../src/lower-first.ts","webpack://G2Plot/../src/substitute.ts","webpack://G2Plot/../src/upper-case.ts","webpack://G2Plot/../src/upper-first.ts","webpack://G2Plot/../src/get-type.ts","webpack://G2Plot/../src/is-arguments.ts","webpack://G2Plot/../src/is-boolean.ts","webpack://G2Plot/../src/is-date.ts","webpack://G2Plot/../src/is-error.ts","webpack://G2Plot/../src/is-finite.ts","webpack://G2Plot/../src/is-null.ts","webpack://G2Plot/../src/is-prototype.ts","webpack://G2Plot/../src/is-reg-exp.ts","webpack://G2Plot/../src/is-undefined.ts","webpack://G2Plot/../src/is-element.ts","webpack://G2Plot/../src/request-animation-frame.ts","webpack://G2Plot/../src/clear-animation-frame.ts","webpack://G2Plot/../src/mix.ts","webpack://G2Plot/../src/augment.ts","webpack://G2Plot/../src/clone.ts","webpack://G2Plot/../src/debounce.ts","webpack://G2Plot/../src/memoize.ts","webpack://G2Plot/../src/deep-mix.ts","webpack://G2Plot/../src/extend.ts","webpack://G2Plot/../src/index-of.ts","webpack://G2Plot/../src/is-empty.ts","webpack://G2Plot/../src/is-equal.ts","webpack://G2Plot/../src/is-equal-with.ts","webpack://G2Plot/../src/map.ts","webpack://G2Plot/../src/map-values.ts","webpack://G2Plot/../src/get.ts","webpack://G2Plot/../src/set.ts","webpack://G2Plot/../src/pick.ts","webpack://G2Plot/../src/omit.ts","webpack://G2Plot/../src/throttle.ts","webpack://G2Plot/../src/to-array.ts","webpack://G2Plot/../src/unique-id.ts","webpack://G2Plot/../src/noop.ts","webpack://G2Plot/../src/identity.ts","webpack://G2Plot/../src/size.ts","webpack://G2Plot/../src/measure-text-width.ts","webpack://G2Plot/../src/get-ellipsis-text.ts","webpack://G2Plot/../src/cache.ts","webpack://G2Plot/./node_modules/_tslib@2.4.0@tslib/tslib.es6.js","webpack://G2Plot/./src/utils/index.ts","webpack://G2Plot/../src/ext.ts","webpack://G2Plot/../../src/util/util.ts","webpack://G2Plot/../../src/util/theme.ts","webpack://G2Plot/./src/core/plot.ts","webpack://G2Plot/../src/constant.ts","webpack://G2Plot/../../src/engine/index.ts","webpack://G2Plot/../../src/util/dom.ts","webpack://G2Plot/../src/base.ts","webpack://G2Plot/../../src/attributes/base.ts","webpack://G2Plot/../../src/attributes/color.ts","webpack://G2Plot/../../src/attributes/opacity.ts","webpack://G2Plot/../../src/attributes/position.ts","webpack://G2Plot/../../src/attributes/shape.ts","webpack://G2Plot/../../src/attributes/size.ts","webpack://G2Plot/../src/factory.ts","webpack://G2Plot/../src/index.ts","webpack://G2Plot/../../src/coord/base.ts","webpack://G2Plot/../../src/coord/cartesian.ts","webpack://G2Plot/../../src/coord/helix.ts","webpack://G2Plot/../../src/coord/polar.ts","webpack://G2Plot/../src/dependents.ts","webpack://G2Plot/../../src/util/graphics.ts","webpack://G2Plot/../../src/util/helper.ts","webpack://G2Plot/../../src/util/bbox.ts","webpack://G2Plot/../../src/util/coordinate.ts","webpack://G2Plot/../../src/util/scale.ts","webpack://G2Plot/../../src/util/axis.ts","webpack://G2Plot/../../src/facet/facet.ts","webpack://G2Plot/../../src/facet/index.ts","webpack://G2Plot/../../../src/interaction/action/base.ts","webpack://G2Plot/../../../src/interaction/action/callback.ts","webpack://G2Plot/../../../src/interaction/action/register.ts","webpack://G2Plot/../../../../src/geometry/shape/util/path.ts","webpack://G2Plot/../../../src/interaction/action/util.ts","webpack://G2Plot/../../src/interaction/context.ts","webpack://G2Plot/../../src/interaction/interaction.ts","webpack://G2Plot/../../src/interaction/grammar-interaction.ts","webpack://G2Plot/../../src/interaction/index.ts","webpack://G2Plot/../../../src/theme/util/create-by-style-sheet.ts","webpack://G2Plot/../../../src/theme/style-sheet/light.ts","webpack://G2Plot/../../../src/theme/util/create-theme.ts","webpack://G2Plot/../../src/theme/index.ts","webpack://G2Plot/../../src/util/tooltip.ts","webpack://G2Plot/../../src/util/padding.ts","webpack://G2Plot/../../../src/chart/controller/index.ts","webpack://G2Plot/../../../src/chart/controller/coordinate.ts","webpack://G2Plot/../../src/chart/event.ts","webpack://G2Plot/../../../src/chart/layout/index.ts","webpack://G2Plot/../../../src/chart/util/scale-pool.ts","webpack://G2Plot/../../../src/chart/layout/padding-cal.ts","webpack://G2Plot/../../../src/chart/layout/auto.ts","webpack://G2Plot/../../../src/chart/util/sync-view-padding.ts","webpack://G2Plot/../../src/chart/view.ts","webpack://G2Plot/../../src/chart/chart.ts","webpack://G2Plot/../../../src/chart/controller/base.ts","webpack://G2Plot/../../../src/chart/controller/tooltip.ts","webpack://G2Plot/../../../src/animate/animation/index.ts","webpack://G2Plot/../../src/animate/index.ts","webpack://G2Plot/../../../src/geometry/shape/constant.ts","webpack://G2Plot/../../../src/geometry/element/index.ts","webpack://G2Plot/../../../src/geometry/label/index.ts","webpack://G2Plot/../../../src/geometry/shape/base.ts","webpack://G2Plot/../../../src/geometry/util/is-model-change.ts","webpack://G2Plot/../../../src/geometry/util/parse-fields.ts","webpack://G2Plot/../../../src/geometry/util/diff.ts","webpack://G2Plot/../../src/geometry/base.ts","webpack://G2Plot/../../../src/geometry/util/group-data.ts","webpack://G2Plot/../../src/util/transform.ts","webpack://G2Plot/../../../../src/geometry/label/util/index.ts","webpack://G2Plot/../../src/component/labels.ts","webpack://G2Plot/../../src/component/update-label.ts","webpack://G2Plot/../../../src/geometry/label/base.ts","webpack://G2Plot/../../src/util/attr.ts","webpack://G2Plot/../../src/util/marker.ts","webpack://G2Plot/../../src/util/legend.ts","webpack://G2Plot/../../../../src/geometry/shape/util/get-path-points.ts","webpack://G2Plot/../../../../src/geometry/shape/util/get-style.ts","webpack://G2Plot/../../../../src/geometry/shape/util/split-points.ts","webpack://G2Plot/../../../../src/geometry/shape/line/util.ts","webpack://G2Plot/../../../../src/geometry/shape/line/index.ts","webpack://G2Plot/../src/core.ts","webpack://G2Plot/../../../src/theme/style-sheet/dark.ts","webpack://G2Plot/../../src/util/parse.ts","webpack://G2Plot/../../src/util/arc-params.ts","webpack://G2Plot/../../src/util/arrow.ts","webpack://G2Plot/../../src/util/draw.ts","webpack://G2Plot/../../src/shape/base.ts","webpack://G2Plot/../../src/shape/circle.ts","webpack://G2Plot/../../src/shape/ellipse.ts","webpack://G2Plot/../../src/shape/image.ts","webpack://G2Plot/../../../src/util/in-stroke/line.ts","webpack://G2Plot/../../src/shape/line.ts","webpack://G2Plot/../../src/shape/marker.ts","webpack://G2Plot/../../../src/util/in-path/point-in-path.ts","webpack://G2Plot/../../../src/util/in-path/polygon.ts","webpack://G2Plot/../../../src/util/in-stroke/arc.ts","webpack://G2Plot/../../src/util/path.ts","webpack://G2Plot/../../src/shape/path.ts","webpack://G2Plot/../../../src/util/in-stroke/polyline.ts","webpack://G2Plot/../../src/shape/polygon.ts","webpack://G2Plot/../../src/shape/polyline.ts","webpack://G2Plot/../../src/shape/rect.ts","webpack://G2Plot/../../../src/util/in-stroke/rect-radius.ts","webpack://G2Plot/../../../src/util/in-stroke/rect.ts","webpack://G2Plot/../../src/shape/text.ts","webpack://G2Plot/../../src/util/hit.ts","webpack://G2Plot/../src/canvas.ts","webpack://G2Plot/../../src/util/svg.ts","webpack://G2Plot/../../src/shape/dom.ts","webpack://G2Plot/../../../src/shape/marker/symbols.ts","webpack://G2Plot/../../../src/shape/marker/index.ts","webpack://G2Plot/../../src/util/format.ts","webpack://G2Plot/../../src/defs/gradient.ts","webpack://G2Plot/../../src/defs/shadow.ts","webpack://G2Plot/../../src/defs/arrow.ts","webpack://G2Plot/../../src/defs/clip.ts","webpack://G2Plot/../../src/defs/pattern.ts","webpack://G2Plot/../../src/defs/index.ts","webpack://G2Plot/../../src/geometry/path.ts","webpack://G2Plot/../../../../src/geometry/shape/area/util.ts","webpack://G2Plot/../../../../src/geometry/shape/area/index.ts","webpack://G2Plot/../../src/geometry/area.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/index.ts","webpack://G2Plot/../../src/geometry/edge.ts","webpack://G2Plot/../../src/geometry/heatmap.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/util.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/index.ts","webpack://G2Plot/../../../src/geometry/util/shape-size.ts","webpack://G2Plot/../../src/geometry/interval.ts","webpack://G2Plot/../../src/geometry/line.ts","webpack://G2Plot/../../../../src/geometry/shape/point/util.ts","webpack://G2Plot/../../../../src/geometry/shape/point/index.ts","webpack://G2Plot/../../src/geometry/point.ts","webpack://G2Plot/../../../../src/geometry/shape/polygon/index.ts","webpack://G2Plot/../../src/geometry/polygon.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/index.ts","webpack://G2Plot/../../src/geometry/schema.ts","webpack://G2Plot/../../../../src/geometry/shape/violin/index.ts","webpack://G2Plot/../../src/geometry/violin.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/util.ts","webpack://G2Plot/../../../../src/geometry/shape/area/line.ts","webpack://G2Plot/../../../../src/geometry/shape/area/smooth.ts","webpack://G2Plot/../../../../src/geometry/shape/area/smooth-line.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/arc.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/smooth.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/vhv.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/funnel.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/hollow-rect.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/line.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/pyramid.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/tick.ts","webpack://G2Plot/../../../../src/geometry/shape/line/step.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/box.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/candle.ts","webpack://G2Plot/../../../../src/geometry/shape/polygon/square.ts","webpack://G2Plot/../../../../src/geometry/shape/point/hollow.ts","webpack://G2Plot/../../../../src/geometry/shape/point/image.ts","webpack://G2Plot/../../../../src/geometry/shape/point/solid.ts","webpack://G2Plot/../../../../src/geometry/shape/violin/smooth.ts","webpack://G2Plot/../../../../src/geometry/shape/violin/hollow.ts","webpack://G2Plot/../../../src/geometry/label/interval.ts","webpack://G2Plot/../../../src/geometry/label/polar.ts","webpack://G2Plot/../../../src/geometry/label/pie.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/pie/util.ts","webpack://G2Plot/../../../../src/geometry/label/layout/overlap.ts","webpack://G2Plot/../../src/util/collision-detect.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/worker/hide-overlap.ts","webpack://G2Plot/../../../../src/geometry/label/layout/hide-overlap.ts","webpack://G2Plot/../../../../src/geometry/label/util/createWorker.ts","webpack://G2Plot/../../src/util/color.ts","webpack://G2Plot/../../src/util/context.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/interval/adjust-position.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/point/adjust-position.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/path/adjust-position.ts","webpack://G2Plot/../../src/util/text.ts","webpack://G2Plot/../../../src/animate/animation/util.ts","webpack://G2Plot/../../../src/animate/animation/sector-path-update.ts","webpack://G2Plot/../../../src/animate/animation/zoom.ts","webpack://G2Plot/../../src/util/facet.ts","webpack://G2Plot/../../src/facet/circle.ts","webpack://G2Plot/../../src/facet/list.ts","webpack://G2Plot/../../src/facet/matrix.ts","webpack://G2Plot/../../src/facet/mirror.ts","webpack://G2Plot/../../src/facet/rect.ts","webpack://G2Plot/../../src/facet/tree.ts","webpack://G2Plot/../../src/util/stat.ts","webpack://G2Plot/../../src/util/annotation.ts","webpack://G2Plot/../../../src/chart/controller/annotation.ts","webpack://G2Plot/../../src/util/grid.ts","webpack://G2Plot/../../../src/chart/controller/axis.ts","webpack://G2Plot/../../src/util/direction.ts","webpack://G2Plot/../../../src/chart/controller/legend.ts","webpack://G2Plot/../../../src/chart/controller/slider.ts","webpack://G2Plot/../../../src/chart/controller/scrollbar.ts","webpack://G2Plot/../../../src/interaction/action/active-region.ts","webpack://G2Plot/../../../../../src/interaction/action/component/tooltip/geometry.ts","webpack://G2Plot/../../../../../src/interaction/action/component/tooltip/sibling.ts","webpack://G2Plot/../../../../../src/interaction/action/component/tooltip/ellipsis-text.ts","webpack://G2Plot/../../../../src/interaction/action/element/state-base.ts","webpack://G2Plot/../../../../src/interaction/action/element/state.ts","webpack://G2Plot/../../../../src/interaction/action/element/active.ts","webpack://G2Plot/../../../../src/interaction/action/element/link-by-color.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-state.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-active.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-state.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-active.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-util.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-by-color.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-by-x.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-selected.ts","webpack://G2Plot/../../../../src/interaction/action/element/selected.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-selected.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-state.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-active.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-highlight-util.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-selected.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-unchecked.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-checked.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-focus.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-radio.ts","webpack://G2Plot/../../../../src/interaction/action/mask/base.ts","webpack://G2Plot/../../../../src/interaction/action/mask/circle.ts","webpack://G2Plot/../../../../src/interaction/action/mask/rect.ts","webpack://G2Plot/../../../../src/interaction/action/mask/dim-rect.ts","webpack://G2Plot/../../../../src/interaction/action/data/range-filter.ts","webpack://G2Plot/../../../../src/interaction/action/mask/path.ts","webpack://G2Plot/../../../../src/interaction/action/mask/smooth-path.ts","webpack://G2Plot/../../../src/interaction/action/cursor.ts","webpack://G2Plot/../../../../src/interaction/action/data/filter.ts","webpack://G2Plot/../../../../src/interaction/action/data/sibling-filter.ts","webpack://G2Plot/../../../../src/interaction/action/element/filter.ts","webpack://G2Plot/../../../../src/interaction/action/element/sibling-filter.ts","webpack://G2Plot/../../../../src/interaction/action/view/button.ts","webpack://G2Plot/../../../../src/interaction/action/view/drag.ts","webpack://G2Plot/../../../../src/interaction/action/view/move.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-transform.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-translate.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-zoom.ts","webpack://G2Plot/../../../../src/interaction/action/view/mousewheel-scroll.ts","webpack://G2Plot/../../../../../src/interaction/action/component/axis/axis-description.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/pie/distribute.ts","webpack://G2Plot/../../../../src/geometry/label/layout/limit-in-shape.ts","webpack://G2Plot/../../../../src/geometry/label/layout/limit-in-canvas.ts","webpack://G2Plot/../../../../src/geometry/label/layout/limit-in-plot.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/pie/outer.ts","webpack://G2Plot/../../../../src/geometry/label/layout/adjust-color.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/interval/hide-overlap.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/pie/spider.ts","webpack://G2Plot/../../../src/animate/animation/fade.ts","webpack://G2Plot/../../../src/animate/animation/grow-in.ts","webpack://G2Plot/../../../src/animate/animation/scale-in.ts","webpack://G2Plot/../../../src/animate/animation/wave-in.ts","webpack://G2Plot/../../../src/animate/animation/position-update.ts","webpack://G2Plot/../../../src/animate/animation/path-in.ts","webpack://G2Plot/../../src/event/graph-event.ts","webpack://G2Plot/../../src/abstract/base.ts","webpack://G2Plot/../../src/util/matrix.ts","webpack://G2Plot/../../src/abstract/element.ts","webpack://G2Plot/../../src/abstract/container.ts","webpack://G2Plot/./node_modules/_d3-timer@1.0.10@d3-timer/src/timer.js","webpack://G2Plot/./node_modules/_d3-color@1.4.1@d3-color/src/define.js","webpack://G2Plot/./node_modules/_d3-color@1.4.1@d3-color/src/color.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/basis.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/constant.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/color.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/rgb.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/basisClosed.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/numberArray.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/array.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/date.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/number.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/object.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/string.js","webpack://G2Plot/./node_modules/_d3-interpolate@1.4.0@d3-interpolate/src/value.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.7@d3-ease/src/linear.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.7@d3-ease/src/quad.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.7@d3-ease/src/cubic.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.7@d3-ease/src/poly.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.7@d3-ease/src/sin.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.7@d3-ease/src/math.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.7@d3-ease/src/exp.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.7@d3-ease/src/circle.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.7@d3-ease/src/bounce.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.7@d3-ease/src/back.js","webpack://G2Plot/./node_modules/_d3-ease@1.0.7@d3-ease/src/elastic.js","webpack://G2Plot/../../src/animate/register.ts","webpack://G2Plot/../../src/animate/timeline.ts","webpack://G2Plot/../../src/event/event-contoller.ts","webpack://G2Plot/../../src/abstract/canvas.ts","webpack://G2Plot/../../src/abstract/group.ts","webpack://G2Plot/../../src/abstract/shape.ts","webpack://G2Plot/../../src/bbox/register.ts","webpack://G2Plot/../../src/bbox/rect.ts","webpack://G2Plot/../../src/bbox/circle.ts","webpack://G2Plot/../../src/bbox/util.ts","webpack://G2Plot/../../src/bbox/polyline.ts","webpack://G2Plot/../../src/util/offscreen.ts","webpack://G2Plot/../../src/bbox/text.ts","webpack://G2Plot/../../src/bbox/path.ts","webpack://G2Plot/../../src/bbox/index.ts","webpack://G2Plot/../../src/bbox/polygon.ts","webpack://G2Plot/../../src/bbox/line.ts","webpack://G2Plot/../../src/bbox/ellipse.ts","webpack://G2Plot/../src/add-event-listener.ts","webpack://G2Plot/../src/create-dom.ts","webpack://G2Plot/../src/get-style.ts","webpack://G2Plot/../src/get-outer-height.ts","webpack://G2Plot/../src/get-height.ts","webpack://G2Plot/../src/get-outer-width.ts","webpack://G2Plot/../src/get-width.ts","webpack://G2Plot/../src/modify-css.ts","webpack://G2Plot/./src/adaptor/common.ts","webpack://G2Plot/../../src/abstract/group-component.ts","webpack://G2Plot/../src/util.ts","webpack://G2Plot/../src/line.ts","webpack://G2Plot/../src/bezier.ts","webpack://G2Plot/../src/quadratic.ts","webpack://G2Plot/../src/cubic.ts","webpack://G2Plot/../src/ellipse.ts","webpack://G2Plot/../src/arc.ts","webpack://G2Plot/../src/segments.ts","webpack://G2Plot/../src/polyline.ts","webpack://G2Plot/./node_modules/_gl-matrix@3.4.3@gl-matrix/esm/common.js","webpack://G2Plot/./src/adaptor/geometries/index.ts","webpack://G2Plot/./node_modules/_gl-matrix@3.4.3@gl-matrix/esm/mat3.js","webpack://G2Plot/./node_modules/_tslib@1.14.1@tslib/tslib.es6.js","webpack://G2Plot/../../src/tooltip/css-const.ts","webpack://G2Plot/./src/adaptor/geometries/base.ts","webpack://G2Plot/../src/parse-path.ts","webpack://G2Plot/../src/catmull-rom-2-bezier.ts","webpack://G2Plot/../src/fill-path.ts","webpack://G2Plot/../src/fill-path-by-diff.ts","webpack://G2Plot/../src/format-path.ts","webpack://G2Plot/../src/rect-path.ts","webpack://G2Plot/../src/parse-path-string.ts","webpack://G2Plot/../src/path-2-absolute.ts","webpack://G2Plot/../../src/process/arc-2-cubic.ts","webpack://G2Plot/../../src/process/quad-2-cubic.ts","webpack://G2Plot/../../src/process/line-2-cubic.ts","webpack://G2Plot/../../src/process/segment-2-cubic.ts","webpack://G2Plot/../src/path-2-curve.ts","webpack://G2Plot/../src/path-intersection.ts","webpack://G2Plot/../src/parse-path-array.ts","webpack://G2Plot/../src/get-arc-params.ts","webpack://G2Plot/../src/path-2-segments.ts","webpack://G2Plot/../src/get-line-intersect.ts","webpack://G2Plot/../src/point-in-polygon.ts","webpack://G2Plot/../src/is-polygons-intersect.ts","webpack://G2Plot/../../src/util/label.ts","webpack://G2Plot/./src/utils/tooltip.ts","webpack://G2Plot/../../src/adjusts/adjust.ts","webpack://G2Plot/../../src/tick-method/register.ts","webpack://G2Plot/../../src/category/base.ts","webpack://G2Plot/../src/fecha.ts","webpack://G2Plot/../../src/util/time.ts","webpack://G2Plot/../../src/util/bisector.ts","webpack://G2Plot/../../src/category/time.ts","webpack://G2Plot/../../src/continuous/base.ts","webpack://G2Plot/../../src/continuous/linear.ts","webpack://G2Plot/../../src/util/math.ts","webpack://G2Plot/../../src/continuous/log.ts","webpack://G2Plot/../../src/continuous/pow.ts","webpack://G2Plot/../../src/continuous/time.ts","webpack://G2Plot/../../src/continuous/quantize.ts","webpack://G2Plot/../../src/continuous/quantile.ts","webpack://G2Plot/../../src/identity/index.ts","webpack://G2Plot/../../src/tick-method/cat.ts","webpack://G2Plot/../../src/util/d3-linear.ts","webpack://G2Plot/../../src/util/interval.ts","webpack://G2Plot/../../src/util/strict-limit.ts","webpack://G2Plot/../../src/util/pretty-number.ts","webpack://G2Plot/../../src/util/extended.ts","webpack://G2Plot/../../src/util/pretty.ts","webpack://G2Plot/../../src/tick-method/quantile.ts","webpack://G2Plot/../../src/tick-method/time-pretty.ts","webpack://G2Plot/../../src/tick-method/index.ts","webpack://G2Plot/../../src/tick-method/time-cat.ts","webpack://G2Plot/../../src/tick-method/linear.ts","webpack://G2Plot/../../src/tick-method/r-prettry.ts","webpack://G2Plot/../../src/tick-method/time.ts","webpack://G2Plot/../../src/tick-method/log.ts","webpack://G2Plot/../../src/tick-method/pow.ts","webpack://G2Plot/../../src/tick-method/d3-linear.ts","webpack://G2Plot/./src/constant.ts","webpack://G2Plot/../../src/abstract/html-component.ts","webpack://G2Plot/../../src/util/state.ts","webpack://G2Plot/./src/utils/padding.ts","webpack://G2Plot/./src/adaptor/pattern.ts","webpack://G2Plot/./src/utils/transform/percent.ts","webpack://G2Plot/./src/plots/tiny-line/utils.ts","webpack://G2Plot/./src/plots/funnel/constant.ts","webpack://G2Plot/../../src/abstract/component.ts","webpack://G2Plot/./node_modules/_gl-matrix@3.4.3@gl-matrix/esm/vec2.js","webpack://G2Plot/./src/plots/column/adaptor.ts","webpack://G2Plot/./src/plots/tiny-line/constants.ts","webpack://G2Plot/./src/plots/venn/constant.ts","webpack://G2Plot/./src/utils/hierarchy/util.ts","webpack://G2Plot/./src/core/locale.ts","webpack://G2Plot/./src/utils/data.ts","webpack://G2Plot/./src/plots/tiny-area/adaptor.ts","webpack://G2Plot/./src/interactions/actions/drill-down.ts","webpack://G2Plot/./src/plots/gauge/constants.ts","webpack://G2Plot/./node_modules/_gl-matrix@3.4.3@gl-matrix/esm/vec3.js","webpack://G2Plot/../../src/util/event.ts","webpack://G2Plot/./node_modules/_detect-browser@5.3.0@detect-browser/es/index.js","webpack://G2Plot/./src/utils/number.ts","webpack://G2Plot/./src/plots/line/adaptor.ts","webpack://G2Plot/./src/utils/pattern/util.ts","webpack://G2Plot/./src/plots/dual-axes/types.ts","webpack://G2Plot/./src/plots/dual-axes/util/option.ts","webpack://G2Plot/./src/plots/progress/adaptor.ts","webpack://G2Plot/./src/plots/progress/utils.ts","webpack://G2Plot/./src/plots/box/constant.ts","webpack://G2Plot/./src/plots/venn/interactions/util.ts","webpack://G2Plot/./src/plots/stock/constant.ts","webpack://G2Plot/./src/plots/funnel/geometries/common.ts","webpack://G2Plot/./src/plots/sunburst/constant.ts","webpack://G2Plot/./src/interactions/drill-down.ts","webpack://G2Plot/./src/plots/waterfall/constant.ts","webpack://G2Plot/./src/plots/sankey/constant.ts","webpack://G2Plot/./src/plots/mix/index.ts","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/cluster.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/count.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/iterator.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/index.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/each.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/eachAfter.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/eachBefore.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/find.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/sum.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/sort.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/path.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/ancestors.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/descendants.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/leaves.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/hierarchy/links.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/pack/enclose.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/array.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/pack/siblings.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/accessors.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/constant.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/pack/index.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/treemap/round.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/treemap/dice.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/partition.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/stratify.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/tree.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/treemap/slice.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/treemap/squarify.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/treemap/index.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/treemap/binary.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/treemap/sliceDice.js","webpack://G2Plot/./node_modules/_d3-hierarchy@2.0.0@d3-hierarchy/src/treemap/resquarify.js","webpack://G2Plot/./src/utils/pick.ts","webpack://G2Plot/./src/utils/invariant.ts","webpack://G2Plot/./src/utils/view.ts","webpack://G2Plot/./src/utils/deep-assign.ts","webpack://G2Plot/./src/utils/statistic.ts","webpack://G2Plot/./src/core/global.ts","webpack://G2Plot/./node_modules/_size-sensor@1.0.1@size-sensor/lib/debounce.js","webpack://G2Plot/./node_modules/_size-sensor@1.0.1@size-sensor/lib/constant.js","webpack://G2Plot/./src/plots/line/index.ts","webpack://G2Plot/./src/utils/pattern/index.ts","webpack://G2Plot/./src/adaptor/geometries/point.ts","webpack://G2Plot/./src/adaptor/geometries/polygon.ts","webpack://G2Plot/./src/plots/area/index.ts","webpack://G2Plot/./src/plots/area/adaptor.ts","webpack://G2Plot/./src/plots/column/index.ts","webpack://G2Plot/./src/utils/conversion.ts","webpack://G2Plot/./src/adaptor/brush.ts","webpack://G2Plot/./src/interactions/brush.ts","webpack://G2Plot/./src/plots/bar/index.ts","webpack://G2Plot/./src/plots/bar/adaptor.ts","webpack://G2Plot/./src/plots/pie/index.ts","webpack://G2Plot/./src/plots/pie/adaptor.ts","webpack://G2Plot/./src/plots/pie/contants.ts","webpack://G2Plot/./src/plots/pie/utils.ts","webpack://G2Plot/./src/plots/pie/interactions/index.ts","webpack://G2Plot/./src/utils/matrix.ts","webpack://G2Plot/./src/plots/word-cloud/utils.ts","webpack://G2Plot/./src/plots/word-cloud/constant.ts","webpack://G2Plot/./src/plots/scatter/index.ts","webpack://G2Plot/./src/plots/scatter/adaptor.ts","webpack://G2Plot/./src/interactions/drag-move.ts","webpack://G2Plot/./src/plots/dual-axes/constant.ts","webpack://G2Plot/./src/plots/tiny-line/index.ts","webpack://G2Plot/./src/plots/tiny-line/adaptor.ts","webpack://G2Plot/./src/plots/tiny-column/index.ts","webpack://G2Plot/./src/plots/tiny-column/adaptor.ts","webpack://G2Plot/./src/plots/tiny-area/index.ts","webpack://G2Plot/./src/plots/histogram/index.ts","webpack://G2Plot/./src/utils/transform/histogram.ts","webpack://G2Plot/./src/plots/histogram/adaptor.ts","webpack://G2Plot/./src/plots/histogram/constant.ts","webpack://G2Plot/./src/plots/progress/index.ts","webpack://G2Plot/./src/plots/progress/constants.ts","webpack://G2Plot/./src/plots/ring-progress/index.ts","webpack://G2Plot/./src/plots/ring-progress/adaptor.ts","webpack://G2Plot/./src/plots/box/utils.ts","webpack://G2Plot/./src/plots/violin/utils.ts","webpack://G2Plot/./src/plots/violin/constant.ts","webpack://G2Plot/./node_modules/_fmin@0.0.2@fmin/build/fmin.js","webpack://G2Plot/./src/plots/venn/layout/circleintersection.ts","webpack://G2Plot/./src/plots/stock/index.ts","webpack://G2Plot/./src/plots/stock/adaptor.ts","webpack://G2Plot/./src/plots/stock/utils.ts","webpack://G2Plot/./src/plots/funnel/index.ts","webpack://G2Plot/./src/plots/funnel/adaptor.ts","webpack://G2Plot/./src/plots/funnel/geometries/basic.ts","webpack://G2Plot/./src/plots/liquid/utils.ts","webpack://G2Plot/./src/plots/liquid/shapes/liquid.ts","webpack://G2Plot/./src/plots/bullet/utils.ts","webpack://G2Plot/./src/utils/hierarchy/treemap.ts","webpack://G2Plot/./src/plots/gauge/index.ts","webpack://G2Plot/./src/plots/gauge/adaptor.ts","webpack://G2Plot/./src/plots/gauge/utils.ts","webpack://G2Plot/./src/plots/waterfall/utils.ts","webpack://G2Plot/./src/plots/bidirectional-bar/constant.ts","webpack://G2Plot/./src/plots/bidirectional-bar/utils.ts","webpack://G2Plot/./src/plots/treemap/utils.ts","webpack://G2Plot/./src/plots/sankey/helper.ts","webpack://G2Plot/./src/plots/sankey/sankey/align.ts","webpack://G2Plot/./src/plots/chord/constant.ts","webpack://G2Plot/./src/plots/circle-packing/constant.ts","webpack://G2Plot/./src/plots/mix/utils.ts","webpack://G2Plot/../../src/util/graphic.ts","webpack://G2Plot/../../src/annotation/line.ts","webpack://G2Plot/../../src/annotation/text.ts","webpack://G2Plot/../../src/annotation/arc.ts","webpack://G2Plot/../../src/annotation/region.ts","webpack://G2Plot/../../src/annotation/image.ts","webpack://G2Plot/../../src/annotation/data-marker.ts","webpack://G2Plot/../../src/annotation/data-region.ts","webpack://G2Plot/../../src/annotation/region-filter.ts","webpack://G2Plot/../../src/annotation/shape.ts","webpack://G2Plot/../../src/annotation/html.ts","webpack://G2Plot/../../src/axis/base.ts","webpack://G2Plot/../../../src/axis/overlap/auto-ellipsis.ts","webpack://G2Plot/../../../src/axis/overlap/auto-hide.ts","webpack://G2Plot/../../../src/axis/overlap/auto-rotate.ts","webpack://G2Plot/../../src/axis/line.ts","webpack://G2Plot/../../src/axis/circle.ts","webpack://G2Plot/../../src/crosshair/base.ts","webpack://G2Plot/../../src/crosshair/line.ts","webpack://G2Plot/../../src/crosshair/circle.ts","webpack://G2Plot/../../src/crosshair/html-theme.ts","webpack://G2Plot/../../src/crosshair/css-const.ts","webpack://G2Plot/../../src/crosshair/html.ts","webpack://G2Plot/../../src/trend/constant.ts","webpack://G2Plot/../../src/trend/path.ts","webpack://G2Plot/../../src/trend/trend.ts","webpack://G2Plot/../../src/slider/handler.ts","webpack://G2Plot/../../src/slider/constant.ts","webpack://G2Plot/../../src/slider/slider.ts","webpack://G2Plot/../../src/grid/base.ts","webpack://G2Plot/../../src/grid/circle.ts","webpack://G2Plot/../../src/grid/line.ts","webpack://G2Plot/../../src/legend/base.ts","webpack://G2Plot/../../src/legend/category.ts","webpack://G2Plot/../../src/legend/continuous.ts","webpack://G2Plot/../../src/tooltip/html-theme.ts","webpack://G2Plot/../../src/tooltip/html.ts","webpack://G2Plot/../../src/util/align.ts","webpack://G2Plot/../../src/scrollbar/scrollbar.ts","webpack://G2Plot/../../src/adjusts/dodge.ts","webpack://G2Plot/../../src/adjusts/jitter.ts","webpack://G2Plot/../../src/adjusts/stack.ts","webpack://G2Plot/../../src/adjusts/symmetric.ts","webpack://G2Plot/./src/index.ts","webpack://G2Plot/./node_modules/_process@0.11.10@process/browser.js","webpack://G2Plot/./src/utils/flow.ts","webpack://G2Plot/./src/utils/template.ts","webpack://G2Plot/./src/utils/dom.ts","webpack://G2Plot/./src/utils/geometry.ts","webpack://G2Plot/./src/utils/label.ts","webpack://G2Plot/./src/utils/path.ts","webpack://G2Plot/./src/utils/kebab-case.ts","webpack://G2Plot/./src/utils/measure-text.ts","webpack://G2Plot/./src/utils/context.ts","webpack://G2Plot/./src/locales/en_US.ts","webpack://G2Plot/./src/locales/zh_CN.ts","webpack://G2Plot/./node_modules/_size-sensor@1.0.1@size-sensor/lib/index.js","webpack://G2Plot/./node_modules/_size-sensor@1.0.1@size-sensor/lib/sensorPool.js","webpack://G2Plot/./node_modules/_size-sensor@1.0.1@size-sensor/lib/id.js","webpack://G2Plot/./node_modules/_size-sensor@1.0.1@size-sensor/lib/sensors/index.js","webpack://G2Plot/./node_modules/_size-sensor@1.0.1@size-sensor/lib/sensors/object.js","webpack://G2Plot/./node_modules/_size-sensor@1.0.1@size-sensor/lib/sensors/resizeObserver.js","webpack://G2Plot/./src/types/index.ts","webpack://G2Plot/./src/utils/pattern/dot.ts","webpack://G2Plot/./src/utils/pattern/line.ts","webpack://G2Plot/./src/utils/pattern/square.ts","webpack://G2Plot/./src/adaptor/geometries/area.ts","webpack://G2Plot/./src/adaptor/geometries/line.ts","webpack://G2Plot/./src/adaptor/geometries/interval.ts","webpack://G2Plot/./src/adaptor/geometries/edge.ts","webpack://G2Plot/./src/adaptor/geometries/schema.ts","webpack://G2Plot/./src/adaptor/geometries/violin.ts","webpack://G2Plot/./src/plots/line/constants.ts","webpack://G2Plot/./src/plots/line/interactions/index.ts","webpack://G2Plot/./src/plots/line/interactions/marker-active.ts","webpack://G2Plot/./src/plots/area/constants.ts","webpack://G2Plot/./src/adaptor/conversion-tag.ts","webpack://G2Plot/./src/adaptor/connected-area.ts","webpack://G2Plot/./src/interactions/actions/reset-button.ts","webpack://G2Plot/./src/plots/column/constants.ts","webpack://G2Plot/./src/plots/bar/constants.ts","webpack://G2Plot/./src/plots/pie/interactions/actions/legend-active.ts","webpack://G2Plot/./src/plots/pie/interactions/actions/statistic-active.ts","webpack://G2Plot/./src/plots/pie/interactions/util.ts","webpack://G2Plot/./src/plots/rose/index.ts","webpack://G2Plot/./src/plots/rose/adaptor.ts","webpack://G2Plot/./src/plots/rose/constant.ts","webpack://G2Plot/./src/plots/word-cloud/index.ts","webpack://G2Plot/./src/plots/word-cloud/adaptor.ts","webpack://G2Plot/./src/utils/transform/word-cloud.ts","webpack://G2Plot/./src/plots/word-cloud/shapes/word-cloud.ts","webpack://G2Plot/./src/plots/scatter/util.ts","webpack://G2Plot/./node_modules/_d3-regression@1.3.10@d3-regression/dist/d3-regression.esm.js","webpack://G2Plot/./src/plots/scatter/constant.ts","webpack://G2Plot/./src/plots/scatter/interactions/index.ts","webpack://G2Plot/./src/plots/radar/index.ts","webpack://G2Plot/./src/plots/radar/adaptor.ts","webpack://G2Plot/./src/plots/radar/interactions/index.ts","webpack://G2Plot/./src/plots/radar/interactions/radar-tooltip-action.ts","webpack://G2Plot/./src/plots/dual-axes/index.ts","webpack://G2Plot/./src/plots/dual-axes/adaptor.ts","webpack://G2Plot/./src/plots/dual-axes/util/legend.ts","webpack://G2Plot/./src/plots/dual-axes/util/geometry.ts","webpack://G2Plot/./src/plots/dual-axes/util/render-sider.ts","webpack://G2Plot/./src/plots/tiny-column/constants.ts","webpack://G2Plot/./src/plots/tiny-area/constants.ts","webpack://G2Plot/./src/plots/ring-progress/constants.ts","webpack://G2Plot/./src/plots/heatmap/index.ts","webpack://G2Plot/./src/plots/heatmap/adaptor.ts","webpack://G2Plot/./src/plots/heatmap/constant.ts","webpack://G2Plot/./src/plots/heatmap/shapes/circle.ts","webpack://G2Plot/./src/plots/heatmap/shapes/square.ts","webpack://G2Plot/./src/plots/box/index.ts","webpack://G2Plot/./src/plots/box/adaptor.ts","webpack://G2Plot/./src/plots/violin/index.ts","webpack://G2Plot/./src/plots/violin/adaptor.ts","webpack://G2Plot/./node_modules/_pdfast@0.2.0@pdfast/src/index.js","webpack://G2Plot/./node_modules/_pdfast@0.2.0@pdfast/src/helper.js","webpack://G2Plot/./src/utils/transform/quantile.ts","webpack://G2Plot/./src/plots/venn/index.ts","webpack://G2Plot/./src/plots/venn/types.ts","webpack://G2Plot/./src/plots/venn/adaptor.ts","webpack://G2Plot/./src/plots/venn/utils.ts","webpack://G2Plot/./src/utils/color/blend.ts","webpack://G2Plot/./src/plots/venn/layout/layout.ts","webpack://G2Plot/./src/plots/venn/layout/diagram.ts","webpack://G2Plot/./src/plots/venn/shape.ts","webpack://G2Plot/./src/plots/venn/label.ts","webpack://G2Plot/./src/plots/venn/interactions/index.ts","webpack://G2Plot/./src/plots/venn/interactions/actions/active.ts","webpack://G2Plot/./src/plots/venn/interactions/actions/highlight.ts","webpack://G2Plot/./src/plots/venn/interactions/actions/selected.ts","webpack://G2Plot/./src/plots/funnel/geometries/compare.ts","webpack://G2Plot/./src/plots/funnel/geometries/facet.ts","webpack://G2Plot/./src/plots/funnel/geometries/dynamic-height.ts","webpack://G2Plot/./src/plots/liquid/index.ts","webpack://G2Plot/./src/plots/liquid/adaptor.ts","webpack://G2Plot/./src/plots/liquid/constants.ts","webpack://G2Plot/./src/plots/bullet/index.ts","webpack://G2Plot/./src/plots/bullet/adaptor.ts","webpack://G2Plot/./src/plots/bullet/constant.ts","webpack://G2Plot/./src/plots/sunburst/index.ts","webpack://G2Plot/./src/plots/sunburst/adaptor.ts","webpack://G2Plot/./src/plots/sunburst/utils.ts","webpack://G2Plot/./src/utils/hierarchy/partition.ts","webpack://G2Plot/./src/plots/sunburst/interactions/index.ts","webpack://G2Plot/./src/plots/gauge/types.ts","webpack://G2Plot/./src/plots/gauge/shapes/indicator.ts","webpack://G2Plot/./src/plots/gauge/shapes/meter-gauge.ts","webpack://G2Plot/./src/plots/waterfall/index.ts","webpack://G2Plot/./src/plots/waterfall/adaptor.ts","webpack://G2Plot/./src/plots/waterfall/shape.ts","webpack://G2Plot/./src/plots/radial-bar/index.ts","webpack://G2Plot/./src/plots/radial-bar/adaptor.ts","webpack://G2Plot/./src/plots/radial-bar/utils.ts","webpack://G2Plot/./src/plots/radial-bar/constant.ts","webpack://G2Plot/./src/plots/bidirectional-bar/index.ts","webpack://G2Plot/./src/plots/bidirectional-bar/adaptor.ts","webpack://G2Plot/./src/plots/treemap/index.ts","webpack://G2Plot/./src/plots/treemap/adaptor.ts","webpack://G2Plot/./src/plots/treemap/constant.ts","webpack://G2Plot/./src/plots/treemap/interactions/index.ts","webpack://G2Plot/./src/plots/sankey/index.ts","webpack://G2Plot/./src/plots/sankey/adaptor.ts","webpack://G2Plot/./src/plots/sankey/layout.ts","webpack://G2Plot/./src/plots/sankey/sankey/index.ts","webpack://G2Plot/./src/plots/sankey/sankey/sankey.ts","webpack://G2Plot/./src/plots/sankey/sankey/helper.ts","webpack://G2Plot/./src/plots/sankey/circle.ts","webpack://G2Plot/./src/plots/sankey/interactions/index.ts","webpack://G2Plot/./src/plots/sankey/interactions/node-draggable.ts","webpack://G2Plot/./src/plots/sankey/interactions/actions/node-drag.ts","webpack://G2Plot/./src/plots/chord/index.ts","webpack://G2Plot/./src/plots/chord/adaptor.ts","webpack://G2Plot/./src/utils/transform/chord.ts","webpack://G2Plot/./src/plots/circle-packing/index.ts","webpack://G2Plot/./src/plots/circle-packing/adaptor.ts","webpack://G2Plot/./src/plots/circle-packing/utils.ts","webpack://G2Plot/./src/utils/hierarchy/pack.ts","webpack://G2Plot/./src/plots/circle-packing/interactions/index.ts","webpack://G2Plot/./src/plugin/index.ts","webpack://G2Plot/./src/plots/mix/adaptor.ts","webpack://G2Plot/./src/plots/mix/interactions/index.ts","webpack://G2Plot/./src/plots/mix/interactions/association.ts","webpack://G2Plot/./src/plots/mix/interactions/utils.ts","webpack://G2Plot/./src/plots/facet/index.ts","webpack://G2Plot/./src/plots/facet/adaptor.ts","webpack://G2Plot/./src/plots/facet/utils.ts","webpack://G2Plot/./src/plots/facet/constant.ts","webpack://G2Plot/./src/lab.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","isArrayLike","isFinite","length","contains","arr","indexOf","filter","func","result","index","push","difference","values","toString","isType","type","isNil","Array","isArray","each","elements","len","isObject","k","keys","obj","isFunction","isMatch","attrs","_keys","isObjectLike","isPlainObject","getPrototypeOf","proto","find","predicate","_predicate","a","findIndex","fromIndex","firstValue","data","rst","flatten","concat","flattenDeep","reduce","prev","curr","Math","max","min","getRange","filterValues","v","isNaN","tmp","getMax","getMin","arrPrototype","splice","pull","pullAt","indexes","last","previous","fn","init","remove","str","sortBy","comparer","b","keys_1","isString","prop","sort","uniq","cache","Map","item","has","set","union","sources","apply","tmpMap","j","val","head","startsWith","e","endsWith","every","some","groupBy","condition","groupToMap","paramscondition_1","replace","split","row","unique","groups","array","getWrapBehavior","action","wrapBehavior","method","numColorCache","numberToColor","num","color","parseRadius","radius","r1","r2","r3","r4","clamp","fixedBase","base","round","substr","parseFloat","toFixed","isNumber","isDecimal","isEven","isInteger","Number","isNegative","isNumberEqual","precision","abs","isOdd","isPositive","maxItem","Infinity","minItem","mod","DEGREE","PI","toDegree","radian","parseInt","RADIAN","toRadian","degree","lowerCase","toLowerCase","lowerFirst","charAt","substring","substitute","match","slice","undefined","upperCase","toUpperCase","upperFirst","getType","isArguments","isBoolean","isDate","isError","isNull","objectProto","isPrototype","Ctor","constructor","isRegExp","isUndefined","isElement","Element","HTMLDocument","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","f","setTimeout","cancelAnimationFrame","handler","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","_mix","dist","mix","src1","src2","src3","augment","args","clone","debounce","wait","immediate","timeout","context","arguments","later","callNow","resolver","TypeError","memoized","_deepMix","src","level","maxLevel","deepMix","extend","subclass","superclass","overrides","staticOverrides","Tmp","superObj","isEmpty","size","isEqual","other","valueKeys","otherKeys","map","identity","forEach","defaultValue","keyArr","path","idx","includes","options","leading","Date","now","throttled","remaining","trailing","cancel","prefix","isArraylike","ctx","memoize","text","font","fontFamily","fontWeight","fontStyle","fontVariant","document","createElement","getContext","fontSize","join","measureText","width","maxWidth","currentText","currentWidth","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","def","extendStatics","setPrototypeOf","__proto__","__extends","String","__","this","__assign","assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","y","g","_","label","sent","trys","ops","verb","iterator","op","pop","__createBinding","k2","writable","configurable","__exportStar","__values","__read","ar","error","__spread","__spreadArrays","il","jl","__spreadArray","to","from","pack","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","__importDefault","default","__classPrivateFieldGet","receiver","state","kind","__classPrivateFieldSet","__classPrivateFieldIn","flow","pick","template","log","invariant","LEVEL","getContainerSize","tslib_1","findViewById","getViews","getSiblingViews","transformLabel","getSplinePath","deepAssign","kebabCase","renderStatistic","renderGaugeStatistic","isBetween","isRealNumber","leftTranslate","out","transMat","mat3","fromTranslation","multiply","leftRotate","rad","rotateMat","fromRotation","leftScale","scaleMat","fromScaling","transform","actions","a1","matrix","direction","v1","v2","angleTo","direct","ang","vec2","angle","angleLargeThanPI","vertical","flag","formatPadding","padding","top","left","right","bottom","clearDom","container","children","childNodes","removeChild","hasClass","cName","className","RegExp","regionToBBox","region","end","minX","start","x","minY","maxX","maxY","height","pointsToBBox","points","xs","point","ys","createBBox","getValueByPercent","percent","getCirclePoint","center","cos","sin","near","EPSILON","getBBoxWithClip","element","bbox","box1","box2","clipShape","getClip","clipBBox","getBBox","isGroup","minX_1","maxX_1","minY_1","maxY_1","getChildren","child","box","leftTop","applyToMatrix","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","updateClip","newElement","newClipShape","clipCfg","attr","setClip","toPx","number","getTextPoint","position","offset","p1","p2","dx","dy","offsetPercent","sqrt","textColor","activeTextColor","uncheckedColor","lineColor","regionColor","verticalAxisRotate","horizontalAxisRotate","descriptionIconStroke","descriptionIconFill","_super","_this","getElementById","utils_1","getDefaultOptions","createG2","bindEvents","Plot","renderer","xAxis","nice","autoRotate","autoHide","cfg","minGap","yAxis","animation","defaultInteractions","chart","g2_1","autoFit","getChartSize","localRefresh","setAttribute","chartSize","on","emit","clear","animate","views","execAdaptor","render","bindSizeSensor","updateOption","status","util_1","ele","getData","setState","stateObjects","states","getStates","geometry","update","changeSize","annotations","view","incoming","controller","getController","current","getComponents","co","extra","annotation","id","unbindSizeSensor","destroy","off","removeAttribute","adaptor","getSchemaAdaptor","appendPadding","forceFit","unbind","_a","size_sensor_1","triggerResize","event_emitter_1","LAYER","DIRECTION","COMPONENT_TYPE","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","GROUP_Z_INDEX","GROUP_ATTRS","ENGINES","getEngine","G","Error","registerEngine","engine","w","h","style","getComputedStyle","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","getElementSize","visible","Base","changeVisible","destroyed","EE","toScaleString","scale","invert","_parseCfg","Attribute","params","param","_toOriginParam","scales","callback","steps","floor","leftPercent","names","field","_getAttributeValue","_b","_c","_d","ret","defaultCallback","isCategory","linear","translate","getLinearValue","isLinear","gradient","colorUtil","Color","Position","scaleX","scaleY","xi","yi","Shape","ATTRIBUTE_MAP","getAttribute","registerAttribute","ctor","Opacity","Size","isTransposed","originalMatrix","Coordinate","initial","dim","isReflect","tag","vector","vec3","transformMat3","inverted","convertPoint","applyMatrix","invertMatrix","invertPoint","ext","isReflectX","isReflectY","s1","s2","Cartesian","convertDim","invertDim","endAngle","innerRadius","startAngle","Helix","maxRadius","thi","newY","subtract","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","getCenter","vPoint","vStart3","vStart2","xPercent","yPercent","COORDINATE_MAP","registerCoordinate","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","Tooltip","uniqueValues","Set","mid","polarToCartesian","centerX","centerY","angleInRadian","getSectorPath","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","middlePoint","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","getArcPath","getAngle","shapeModel","coordinate","getPointsBox","coordStartAngle","diffAngle","getReplaceAttrs","sourceShape","targetShape","originAttrs","newAttrs","omit","sourceArray","targetArray","sourceArray_1_1","source","BBox","subBBox","TOP","TOP_LEFT","TOP_RIGHT","fromRange","RIGHT","RIGHT_TOP","RIGHT_BOTTOM","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","LEFT_TOP","LEFT_BOTTOM","gap","getXDimensionLength","isPolar","getRadius","convert","pow","getDistanceToCenter","isPointInCoordinate","getAngleByPoint","atan2","getCoordinateClipCfg","margin","endState","getWidth","getHeight","endAngle_1","center_1","radius_1","startState","startAngle_1","ratio","diff","dateRegex","inferScaleType","scaleDef","attrType","geometryType","createScaleByField","validData","getScale","valuesOfKey","test","getDefaultType","getName","alias","getDefaultCategoryScaleRange","theme","range","count","isFullCircle","getAxisRegion","isRect","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","isVertical","getAxisFactorByRegion","getAxisThemeCfg","axisTheme","getAxisTitleOptions","axisOptions","getCircleAxisCenterRadius","startVector","normalVector","getAxisOption","axes","getAxisDirection","axisOption","getAxisTitleText","facets","getDefaultCfg","Facet","createContainer","generateFacets","renderViews","clearFacetViews","facet","createView","beforeEachView","eachView","afterEachView","getLayer","FORE","addGroup","createFacetViews","facetToView","removeView","viewBBox","spacing","rows","cols","xIndex","yIndex","parseSpacing","xSpacing","ySpacing","xRatio","yRatio","showTitle","fields","fill","getTheme","getOptions","coordinateOption","geometries","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","conditions","datum","Facets","getFacet","registerFacet","Action","addAction","applyCfg","removeAction","CallbackAction","ActionCache","getActionClass","actionName","actionOption","registerAction","ActionClass","createCallbackAction","_convertArr","coord","_convertArcPath","catmullRom2bezier","crp","z","constraint","isLoop","pointList","cp1","cp2","controlPointList","smooth","prevPoint","nextPoint","nextCp0","cp0","cps","hasConstraint","sub","d0","distance","d1","sum","add","smoothBezier","getLinePath","isInCircle","length_1","_points2path","constaint","first","prePoint","splinePath","unshift","convertPolarPath","pre","cur","transposed","subPath","curPoint","xDim","angleRange","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","getMaskBBox","tolerance","maskBBox","event","getCanvasBBox","getCurrentElement","getDelegationObject","delegateObject","isElementChange","gEvent","fromShape","toShape","isList","component","isSlider","isMask","getMaskedElements","maskPath","maskShape","getMaskPath","getElements","pathToPoints","el","shapePoints","shape","shapeBBox","isPolygonsIntersect","getIntersectElements","getSiblingMaskElements","sibling","getSiblingPoint","geom","subView","getElementsByState","stateName","getElementsBy","hasState","getElementValue","record","getModel","seg","isInBox","getSilbings","parent","siblings","normalPoint","getCoordinate","point2Normalize","isInRecords","records","xFiled","yField","isIn","getScaleByField","cacheMap","Context","HTMLElement","getCanvas","getPointByClient","clientX","clientY","getCurrentPoint","isPointInPlot","getCurrentShape","components","Interaction","initEvents","clearEvents","parseAction","actionStr","arg","getAction","createAction","methodName","executeAction","actionObject","STEP_NAMES","GrammarInteraction","initContext","callbackCaches","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","InteractionContext","subSteps","actionArr","argArr_1","currentStepName","isAllowStep","getKey","once","emitCaches","isEnable","enterStep","actionCallback","isAllowExecute","afterExecute","throttle","eventName","nameArr","addEventListener","removeEventListener","Interactions","getInteraction","registerInteraction","interaction","createThemeByStyleSheet","styleSheet","shapeStyles","pointFillColor","pointSize","stroke","pointBorderColor","lineWidth","pointBorder","fillOpacity","pointFillOpacity","active","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","inactive","pointInactiveFillOpacity","strokeOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","area","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","interval","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","line","lineBorderColor","lineBorder","lineBorderOpacity","lineAppendWidth","lineCap","lineJoin","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","title","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","lineHeight","axisTitleTextLineHeight","textBaseline","iconStyle","axisDescriptionIconFillColor","autoEllipsis","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","grid","axisGridBorderColor","axisGridBorder","lineDash","axisGridLineDash","alignTick","tickLine","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","subTickLine","createAxisStyles","legendStyles","marker","symbol","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","itemName","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","textAlign","itemStates","nameStyle","opacity","unchecked","markerStyle","flipPage","pageNavigator","legendPageNavigatorMarkerSize","inactiveFill","legendPageNavigatorMarkerInactiveFillColor","inactiveOpacity","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","maxItemWidth","itemSpacing","legendItemSpacing","itemMarginBottom","legendItemMarginBottom","legendPadding","createLegendStyles","background","backgroundColor","defaultColor","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","columnWidthRatio","maxColumnWidth","minColumnWidth","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","sequenceColors","paletteSequence","shapes","sizes","rect","middleAngle","tick","funnel","pyramid","dot","dash","hv","vh","hvh","vhv","polygon","circle","square","bowtie","diamond","hexagon","triangle","cross","plus","hyphen","schema","candle","edge","arc","violin","hollow","axis","common","verticalLimitLength","legend","layout","legendVerticalPadding","legendHorizontalPadding","continuous","track","rail","sliderRailHeight","defaultLength","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","align","formatter","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","slidable","tooltip","showContent","follow","showCrosshairs","showMarkers","shared","enterable","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","crosshairs","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","textBackground","domStyles","TOOLTIP_CSS_CONST","CONTAINER_CLASS","visibility","zIndex","transition","tooltipContainerFillColor","tooltipContainerFillOpacity","boxShadow","tooltipContainerShadow","borderRadius","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","TITLE_CLASS","marginBottom","marginTop","LIST_CLASS","listStyleType","LIST_ITEM_CLASS","marginLeft","marginRight","MARKER_CLASS","display","VALUE_CLASS","float","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","image","dataMarker","annotationDataMarkerLineLength","autoAdjust","dataRegion","slider","backgroundStyle","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","foregroundStyle","cSliderForegroundFillColor","cSliderForegroundFillOpacity","handlerStyle","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","highLightFill","cSliderHandlerHighlightFillColor","textStyle","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbar","trackColor","scrollbarTrackFillColor","thumbColor","scrollbarThumbFillColor","hover","scrollbarThumbHighlightFillColor","labels","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","token","paletteSemanticYellow","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","createTheme","themeCfg","styleSheetCfg","themeObject","Themes","registerTheme","snapEqual","value1","value2","filterYValue","yScale","getYScale","yValue","originData","getXDistance","scaleValues","numericValue","getTooltipValueScale","attributes","attribute","getAttributesForLegend","attributes_1_1","tmpScale","scaleDefs","xScale","getXScale","findDataByPoint","xField","xValue","rangeMax","rangeMin","getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","getTooltipItems","showNil","tooltipTitle","getFields","titleField","titleScale","getText","getTooltipTitle","tooltipOption","items","addItem","itemValue","mappingData","callbackParams","itemCfg","fields_1_1","valueScale","eachValue","getTooltipValue","nameScale","groupScales","getGroupScales","getTooltipName","getTooltipItemsByFindData","tooltipCfg","dataArray","dataArray_1_1","elementId","getElementId","elementsMap","getTooltipItemsByHitShape","getShape","findItemsFromView","reversed","geometries_1_1","tooltipItems","reverse","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","registerComponentController","plugin","option","wrapperOption","CoordinateController","isTheta","props","C","hasAction","transpose","execActions","resetMatrix","sx","sy","includeActions","Event","GEvent","originalEvent","defaultLayout","syncScales","ScalePool","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","scaleKeys","syncKey","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","isContinuous","change","sm","newScale","syncScale","getSyncKey","removeFromSyncScales","scaleMeta","delete","sync","PaddingCal","getPadding","calculatePadding","isAutoPadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","getLayoutBBox","exceed","componentPadding","componentBBox","expand","inc","defaultSyncViewPadding","PC","syncPadding","instance","autoPadding","evt","createViewEvent","doPlotEvent","uniqueId","canvas","backgroundGroup","middleGroup","foregroundGroup","limitInPlot","syncViewPadding","View","layoutFunc","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","BEFORE_RENDER","fromData","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","isDataChanged","isCoordinateChanged","labelsContainer","controllers","createdScaleKeys","getRootView","scalePool","deleteScale","AFTER_CLEAR","BEFORE_DESTROY","interactions","draw","console","warn","filters","legendOption","scaleOption","coordinateCfg","coordinateController","facetInstance","coordinateBBox","opt","existInteraction","interaciton","createInteraction","BEFORE_CHANGE_DATA","changeData","AFTER_CHANGE_DATA","sharedOptions","getOption","legends","removedView","yScales","dimType","defaultKey","getScaleKey","layer","BG","MID","getGroupAttributes","xScales","getScalesByDim","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","dataLen","snapRecords","getSnapRecords","curStart","curEnd","bl","tr","adjust","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","addShape","capture","toBack","adjustCoordinate","initComponents","shrink","syncViewPaddingFn","doLayout","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","createScale","doFilterData","createCoordinate","initGeometries","renderFacet","onDelegateEvents","onCanvasEvent","usedControllers","controllerName","currentInPlot","newEvent","TYPE","isPreMouseInPlot","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","filterData","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","getGroupFields","adjustCategoryScaleRange","xyScales","getYScales","scaleOptions","isIdentity","doAnimation","canvasRegion","_e","events","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","rest","geometry_1","registerGeometry","pixelRatio","supportCSSTransform","_f","wrapperElement","createDom","appendChild","Canvas","updateCanvasStyle","bindAutoFit","initDefaultInteractions","Chart","ariaOption","BEFORE_CHANGE_SIZE","AFTER_CHANGE_SIZE","aria","dom","unbindAutoFit","parentNode","modifyCSS","verticalAlign","onResize","Controller","includeOption","show","hide","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","isLocked","setCapture","guideGroup","reset","tooltipCrosshairsGroup","items_1_1","itemArr","itemArr_1_1","snapItem","items_2_1","aItem","yDistance","uniqItems","subItem","getContainer","getBoundingClientRect","isPointIn","processOption","processCustomContent","defaultCfg","currentCustomContent","customContent","content","getTooltipMarkersGroup","rootView","items_3_1","attrs_1","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","Line","textCfg","firstItem","getGuideGroup","toFront","childView","originalItems","customItems","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","appear","duration","easing","enter","leave","GEOMETRY_ANIMATE_CFG","delay","GEOMETRY_GROUP_APPEAR_ANIMATION","getDefaultAnimateCfg","elementName","animateType","animateCfg","doAnimate","parsedAnimateCfg","repeat","parseAnimateConfig","animateFunction","toAttrs","shapeFactory","offscreenGroup","elementIndex","model","shapeType","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getAnimateCfg","labelShape","statesStyle","stateStatus","sortZIndex","setZIndex","offscreenShape","eventObject","propagationDelegate","labelBBox","stateOption","defaultShapeType","stateTheme","shapeKey","getStatesStyle","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","name_1","BEFORE_DRAW_ANIMATE","GroupCtor","getGroupBase","clip","newClip","newChildren","name_2","getStateStyle","stopAnimate","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","getGeometryLabel","registerGeometryLabel","getGeometryLabelLayout","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","markerCfg","ShapeBase","parsePath","parsedPath","parsePathString","convertNormalPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeObj","getShapeFactory","isModelChange","currentModel","preModel","parseFields","keyItem","added","updated","removed","keyIncluded","sortable","intervalPadding","dodgePadding","zIndexReversed","useDeferredLabel","userTheme","Geometry","positionCfg","attributeOption","createAttrOption","adjustCfg","adjusts","adjustOption","styleFunc","styleOption","animateOption","secondParam","thirdParam","labelOption","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","defaultSize","beforeMappingData","beforeMapping","mapping","updateElements","lastElementsMap","canDoGroupAnimation","yMinPoint","getYMinValue","minYPoint","doGroupAppearAnimate","deferred","renderLabels","requestIdleCallback","geometryLabel","idFields","hasSorted","attrName","adjustType","shapeName","xVal","yVal","length_2","dodgeAdjust","getAdjust","dodgeBy","attributeType","eachOpt","length_3","uniqMap","groupFields","length_4","attributeName","mappingArray","xScale_1","xField_1","obj1","obj2","updateStackRange","normalizeValues","y0","mappingDatum","shapeCfg","getDrawCfg","customInfo","defaultStyle","getStyleCfg","generatePoints","nextPoints","mappingDataArray","keyDatum","keyIndex","finalKey","added_1_1","updated_1_1","currentShapeCfg","preShapeCfg","removed_1_1","coordinateType","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","groupData","beforeAdjust","subData","subLen","categoryScales_1_1","adjustData","xScale_2","xDimensionLength","groupNum","sizeAttr","adjustNames","dodgeRatio","getDefaultValue","reverseOrder","adjustCtor","getAdjustClass","dimValuesMap","adjustInstance","process","appendConditions","values_1_1","eachGroup","group","mergeArray","tmpMin","tmpMax","length_5","currentData","generateShapePoints","nextData","shapeAttr","createShapePointsCfg","getAttributeValues","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","BEFORE_RENDER_LABEL","getLabelType","GeometryLabelsCtor","labelsMap","labelsRenderer","shapesMap","elementLabels","labelGroup","labelGroupId","labelChildren","entries","AFTER_RENDER_LABEL","getMatrix","setMatrix","rotate","rotateRadian","getRotateMatrix","findLabelTextShape","getLabelBackgroundInfo","labelItem","boxPadding","rotation","checkShapeOverlap","dones","Labels","createOffscreenGroup","items_1","renderLabel","renderLabelLine","renderLabelBackground","adjustLabel","lastShapesMap","origin_1","currentAnimateCfg","currentShape","updateLabel","updateAnimateCfg","fromChild","toChild","getChildByIndex","getCount","deleteShape","shapeAppendCfg","isShape","layouts","all","labelShapes","geometryShapes","labelItems","labelLineCfg","labelContentShape","backgroundShape","findAll","offsetX","offsetY","avg","GeometryLabel","mapppingArray","labelCfgs","getLabelCfgs","labelCfg","labelContent","total","subIndex","getLabelPoint","getLabelAlign","getLabelItems","getLabelsRenderer","getGeometryShapes","defaultLabelCfg","getDefaultLabelCfg","labelPointCfg","getOffsetVector","factor","offsetPoint","getDimValue","isAvg","isFunnel","centroid","former","getPolygonCentroid","point1","point2","setLabelPosition","getLabelOffsetPoint","labelId","labelScales","callbackCfg","originText","getLabelText","originValues","getLabelId","getLabelOffset","labelTexts","subVal","actualOffset","getMappingValue","restArgs","MarkerSymbols","diffX","diffY","STROKES_SYMBOLS","setMarkerSymbol","getLegendLayout","getLegendItems","themeMarker","userMarker","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","getTicks","scaleValue","filterFieldData","getShapeMarker","isInPolar","adpatorMarkerStyle","getLegendThemeCfg","legendTheme","isValueEmpty","isYNil","getPathPoints","connectNulls","showSinglePoint","filtered","getViolinPath","getSmoothViolinPath","half","leftPoints","rightPoints","leftPath","rightPath","getStyle","isStroke","isFill","sizeName","getBackgroundRectStyle","splitPoints","eachY","LineSymbols","getLineMarker","getSinglePath","getPath","isStack","topPoints","bottomPoints","topPath","bottomPath","getRangePath","shapeAttrs","eachLinePoints","getShapeAttrs","LineShapeFactory","VERSION","Util","zoom","antvDark","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","createDarkStyleSheet","x1","y1","x2","y2","inBox","intersectRect","isSamePoint","regexLG","regexRG","regexPR","regexColorStop","addStop","addColorStop","parseStyle","gradientStr","exec","tanTheta","tan","tanTheta2","createLinearGradient","parseLineGradient","fx","fy","fr","colors","createRadialGradient","parseRadialGradient","patternStr","pattern","img","onload","createPattern","Image","crossOrigin","complete","parsePattern","CanvasPattern","vMag","vRatio","u","vAngle","acos","getArcParams","startPoint","rx","ry","xRotation","arcFlag","sweepFlag","xp","yp","lambda","cxp","cyp","cx","cy","theta","dTheta","_addDefaultArrow","isStart","arrowShape","Path","isArrowShape","rotateAtPoint","_addCustomizedArrow","endArrow","arrowAttrs","startArrow","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","globalAlpha","drawChildren","skipDraw","checkRefresh","refreshElements","parent_1","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","cacheCanvasBBox","isInView","drawPath","arcParamsCache","currentPoint","startMovePoint","beginPath","command","ArrowUtil","tangent","getStartTangent","getEndTangent","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","arcParams","ellipse","closePath","refreshElement","changeType","_cacheCanvasBBox","getRefreshRegion","region1","region2","cacheBox","validCache","validBBox","Group","save","createPath","restore","_afterDraw","xArr","yArr","viewRange","getViewRange","allowDraw","_applyClip","AbstractGroup","getDefaultAttrs","getHitLineWidth","getBBoxMethod","bboxMethod","halfLineWidth","isClipShape","canvasBBox","getCanvasViewBox","strokeAndFill","afterDrawPath","refX","refY","isInStrokeOrPath","AbstractShape","Circle","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","isCanvas","nodeName","ImageShape","_setImage","image_1","_afterLoading","originValue","onAttrChange","swidth","sheight","drawImage","inLine","halfWidth","LineUtil","pointToLine","setArrow","startArrowDistance","endArrowDistance","startArrowShape","endArrowShape","pointAt","Symbols","Marker","_resetParamsCache","_getR","path2Absolute","_getPath","isPointInPath","getOffScreenContext","dcmp","onSegment","isInPolygon","isHit","hasArc","cmd","extractPolygons","polygons","polylines","isPointInStroke","segments","segment","QuadUtil","pointDistance","CubicUtil","inArc","PathUtil","isInPolygons","_setPathArr","path2Segments","getSegments","getTotalLength","extractResutl","totalLength","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","pathToCurve","segmentT","segmentL","segmentN","tempLength","endPoint","startTangent","endTangent","inPolyline","isClose","Polygon","PolyLine","_resetCache","PolylineUtil","Rect","inRectWithRadius","inRect","Text","_assembleFont","_setText","assembleFont","textArr","subY","spaceingY","_getSpaceingY","getTextHeight","subText","fillText","strokeText","_drawTextArr","_drawText","getRefXY","totalMatrix","getTotalMatrix","multiplyVec2","invertFromMatrix","preTest","isAllowCapture","isClipped","devicePixelRatio","ceil","setDOMSize","getPixelRatio","_clearFrame","clearRect","curShape","isInShape","viewRegion","minXArr","minYArr","maxXArr","maxYArr","getMergedRegion","mergeView","drawFrame","clearAnimationFrame","_startDraw","_getRefreshRegion","clearChanged","_drawRegion","_drawAll","AbstractCanvas","version","SHAPE_TO_TAGS","polyline","SVG_ATTR_MAP","fillStyle","strokeStyle","lineDashOffset","miterLimit","class","preserveAspectRatio","createSVGElement","createElementNS","getParent","sortDom","sorter","childList","toArray","fragment","createDocumentFragment","setTransform","hasAttribute","addClip","parentChildren","clipPathEl","defsEl","targetIndex","node","nodeType","currentIndex","insertBefore","targetNext","children_1","innerHTML","targetAttrs","afterAttrsChange","canFill","canStroke","shadow","_setColor","trim","addGradient","addPattern","blur","addShadow","setShadow","elementFromPoint","isEqualNode","Dom","toDataURL","ImageData","putImageData","addArrow","getDefaultArrow","triangleDown","register","getAll","_assembleMarker","symbolsFactory","_formatPath","newValue","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","BASELINE_MAP","middle","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","browser","detect","baseline","textLen_1","arr_1","stops","Gradient","self","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","Shadow","_parseShadow","config","Arrow","_setDefaultPath","_setMarker","Clip","shapeEl","Pattern","Defs","defaultArrow","arrow","autoDraw","ev","srcElement","tagName","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","pointInfo","yItem","AreaShapeFactory","startOnZero","Area","EdgeShapeFactory","Heatmap","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","paletteCache","colorField","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","valueField","getShadowCanvasCtx","data_1_1","alpha","drawGrayScaleBlurredCircle","colored","getImageData","colorize","imageShape","getImageShape","ticks","shadowCanvas","colorAttr","pixels","palette","ColorUtil","rgb2arr","getRectPoints","yMin","yMax","xMin","xMax","getRectPath","isClosed","firstPoint","minLength","getBackgroundRectPath","p0","getFunnelPath","isPyramid","swap","backgroundCfg","backgroundPath","p3","_g","getRectWithCornerRadius","coor","getIntervalRectPath","xValues","sourceArr","findMinDistance","normalizedSize","wr","dodgeCount","mergeData","getDodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","Interval","SHAPES","drawPoints","pointPosition","points_1_1","PointShapeFactory","Point","subX","PolygonShapeFactory","temp","xOffset","yOffset","Schema","sizeArr","maxValue","normalizeSize","_size","isMin","isMax","ViolinShapeFactory","Violin","_sizeField","sizeField","getCPath","getQPath","getArcShapePath","arc1","arc2","getArcShapeWeightPath","c1","c2","getSmoothPath","getVHVPath","newStyle","getTickPoints","getInterpolateShapeAttrs","interpolatePoints","interpolatePoint","nextX","nextY","middleX","middleY","interpolateCallback","getInterpolatePoints","getInterpolatePath","parseValue","min1","max1","median","getBoxPoints","pointsArray","halfSize","getCandleYValues","sorted","targetLength","padValue","padEnd","sourceLength","getCandlePoints","yValues","getRectAttrs","IntervalLabel","dir","getLabelValueDir","point0","nextP0","nextP1","HALF_PI","PolarLabel","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getLabelRotate","labelAngle","asin","PieLabel","isLabelLimit","antiCollision","plotRange","invisible","overlapping","startY","endY","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","bitmap","xGap","yGap","Greedy","hasGap","adjustLabelPosition","getAxes","deg","getProjection","scalars","isProjectionOverlap","projection1","projection2","isValidBox","intersect","isIntersectRect","rect1Points","rect2Points","code","generateUtils","methods","eventData","JSON","parse","postMessage","worker","blob","Blob","BlobBuilder","append","getBlob","Worker","URL","createObjectURL","createWorker","layoutCode","preset","shouldInShape","textShape","textBBox","fromObject","shouldInShapeSingle","hasSome","compare","rightText","doScaleAnimate","endMatrix","scaledMatrix","transformShape","arcPath","getArcStartPoint","getArcInfo","arcPaths","firstArcPathCommand","lastArcPathCommand","firstIndex","lastIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","doShapeZoom","getFactTitleConfig","getAnglePoint","getDefaultTitleCfg","renderTitle","avgAngle","facetR","processAxis","getFieldValues","facetData","getFacetDataFilter","getRegion","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","reflect","columnValues","rowValues","drawLines","Tree","afterChartRender","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","levelFacets","getFacetsByLevel","levelFacets_1_1","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","drawLine","getMedian","getNormalizedValue","scaled","ANNOTATIONS_AFTER_RENDER","foregroundContainer","backgroundContainer","Annotation","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","NONE","ANNOTATION","xPos","yPos","parsePercentPosition","startIndex","viewData","startXValue","endXValue","parsePosition","topLeft","sp","ep","textPoint","textContent","getCoordinateBBox","start_5","end_5","lineLength","getRegionPoints","_h","apply_1","shapes_1","addShapes_1","elem","_j","render_1","restOptions","_k","html_1","html","getComponentContainer","createAnnotation","newCache","getGridThemeCfg","getLineGridItems","tickValue","preTick","currentTick","currentValue","middleValue","getCircleGridItems","preValue","showGrid","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","RADIUS","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","CIRCLE","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","verticalFactor","isAxisVertical","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","tl","br","getLegendOption","getDirection","layoutBBox","maxWidthRatio","maxHeightRatio","maxSize","getCategoryLegendSizeCfg","maxHeight","setLocation","cut","existCo","getComponentById","customCfg","getCategoryCfg","createCustomLegend","loopLegends","getContinuousCfg","createFieldLegend","getGeometries","doEach","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","mergeLegendCfg","custom","themePageNavigator","userPageNavigator","itemMarker","getCustomLegendItems","baseCfg","categoryCfg","vw","noop","changeViewData","onChangeFn","onValueChange","resetMeasure","Slider","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","minText","maxText","SliderComponent","trendCfg","getThemeOptions","ticks_1","dataSize","xTickCount","minIndex","maxIndex","xScaleValues","getValidScrollbarCfg","originalAnimate","getScrollRange","trackLen","thumbLen","Scrollbar","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","isHorizontal","thumbOffset","cnt","xScaleCfg","yScalesCfg","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","tickMethod","ScrollbarComponent","realConfig","categorySize","getScrollbarTheme","DEFAULT_REGION_PATH_STYLE","getItemsOfView","findItemsFromViewRecurisive","ActiveRegion","xValue_1","elements_1","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","regionPath","TooltipAction","lastTimeStamp","timeStamp","preLoc","location","curLoc","isCursorEntered","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","enable","setStateEnable","clearViewState","setElementState","getItem","ElementState","list","ignoreListItemStates","setElementsStateByItem","isMathItem","setStateByElement","isItemIgnore","event_1","setStateByComponent","ElementActive","StateAction","LinkByColor","nextElement","nextBBox","activeStyle","getLinkPath","getColorScale","getElementsByField","group_1","linkGroup","count_1","nextEl","addLinkShape","linkByElement","removeLink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","clearHighlight","setHighlightBy","EVENTS","STATUS_UNACTIVE","INACTIVE","STATUS_ACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","info","allowSetStateByElement","getAllowComponents","clearItemsState","componentNames","ignoreStates","ignoreItemStates","setItemsState","allowSetStateByItem","setItemState","getItems","triggerInfo","getTriggerListInfo","clearAllComponentsState","ListActive","ListHighlight","activeItems","getItemsByState","ListSelected","ListUnchecked","ListChecked","setCheckedBy","list_1","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","items_4_1","TIP_ID","ListRadio","containerId","MaskBase","maskAttrs","getMaskAttrs","draggable","emitEvent","starting","moving","createMask","updateMask","maskStyle","preMovePoint","CircleMask","RectMask","clampPoint","DimRect","normalStart","normalEnd","inPlot","PathMask","resize","SmoothPathMask","getSpline","CursorAction","cursor","setCursor","DataFilter","filterView","unCheckedItems","scale_1","names_1","getValue","min_1","max_1","getFilter","minValue","RangeFilter","dims","BEFORE_FILTER","normalCurrent","hasDim","reRender","FILTER","AFTER_FILTER","BEFORE_RESET","RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","ButtonAction","buttonCfg","getButtonCfg","buttonShape","buttonGroup","drawButton","resetPosition","Drag","dragStart","Move","startMatrix","isMoving","ScaleTranslate","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","MousewheelScroll","wheelDelta","scrollbarController","currentRatio","nextStart","deltaY","isWheelDown","correction","nextRatio","setValue","AxisDescription","description","descriptionTooltipStyle","isPointInView","isInPlot","preventDefault","CanvasEngine","SVGEngine","Edge","greedy","fillGap","totalHeight_1","lineHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","isRight","labelShapes_1_1","rPow2","dyPow2","innerPoint","itemX","itemY","maxTimes","dxdy","maxDelta","nt","times","accessedCache","spiralFill","memoKey","stringify","cb","onmessage","onmessageerror","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","translateX_1","textBox","DOT_WIDTH","getEllipsisText","labels_1_1","labelOffset","separateLabels","totalR","labelsContainerRange","dxPow2","dx_offset","smoothConnector","atan","breakPoint","breakPoint3","xSign","slope1","slope2","E","drawLabelline","overflow","fillWhite","rgb","toRGB","isContrastColorWhite","moveInShape","filteredLabels","pages","filterLabel","todo","groupedLabels","addCurrentGroup","curItems","sortedCollections","sortedLabels","sortLabels","downFail","inRight","inflectionPoint","totalOffset","halfHeight","originalPos","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","showEnable","processing","rollback","SPACES","PATH_COMMAND","PATH_VALUES","pathString","paramCounts","catmullRomToBezier","iLen","ellipsePath","res","pathToAbsolute","pathArray","pa0","dots","mx","my","crz","pa","ii","jj","kk","l2c","q2c","ax","ay","a2c","large_arc_flag","sweep_flag","recursive","xy","f1","f2","_120","rx2","ry2","df","f2old","x2old","y2old","hx","hy","m1","m2","m3","m4","newres","path2","bx","by","X","Y","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","fixArc","pp","pi","fixM","path1","a2","seg2","seglen","seg2len","p2s","parsePathArray","base3","p4","bezlen","x3","y3","x4","y4","z2","Tvalues","Cvalues","ct","xbase","ybase","comb","curveDim","x0","tvalues","bounds","b2ac","sqrtb2ac","t1","t2","mt","jlen","denominator","px","py","px2","py2","isPointInsideBBox","rectPath","r0","vb","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","interHelper","bez1","bez2","justCount","bbox1","bbox2","isBBoxIntersect","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","intersection","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","interPathHelper","decasteljau","recurse","middlePoints","splitSegment","leftSegments","splitCurve","fillPath","sourceLen","targetLen","segmentsToFill","filled","getMinDiff","del","modify","fillPathByDiff","diffMatrix","sourceSegment","targetSegment","levenshteinDistance","changes","minPos","_splitPoints","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","GraphEvent","defaultPrevented","propagationStopped","removeFromArray","isBrowser","isParent","multiplyMatrix","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","det","CLONE_CFGS","RESERVED_PORPS","getFormatFromAttrs","fromAttrs","getFormatToAttrs","checkExistedAttrs","animations","onFrame","startTime","initAttrs","initAnimate","getDefaultMatrix","setAttr","applyTo","onCanvasChange","currentMatrix","parentMatrix","Cons","getShapeBase","_cloneArrayAttr","cons","cfgName","isPaused","timeline","timer","initTimer","pauseCallback","resumeCallback","formatToAttrs","getTime","pathFormatted","addAnimator","toEnd","pauseTime","_paused","_pauseTime","eventObj","relativeShape","paths","propagationPath","getEvents","subName","emitDelegateEvent","this_1","currentTarget","delegateTarget","translateX","translateY","newMatrix","targetX","targetY","move","ratioX","ratioY","SHAPE_MAP","Container","_applyChildrenMarix","preTotalMatrix","groupClass","tmpCfg","TmpGroupClass","_findShape","preParent","setCanvas","setTimeline","_applyElementMatrix","contain","taskHead","taskTail","frame","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","_next","time","restart","wake","timerFlush","t0","sleep","nap","poke","clearInterval","setInterval","stop","definition","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","formatHex","color_formatRgb","formatRgb","format","rgbn","Rgb","rgba","hsla","NaN","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","basis","v0","v3","copy","channels","displayable","formatHsl","brighter","darker","gamma","nogamma","exponential","constant","rgbGamma","colorRgb","rgbSpline","spline","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","reA","reB","am","bm","bs","bi","one","zero","string","date","numberArray","valueOf","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","exponent","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b0","bounceIn","bounceOut","bounceInOut","backIn","overshoot","backOut","backInOut","tau","elasticIn","amplitude","period","elasticOut","elasticInOut","EASING_MAP","registerEasing","easeFn","IDENTITY_MATRIX","elapsed","d3Ease","cProps","interf","toPathPoint","fromPathPoint","cPathPoint","interpolate","_update","Timeline","d3Timer","animators","removeAnimator","isAnimatePaused","animator","emitTargetEvent","bubbleEvent","bubbles","isOverEvent","EventController","_triggerEvent","dragging","_getPointInfo","_emitEvent","draggingShape","_afterDrag","_bindEvents","_eventCallback","_onDocumentMove","_onDocumentMouseUp","clientPoint","getClientByEvent","getPointByEvent","_getShape","leaveCanvas","preShape","button","mousedownShape","mousedownPoint","mousedownTimeStamp","isCanvasEmit","_emitMouseoverEvents","_emitDragoverEvents","timeWindow","_getEventObj","emitDelegation","_clearEvents","isFirefox","initContainer","initDom","initTimeline","eventController","layerX","layerY","clientInfo","touches","changedTouches","removeDom","clearCacheBBox","calculateBBox","calculateCanvasBBox","topRight","bottomLeft","bottomRight","shadowLeft","shadowRight","shadowTop","shadowBottom","vec","inBBox","_isInBBox","isOnlyHitBox","getMethod","mergeBBox","mergeArrowBBox","offScreenCtx","lineCount","getLineSpaceing","getExtraFromSegmentWithAngle","currentAndPre","currentAndNext","preAndNext","currentAngle","xExtra","yExtra","xAngle","yAngle","getBBoxByArray","measureWidth","getTextWidth","segmentsWithAngle","EllipseArcUtil","getPathBox","eventType","attachEvent","detachEvent","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","tbody","thead","tfoot","td","th","$1","getOuterHeight","offsetHeight","bTop","pTop","pBottom","getOuterWidth","offsetWidth","bLeft","pLeft","pRight","bRight","mRight","css","seriesField","removeInteraction","meta","constant_1","annotationOptions","annotationController","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","isRegister","isUpdating","isInit","clearOffScreenCache","localId","offScreenRender","offScreenGroup","deleteElements","applyOffset","initEvent","removeEvent","getInnerLayoutBBox","applyMatrix2BBox","initGroup","getDelegateObject","moveElementTo","isComponent","createOffScreenGroup","renderInner","appendDelegateObject","registerElement","restCfg","inst","updateAutoRender","getMatrixByTranslate","elmentName","originOpacity","originElement","newGroup","originGroup","preElement","childComponent","origChildComponent","newCfg","replaceAttrs","updateAnimation","registerNewGroup","addAnimation","parentObject","deleteArray","callbackAnimCfg","removeElement","removeAnimation","Component","minNum","maxNum","getBBoxRange","piMod","tangentAngle","nearestPoint","tCallback","segNum","increaseRate","_t","d2","quadraticAt","onet","extrema","derivativeAt","divideQuadratic","xt","yt","controlPoint1","controlPoint2","xExtrema","yExtrema","quadraticLength","iterationCount","quadratics","interpolationAt","divide","cubicAt","discSqrt","extremas","disc","divideCubic","c3","c12","c23","cubicLength","snapLength","cubics","copysign","absv","nearestX","nearestY","relativeX","relativeY","squareA","squareB","ex","ey","rx1","ry1","hypot","xAt","yAt","getPoint","yDim","relativeVector","relativePoint","derivativeXAt","derivativeYAt","analyzePoints","lengthOfSegment","pointAtSegments","startRatio","localRatio","angleAtSegments","distanceAtSegment","minDistance","distance_1","ARRAY_TYPE","Float32Array","RANDOM","random","glMatrix","fromMat4","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","adjoint","determinant","fromMat2d","fromQuat","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","frob","multiplyScalar","multiplyScalarAndAdd","exactEquals","equals","a0","a3","a4","a5","a6","a7","a8","b1","b2","b3","b4","b5","b6","b7","b8","mul","identityMatrix","getMatrixByAngle","getAngleByMatrix","applyRotate","applyTranslate","translateMatrix","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","getMappingField","shapeField","styleField","rawFields","mappingFields","tileMappingField","getMappingFunction","tooltipFields","regexTags","regexDot","catmullRom2Bezier","REGEX_MD","toSymmetry","needProcess","preParams","upCmd","symetricT","symetricS","TAU","mapToEllipse","cosphi","sinphi","centerx","centery","approxUnitArc","ang1","ang2","vectorAngle","ux","uy","vx","vy","arcToBezier","xAxisRotation","largeArcFlag","curves","pxp","pyp","rxsq","rysq","pxpsq","pypsq","radicant","centerxp","centeryp","vx1","vy1","vx2","vy2","getArcCenter","arcToCubic","LAF","SF","quadToCubic","lineToCubic","segmentToCubic","needZCommandIndexes","allPathCommands","pathCommand","zCommandIndexes","ni","pathIntersection","path2Curve","nextParams","lastStartMovePointIndex","cp","preSegment","dx1","dy1","dx2","dy2","getLineIntersect","D0","D1","kross","parseToLines","lines","points1","points2","isPointInPolygon","lines1","lines2","isIntersect","lineIntersectPolygon","charAtLength","charCodeAt","getMaxLabelWidth","texts","maxLen","maxIdx","getMaxLabelWidthOptimized","ellipsisLabel","limitLength","ellipsisText","labelLength","getLabelLength","codeLength","strLen","ellipsisFlag","reserveLength","newText","reseveLength","startStr","endStr","endIndex","startCodeLen","hasAdd","endCodeLen","ellipsisString","defaultFields","Adjust","dimValue","isAdjust","groupedDataArray","mergedData","getDimValues","adjustDim","DEFAULT_Y","methodCache","registerTickMethod","__cfg__","initCfg","Scale","setDomain","getConfig","calculateTicks","Category","translateIndexMap","buildIndexMap","order","calcPercent","calcValue","scaledValue","domainRange","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","origObj","dayNames","monthNames","monthNamesShort","defaultI18n","dayNamesShort","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","globalMasks","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","mask","literals","$0","combinedI18nSettings","dateStr","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","regex","requiredField","matches","dateTZ","parser","validateFields","UTC","timeFormat","fecha1","fecha","toTimeStamp","HOUR","DAY","MONTH","intervals","SECOND","MINUTE","getTickInterval","tickCount","_lo","_hi","lo","hi","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","Linear","getInvertPercent","calBase","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","Time","numberValue","minConfig","maxConfig","timeStamps_1","secondMin_1","minTickInterval","Quantize","minTick","minIndexPercent","Quantile","getClass","registerClass","cls","Identity","calculateCatTicks","tickInterval","showLast","lastValue","e10","e5","e2","D3Linear","domain","_domain","i0","i1","tickIncrement","d3ArrayTicks","power","LN10","snapMultiple","snapType","intervalTicks","maxTick","availableInterval","strictLimit","defaultMin","defaultMax","tickMin","tickMax","prettyNumber","DEFAULT_Q","eps","simplicity","lmin","lmax","lstep","simplicityMax","density","dMin","dMax","lMin","lMax","rt","densityMax","coverage","coverageMax","span","extended","onlyLoose","step_1","best","score","dm","delta","log10","cm","minStart","maxStart","i_1","lStep","pretty","unit","nu","quantileSorted","getYear","createYear","creatMonth","cat","catTicks","minYear","maxYear","yearInterval","monthInterval","mmMoth","dMonths","minMonth","diffMonth","mday","ddays","diffDay","hours","dHours","diffHour","dMinus","diffMinus","minSecond","dSeconds","seconds","d3Linear","registerScale","RGB_REG","arr2rgb","toHex","iEl","x16Value","defaultView","getPropertyValue","colorArray","fixedPercent","calColor","toCSSGradient","gradientColor","cssColor_1","colorStops_1","HtmlComponent","containerTpl","containerClassName","pointerEvents","resetStyles","applyStyles","initCapture","initVisible","defaultStyles","applyChildrenStyles","containerCss","styles","getElementsByClassName","cssName","hasKey","MARGIN_RATIO","DODGE_RATIO","GAP","ADJUST_MAP","registerAdjust","stateStyles","styleName","normalPadding","currentAppendPadding","PADDING","paddings","normalPaddings","finalPadding","patternOption","colorAttribute","seriesValue","pattern_1","measure","groupField","as","sumMap","groupValue","number_1","percentage","asField","isPercent","minSize","conversionTag","Dodge","Jitter","Stack","Symmetric","LOCATION_FIELD_MAP","none","locationType","updateInner","afterUpdate","scaleAndAdd","squaredDistance","squaredLength","negate","inverse","normalize","lerp","transformMat2","transformMat2d","transformMat4","sinC","cosC","mag","cosine","div","sqrDist","sqrLen","stride","defaultOptions","columnStyle","percentData","percent_1","chartData","stackedItem","tooltipOptions","widthRatio","geometries_1","percentYMeta","common_1","isRange","columnTooltip","tooltipFormatter_1","isBar","brush_1","conversion_tag_1","connected_area_1","itemTpl","blendMode","defaultField","INVALID_FIELD_ERR_MSG","index_1","nodes","ancestors","depth","eachNode","EventEmitter","_events","wildcardEvents","doEmit","es","LocaleMap","locale","localeObj","global_1","numberData","gtZero","ltZero","sourceField","targetField","weightField","links","nodesMap","nodesIndex","weight","rawData","pick_1","invariant_1","WARN","areaStyle","pointOptions","lineOptions","pointState","seriesData","utils_2","primary","constants_1","pointParams","data_1","dividerText","activeTextStyle","DrillDownAction","drill","drawBreadCrumb","breadCrumbGroup","historyCache","backTo","hideCrumbGroup","nodeInfo","transformData","drillData","nodeData","drillDownConfig","deep_assign_1","breadCrumbCfg","breadCrumb","drawBreadCrumbGroup","rootText","textShapeBox","targetId","newHistoryCache","dividerBox","indicator","pointer","pin","statistic","az","bz","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","BrowserInfo","os","NodeInfo","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","userAgent","parseUserAgent","navigator","product","matchUserAgent","ua","matched","uaMatch","matchedRule","versionParts","output","createVersionParts","detectOS","searchBotMatch","lineStyle","lineShape","pointMapping","areaMapping","areaState","areaParams","lineGeometry","fillRect","isStagger","unitSize","dpr","AxisType","DualAxesGeometry","isColumn","types_1","Column","transformAttribute","axisType","Left","Right","progressStyle","barWidthRatio","clampPercent","plot_1","boxStyle","defaultContent","risingFill","fallingFill","maxYFieldValue","getLineCoordinate","lineOption","formatter_1","hierarchyConfig","sunburstStyle","drilldown","enabled","isParentNode","inCenter","drill_down_1","leaderLine","waterfallStyle","require","Mix","adaptor_1","defaultSeparation","meanXReduce","maxYReduce","separation","nodeSize","cluster","previousNode","eachAfter","meanX","leafLeft","leafRight","hierarchy","mapChildren","objectChildren","childs","Node","eachBefore","computeHeight","copyData","that","ancestor","aNodes","bNodes","leastCommonAncestor","descendants","leaves","node_iterator","circles","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","x21","y21","r21","d3","ab","xa","xb","ya","yb","place","intersects","packEnclose","aa","ca","sj","sk","enclose","optional","required","constantZero","defaultRadius","radiusLeaf","packChildren","translateChild","partition","treemapDice","positionNode","roundNode","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","nextAncestor","vim","TreeNode","tree","treeRoot","firstWalk","secondWalk","sizeNode","tx","kx","ky","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","phi","squarifyRatio","nodeValue","sumValue","newRatio","minRatio","beta","dice","treemapSlice","squarify","tile","paddingStack","paddingInner","treemap","paddingOuter","sums","valueOffset","valueTarget","valueLeft","valueRight","xk","yk","resquarify","_squarify","BRAND","getMessage","argIndex","deep","adapteStyle","styleObject","justifyContent","alignItems","shapeStyleKeys","_1","setStatisticContainerStyle","plotType","titleOpt","contentOpt","containerW","liquidShape","customHtml","polarCoord","polarCenter","polarMaxY","containerWidth","_len","_key","SensorTabIndex","SensorClassName","SizeSensorId","dot_1","line_1","square_1","tooltip_1","base_1","lineMapping","lineParams","areaGeometry","BRUSH_TYPES","brush","buttonConfig","getInteractionCfg","interactionType","brushType","maskType","reset_button_1","Bar","switchedFieldOptions","verticalAxis","horizontalAxis","coordinateOptions","barStyle","minBarWidth","maxBarWidth","barBackground","columnBackground","Pie","contants_1","prevOptions","angleField","prevData","curData","pieStyle","dataum","angleScale","content_1","labelLayoutType","inner","outer","spider","labelLayoutCfg","transformStatisticOptions","locale_1","titleOpt_1","contentOpt_1","dataValue","metaFormatter","pieAnnotation","startStages_1","interactions_1","stage","radio","defaultOffset","statistic_active_1","legend_active_1","ORIGIN_MATRIX","ulMatrix","getSize","containerSize","padding_1","resolvePadding","getFontSizeMapping","fMax_1","fMin_1","getSingleKeyValues","getRotate","rotationSteps","wordStyle","resolveRotate","perSize","numbers","rawOptions","chartPadding","imageMask","wordField","timeInterval","spiral","placementStrategy","words","hasText","word_cloud_1","rej","HTMLImageElement","onerror","ERROR","rotateRatio","Scatter","transformOptions","isOneX","isOneY","meta_1","util_2","pointStyle","newOptions","shapeLegend","sizeLegend","showLegend","scatterGeometry","scatterAnnotation","quadrant","xBaseline","yBaseline","labels_1","regionStyle_1","defaultConfig_1","regionStyle","labelStyle","regressionLine","defaultStyle_1","style_1","TinyLine","TinyColumn","TinyArea","Histogram","binField","binNumber","binWidth","stackField","histogram_1","getBinKey","originData_copy","rangeWidth","_binWidth","_defaultBinNumber","LN2","sturges","bins","bin","binKey","groupKey","groupKeyBinKey","plotData","Progress","RingProgress","newData","q1_1","median_1","q3_1","high_1","low_1","low","high","q1","quantile_1","q3","minMax","quantile","pdfOptions","pdfResults","pdfast_1","violinSize","violinY","kde","sampleSize","resultList","seriesGroup","series","violinStyle","zeros","norm2","weightedSum","w1","wolfeLineSearch","pk","phi0","phiPrime0","fxprime","phi_old","phiPrime","a_lo","a_high","phi_lo","iteration","bisect","parameters","maxIterations","fA","fB","fMid","nelderMead","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","N","simplex","updateSimplex","sortOrder","reflected","contracted","expanded","history","sortedSimplex","worst","shouldReduce","conjugateGradient","delta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","zerosM","containedInCircles","circleArea","circleCircleIntersection","stats","intersectionPoints","parentIndex","getIntersectionPoints","innerPoints","arcArea","polygonArea","arcs","midPoint","angleDiff","smallest","disjoint","Stock","stockStyle","constant_2","baseMeta","open","close","Funnel","compareField","funnelStyle","defaultOption","conversion_1","dynamicHeight","facet_1","compare_1","dynamic_height_1","basic_1","formatData","datumIndex","initLineOption","getWaterWavePositions","waveLength","getWaterWavePath","waterLevel","phase","_phase","waveRight","addWaterWave","waveCount","waveAttrs","wave","matrix_1","builtInShapeByName","cpX","cpY","outline","border","minXPoint","getFillAttrs","outlineAttrs","getLineAttrs","shapePath","waves","clipPath","getSeriesFieldKey","measureField","rangeField","ds","rangeValues","flat","rKey","measureValues","mKey","targetValues","tKey","DEFAULT_OPTIONS","ignoreParentValue","getTileMethod","d3Hierarchy","tileMethod","Gauge","indicatorView","rangeView","gaugeStyle","meter","indicatorData","rangeData","rangeColor","contentOption","transformContent","processRangeData","newYField","dIdx","hopeData","data1","data2","__axisPosition","findInteraction","enableInteraction","drillDownInteraction","enableDrillDown","treemap_1","curPath","ancestorNode","getNodeWidthRatio","nodeWidth","nodeWidthRatio","getNodePaddingRatio","nodePadding","nodePaddingRatio","sankeyLayoutInputData","dataType","nodeAlign","nodeSort","nodeDepth","isNodeLink","circle_1","layout_1","isNode","edges","link","targetDepth","sourceLinks","targetLinks","nodeStyle","edgeStyle","PLOT_ADAPTORS","pie","adaptor_2","column","adaptor_3","bar","adaptor_4","adaptor_5","gauge","adaptor_6","adaptor_7","adaptor_8","adaptor_9","adaptor_10","progress","adaptor_11","scatter","adaptor_12","histogram","adaptor_13","adaptor_14","stock","adaptor_15","PLOT_CONSTRUCTOR","pie_1","column_1","bar_1","area_1","gauge_1","tiny_line_1","tiny_column_1","tiny_area_1","ring_progress_1","progress_1","scatter_1","funnel_1","stock_1","DEFAULT_OPTIONS_MAP","plot","renderTag","tagCfg","maxLength","ellipsisPosition","tagGroup","maxTextLength","LineAnnotation","Theme","renderLine","TextAnnotation","resetLocation","getLocation","textGroup","getElementByLocalId","ArcAnnotation","renderArc","largeFlag","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","getImageAttrs","DataMarkerAnnotation","renderText","renderPoint","textAttrs","isVertival","findById","lineDisplay","DataRegionAnnotation","RegionFilterAnnotation","shapeIdx","adjustShapeAttrs","ShapeAnnotation","HtmlAnnotation","alignX","alignY","domWidth","domHeight","AxisBase","overlapOrder","tickStates","optimize","displayWithLabel","tickLineStyle","threshold","drawTicks","drawTitle","itemGroup","updateTickStates","getSideVector","tickLineItems","tickLineLength","tickSegment","getTickPoint","getSidePoint","tickId","subTickLineItems","subCount","tickLineCount","tickItem","tickItems","defaultTickLineStyle","tickLineGroup","getTickLineAttrs","getTickLineItems","tickCfg","drawTick","subTickLineItems_1","getSubTickLineItems","optimizeTicks","processTicks","drawLabels","drawTickLines","applyTickStates","page_1","optimizedTicks","getTextAnchor","getTextBaseline","getLabelAttrs","processOverlap","defaultLabelStyle","afterProcessTicks_1","titleCfg","titleHeight","titlePoint","getAxisVector","titleAttrs","getTitleAttrs","titleShape","drawDescriptionIcon","descriptionShape","startX","x5","y5","x6","y6","x7","y7","getItemStates","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","tickLineCfg","ellipseLabels","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","getRotateAngle","isRotate","isOverlap","overlap","prevBBox","reserveOne","labelsGroup","autoHideCfg","hasHide","parityHide","firstBBox","equidistance","reserveFirst","reserveLast","reserveBoth","preLabel","equidistanceWithReverseBoth","labelRotate","setLabelsAngle","fixedAngle","customRotate","unfixedAngle","regionX","regionY","axisVector","normal","verticalVector","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","overlapCfg","verticalFactor_1","newAlign","unregisterElement","large","sweep","vecLen","CrosshairBase","renderBackground","textId","LineCrosshair","HtmlCrosshair","crosshairTpl","textTpl","HtmlTheme","resetText","crosshairEl","applyStyle","textEl","initCrossHair","alignText","BACKGROUND_STYLE","LINE_STYLE","AREA_STYLE","pointsToPath","dataToPath","getSmoothLinePath","linePathToAreaPath","areaPath","lineYPx","lineY","getAreaLineY","Trend","isArea","DEFAULT_HANDLER_STYLE","Handler","FOREGROUND_STYLE","HANDLER_STYLE","TEXT_STYLE","stopPropagation","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","delegateEmit","oldStart","oldEnd","newStart","newEnd","validCfg","minHandler","getChildComponentById","maxHandler","trend","addComponent","silent","handlerWidth","handlerHeight","foregroundShape","minTextShape","maxTextShape","_dodgeText","minAttrs","maxAttrs","onMouseDown","foreground","offsetRange","minBBox","maxBBox","GridBase","alternateColor","closed","drawGrid","prePoints","getGridPath","reversePoints","nextPath","preItem","getPathStyle","lineId","gridPath","regionId","drawAlternateRegion","getAlternatePath","lineType","getLineType","sweepFlag_1","LegendBase","resetDraw","drawLegendContent","drawBackground","DEFAULT_PAGE_NAVIGATOR","ROTATE_MAP","up","down","currentPageIndex","updateNavigation","getCurrentNavigationMatrix","totalPagesCnt","itemWidth","itemHeight","itemBackground","alignRight","itemElement","offsetGroup","drawItem","getItemHeight","clearUpdateStatus","processItems","drawItems","itemContainerGroup","wrapped","pageWidth","subGroup","pageHeight","adjustNavigation","markerAttrs","textName","xPosition","radioCfg","showRadio","radioShape","tip","groupId","subContainer","getLimitItemWidth","curX","markerShape","drawMarker","itemMarkerSpacing","nameShape","drawItemText","valueShape","drawRadio","applyItemStates","subGroups","navigation","drawNavigation","navigationBBox","widthLimit","maxRow","maxRowHeight_1","cntPerPage_1","styleCfg","arrowStyle","leftArrow","drawArrow","onNavigationBack","leftArrowBBox","onNavigationAfter","rightArrow","cursorX","updateArrowPath","itemStates_1","elName","ContinueLegend","getCurrentValue","resetTrackClip","resetHandlers","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","getValueByCanvasPoint","curValue","curDiff","dValue","drawLabel","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","railCfg","getRailPath","getRailShape","railBBox","getRailBBox","getPointByValue","trackCfg","getTrackPath","getTrackColor","trackId","trackShape","getClipTrackAttrs","trackAttrs","getTrackAttrs","getRailCanvasBBox","isVertcal","resetHandler","handlerCfg","oneSixthWidth","triangleX","triangleY","getHandlerPath","handlerShape","railShape","minLabel","maxLabel","getDrawPoint","fixedVertail","fixedHorizontal","minLabelBBox","maxLabelBBox","lengthField","changeRailLength","railHeight","fitRailLength","changeRailPosition","maxLabelWidth","CssConst","xCrosshairTpl","yCrosshairTpl","crosshairsRegion","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","getHtmlContentNode","cacheDoms","limitBox","getOffset","getPointByPosition","outSides","getOutSides","getAlignPoint","resetCrosshairs","curContainer","replaceChild","titleDom","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","substituteObj","domStr","itemDom","DEFAULT_THEME","isMobile","startPos","bindLaterEvent","endPos","updateThumbOffset","newOffset","validateRange","originalValue","minThumbLen","renderTrackShape","renderThumbShape","themeSize","onStartEvent","onTrackClick","thumbShape","onThumbMouseOver","onThumbMouseOut","emitOffsetChange","customOffset","marginRatio","xDimensionLegenth","groupDataArray","adjustDataArray","frameIndex","getDistribution","getAdjustRange","valueArr","valIndex","getDodgeOffset","tickLength","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","adjustGroup","getAdjustOffset","Cache","processStack","processOneDimStack","positive","negative","xKey","newXValue","stackHeight","stackValue","getXValuesMaxMap","off_1","getDimMaxValue","dimValues","flattenValues","en_US_1","zh_CN_1","setGlobal","Rose","WordCloud","Radar","DualAxes","Box","Venn","FUNNEL_CONVERSATION_FIELD","Liquid","Bullet","Sunburst","Waterfall","RadialBar","BidirectionalBar","Treemap","Sankey","Chord","CirclePacking","getCanvasPattern","Lab","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","runClearTimeout","Item","nextTick","env","argv","versions","addListener","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","flows","getAllElements","getAllElementsRecursively","labelOptions","points2Path","matrix_util_1","context_1","general","increase","decrease","waterfall","ver","_sensorPool","sensor","getSensor","removeSensor","_id","_sensors","_constant","Sensors","sensorId","newId","createSensor","_object","_resizeObserver","ResizeObserver","_debounce","resizeListener","listener","contentDocument","newSensor","disconnect","observe","drawDot","dotCfg","_i","Path2D","lineCfg","drawSquare","strokeRect","squareCfg","squares","stepType","otherAdaptor","marker_active_1","MarkerActiveAction","getView","getConversionTagOptionsWithDefaults","horizontal","headSize","elemPrev","elemNext","pointPrev","pointNext","totalWidth","renderArrowTag","textWidth","cWidth","cEnd","textAdjusted","renderTextTag","disabled","INTERACTION_MAP","click","getStartStages","disable","connectedArea","buttonStyle","drawText","PieLegendAction","item_1","getActiveElements","getActiveElementLabels","transfrom","StatisticAction","_view","initialAnnotation","getAnnotations","colorField_1","statistic_1","initialStatistic","getInitialAnnotation","sectorStyle","catch","cloudFont","cloudFontSize","cloudFontNormal","cloudRotate","cloudPadding","archimedeanSpiral","cloudText","cloudCanvas","cloud","board","dt","cloudCollide","sprite","sw","lx","msx","contextAndRatio","zeroArray","tags","cloudSprite","hasImage","cloudBounds","_tags","_bounds","can","w32","cxt","imageData","functor","spirals","tagCloud","cloudRadians","maxh","sr","cr","wcr","wsr","hcr","hsr","cw","xoff","yoff","seen","seenRow","archimedean","rectangular","sign","getTextAttrs","REGRESSION_MAP","exp","d3_regression_1","loess","poly","quad","pathData","algorithm","reg","xScaleView","yScaleView","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","getMetaMinMax","fieldMeta","getCustomValue","_slicedToArray","_arrayWithHoles","_arr","_n","_s","err","_iterableToArrayLimit","_nonIterableRest","xv","yv","Float64Array","visitPoints","iterations","determination","uY","predict","SSE","SST","sse","sst","interpose","xmin","xmax","LOG10E","iter","found","mp","ols","uX","uXY","uX2","slope","YL","XY","XYL","X2Y","ly","_ols2","rSquared","X2","intercept","bandwidth","_points2","bw","yhat","residuals","robustWeights","W","denom","tricube","xkw","updateInterval","medianResidual","_w","logarithmic","lb","quadratic","X3","X4","n0","X2X2","polynomial","coefficients","_o","lhs","rhs","coef","gaussianElimination","uncenter","YS","areaOptions","radar_tooltip_action_1","RadarTooltipController","cfgTitle","hintItems","title_1","result_1","displayTitle","RadarTooltipAction","getTooltipController","geometryOptions","allLine","option_1","createViews","SORT_MAP","view_1","themeColor","groupScale","leftView","rightView","leftLegend_1","rightLegend_1","leftItems","legend_1","rightItems","isGeometry","viewId","yF","legendItem_1","render_sider_1","legendItemName","attrItems","FIELD_KEY","adjust_1","sliderValue","sizeRatio","heatmapStyle","checkedSizeRatio","dautm","maxSideLength","sideLength","outliersView","yFieldName","outliersPoint","outliersField","outliersStyle","outliersViewData","syncName","TOOLTIP_FIELDS","violinView","boxView","minMaxView","quantileView","medianView","legendField_1","legendOptions","LN_2","helper","kernel","getUnifiedMinMax","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","findMinMulti","findMaxMulti","normalizedMinMax","buckets","partialArea","partialAreas","accumulator","generatePartialAreas","fullArea","initalValue","bucket","xToBucket","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","startGradPos","inside","gradAccumulator","getExpectedValueFromPdf","pdf","expected","getXWithLeftTailArea","getPerplexity","entropy","ln","findMin","findMax","quickselect","sd","quantileSelect","quantileIndex","indices","stack","multiQuantileSelect","results","colorMap","colorPalette","setsField","utils_3","tempPadding","currSets","sets","filterSets","vennData","colorOptions","map_1","transformColor","customLabelInfo","vennInteraction","MAP_1","colorPaletteLen","colorArr","blend","solution","textCenters","diagram_1","setCircles","legalArr","testArr","blendObject","screen","overlay","darken","lighten","dodge","burn","colorToArr","rgbaArr","color_util_1","c0","blendRgbArr","g0","g1","areas","setid","initialLayout","bestInitialLayout","loss","lossFunction","ids","pairs","addMissingAreas","setids","positions","fmin_1","setid_1","distanceFromIntersectArea","circleintersection_1","getDistanceMatrices","distances","constraints","greedyLayout","constrained","constrainedMDSLayout","restarts","matrices","norm","xj","yj","dij","constrainedMDSGradient","setOverlaps","rowid","mostOverlapped","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","overlaps","orientateCircles","orientation","orientationOrder","largestX","largestY","disjointCluster","maxDistance","xRoot","yRoot","disjointClusters","getBoundingBox","xRange","yRange","clusters","returnBounds","addCluster","centreing","xScaling","yScaling","scaling","circleMargin","interior","exterior","computeTextCentre","valid","areaStats","circlePath","overlapped","circleids","circleid","getOverlappingCircles","areaids","exclude","centre","tokens","wide","path_util_1","fillAttrs","VennLabel","active_1","highlight_1","selected_1","VennElementActive","syncElementsPos","toggle","VennElementHighlight","highlight","ElementSelectedAction","ElementSingleSelectedAction","VennElementSelected","VennElementSingleSelected","showFacetTitle","formatterData","defaultFacetLabel","viewIndex","preItemX","preItemY","liquidStyle","bulletStyle","extData","rangeGeometry","measureGeometry","targetGeometry","pathFormatter","valueFormatter","adaptorInteraction","activeDepth","partition_1","STEP","STEP_RATIO","COORD_START_ANGLE","COORD_END_ANGLE","INTERVAL","START_ANGLE","END_ANGLE","localeTotalLabel","colorMapping","Y_FIELD_META","labelMode","leaderLineCfg","linkPath","maxAngle","actualData","intervalGeometry","yData","formatRadian","stackedData","valueItem","firstViewData","secondViewData","firstView","secondView","aliasMap","metaKey","leftGeometry","rightGeometry","leftLabelCfg","positionMap_1","transData","rectStyle","polygon_1","viewZoomInteraction","edgeState","isLast","helper_1","nodesView","edgesView","nodeState","edgeView","nodeView","nodeDraggable","nodeInteractions","edgeInteractions","ALIGN_METHOD","justify","getNodeAlignFunction","sankey_1","sankeyLayoutOptions","layoutData","extent","sankeyProcessor","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultNodes","graph","defaultLinks","nodeById","computeLinkBreadths","linkSort","align_1","sankey","computeNodeLinks","fixedValue","computeNodeValues","maxDepth","computeNodeDepths","computeNodeHeights","columns","computeNodeLayers","nodes_6","reorderLinks","initializeNodeBreadths","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","targetTop","dy_1","reorderNodeLinks","resolveCollisions","sourceTop","dy_2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","dy_3","dy_4","getNodes","graphMatrix","removedData","visited","DFS","dfsNode","node_drag_1","isDragging","SankeyNodeDragAction","getNodeView","isNodeElement","getCurrentDatumIdx","currentElementIdx","prevNodeAnimateCfg","prevEdgeAnimateCfg","getEdgeView","prevDatum","datumGap_1","nextDatum","edgeData","chordLayoutInputData","chord_1","nodesData","edgesData","chordData","nodeGeometry","edgeGeometry","edgeOptions","sourceWeight","targetWeight","chordLayoutOptions","inEdges","outEdges","frequency","processGraph","localeCompare","sortNodes","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","layoutNodes","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","locatingEdges","diameter","tempAppendPadding","appendPaddingByDrilldown","finalSize","circleSize","point_1","nameFormatter","pack_1","wSize","hSize","restWidthPadding","restHeightPadding","packLayout","multiView","viewOfG2","multiPlot","plots","Association","linkField","getAssociationItems","facetAdaptor","facetType","restFacetCfg","viewOptions","plotOptions","Stage","notice","DEV","BETA","STABLE","mix_1"],"mappings":"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","file":"g2plot.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"G2Plot\"] = factory();\n\telse\n\t\troot[\"G2Plot\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 157);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","export { flow } from './flow';\nexport { pick } from './pick';\nexport { template } from './template';\nexport { log, invariant, LEVEL } from './invariant';\nexport { getContainerSize } from './dom';\nexport * from './geometry';\nexport { findViewById, getViews, getSiblingViews } from './view';\nexport { transformLabel } from './label';\nexport { getSplinePath } from './path';\nexport { deepAssign } from './deep-assign';\nexport { kebabCase } from './kebab-case';\nexport { renderStatistic, renderGaugeStatistic } from './statistic';\nexport { measureTextWidth } from './measure-text';\nexport { isBetween, isRealNumber } from './number';\nexport * from './data';\nexport * from './padding';\n",null,null,null,"import { Chart, Event, Element, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport EE from '@antv/event-emitter';\nimport { bind } from 'size-sensor';\nimport { Options, StateName, StateCondition, Size, StateObject, Annotation } from '../types';\nimport { getContainerSize, getAllElementsRecursively, deepAssign, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/**  pick  */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot  */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n *  plot \n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   *  options \n   * \n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot  */\n  public abstract readonly type: string;\n  /** plot  schema  */\n  public options: O;\n  /** plot  dom */\n  public readonly container: HTMLElement;\n  /** G2 chart  */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   *  G2 \n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot  size-sensor  autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, //  G \n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    //  G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   *  chart  width  height\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   *  G2 \n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   *  options \n   * \n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   *  schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \n   */\n  public render() {\n    //  G2 \n    this.chart.clear();\n    //  view  view  options  legend legend \n    //  chart  options \n    //  G2 view.clear  options  resetOptions\n    // #1684  view  custom legend\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; //  views\n    //  adaptor\n    this.execAdaptor();\n    // \n    this.chart.render();\n    // \n    this.bindSizeSensor();\n  }\n\n  /**\n   * : \n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   *  id \n   */\n  public addAnnotations(annotations: Annotation[], view?: View): void {\n    view = view ? view : this.chart;\n    const incoming = [...annotations];\n    const controller = view.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    view.render(true);\n  }\n\n  /**\n   *  id \n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \n   */\n  public destroy() {\n    //  size-sensor \n    this.unbindSizeSensor();\n    // G2 \n    this.chart.destroy();\n    // \n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   *  adaptor \n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    //  padding\n    this.chart.padding = padding;\n    //  appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    //  G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   *  dom \n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \n        const { width, height } = getContainerSize(this.container);\n\n        //  resize \n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n","/**\n * view  group  key\n */\nexport enum LAYER {\n  /**  */\n  FORE = 'fore',\n  /**  */\n  MID = 'mid',\n  /**  */\n  BG = 'bg',\n}\n\n/**\n *  12 \n */\nexport enum DIRECTION {\n  TOP = 'top',\n  TOP_LEFT = 'top-left',\n  TOP_RIGHT = 'top-right',\n  RIGHT = 'right',\n  RIGHT_TOP = 'right-top',\n  RIGHT_BOTTOM = 'right-bottom',\n  LEFT = 'left',\n  LEFT_TOP = 'left-top',\n  LEFT_BOTTOM = 'left-bottom',\n  BOTTOM = 'bottom',\n  BOTTOM_LEFT = 'bottom-left',\n  BOTTOM_RIGHT = 'bottom-right',\n  RADIUS = 'radius',\n  CIRCLE = 'circle',\n  // no direction information\n  NONE = 'none',\n}\n\n/**\n * \n */\nexport enum COMPONENT_TYPE {\n  /** axis  */\n  AXIS = 'axis',\n  /** grid  */\n  GRID = 'grid',\n  /** legend  */\n  LEGEND = 'legend',\n  /** tooltip  */\n  TOOLTIP = 'tooltip',\n  /** annotation  */\n  ANNOTATION = 'annotation',\n  /**  */\n  SLIDER = 'slider',\n  /**  */\n  SCROLLBAR = 'scrollbar',\n  /**  */\n  OTHER = 'other',\n}\n\n/**\n *  group  z index\n */\nexport const GROUP_Z_INDEX = {\n  FORE: 3,\n  MID: 2,\n  BG: 1,\n};\n\n/**\n * View  3.x \n * \n */\nexport enum VIEW_LIFE_CIRCLE {\n  BEFORE_RENDER = 'beforerender',\n  AFTER_RENDER = 'afterrender',\n\n  BEFORE_PAINT = 'beforepaint',\n  AFTER_PAINT = 'afterpaint',\n\n  BEFORE_CHANGE_DATA = 'beforechangedata',\n  AFTER_CHANGE_DATA = 'afterchangedata',\n\n  BEFORE_CLEAR = 'beforeclear',\n  AFTER_CLEAR = 'afterclear',\n\n  BEFORE_DESTROY = 'beforedestroy',\n\n  BEFORE_CHANGE_SIZE = 'beforechangesize',\n  AFTER_CHANGE_SIZE = 'afterchangesize',\n}\n\n/**\n * geometry \n */\nexport enum GEOMETRY_LIFE_CIRCLE {\n  BEFORE_DRAW_ANIMATE = 'beforeanimate',\n  AFTER_DRAW_ANIMATE = 'afteranimate',\n\n  BEFORE_RENDER_LABEL = 'beforerenderlabel',\n  AFTER_RENDER_LABEL = 'afterrenderlabel',\n}\n\n/**\n * \n */\nexport enum PLOT_EVENTS {\n  // mouse \n  MOUSE_ENTER = 'plot:mouseenter',\n  MOUSE_DOWN = 'plot:mousedown',\n  MOUSE_MOVE = 'plot:mousemove',\n  MOUSE_UP = 'plot:mouseup',\n  MOUSE_LEAVE = 'plot:mouseleave',\n  // \n  TOUCH_START = 'plot:touchstart',\n  TOUCH_MOVE = 'plot:touchmove',\n  TOUCH_END = 'plot:touchend',\n  TOUCH_CANCEL = 'plot:touchcancel',\n  // click \n  CLICK = 'plot:click',\n  DBLCLICK = 'plot:dblclick',\n  CONTEXTMENU = 'plot:contextmenu',\n\n  LEAVE = 'plot:leave',\n  ENTER = 'plot:enter',\n}\n\n/**\n * Element \n */\nexport enum ELEMENT_STATE {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  SELECTED = 'selected',\n  DEFAULT = 'default',\n}\n\n/**  */\nexport const GROUP_ATTRS = ['color', 'shape', 'size'];\n/**  */\nexport const FIELD_ORIGIN = '_origin';\n/**  */\nexport const MIN_CHART_WIDTH = 1;\n/**  */\nexport const MIN_CHART_HEIGHT = 1;\n/** 25% */\nexport const COMPONENT_MAX_VIEW_PERCENTAGE = 0.25;\n","import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n","import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n","import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,null,null,null,null,null,null,"import { GeometryCfg } from './geometry/base';\nimport { IInteractionContext } from './interface';\n\n// \nimport { registerTheme } from './core';\nimport { antvDark } from './theme/style-sheet/dark';\nimport { createThemeByStyleSheet } from './theme/util/create-by-style-sheet';\nregisterTheme('dark', createThemeByStyleSheet(antvDark));\n\n//  G \nimport * as CanvasEngine from '@antv/g-canvas';\nimport * as SVGEngine from '@antv/g-svg';\nimport { registerEngine } from './core';\n\nregisterEngine('canvas', CanvasEngine);\nregisterEngine('svg', SVGEngine);\n\n//  G2  geometry\nimport { registerGeometry } from './core';\nimport Area, { AreaCfg } from './geometry/area';\nimport Edge from './geometry/edge';\nimport Heatmap from './geometry/heatmap';\nimport Interval, { IntervalCfg } from './geometry/interval';\nimport Line from './geometry/line';\nimport Path, { PathCfg } from './geometry/path';\nimport Point from './geometry/point';\nimport Polygon from './geometry/polygon';\nimport Schema from './geometry/schema';\nimport Violin from './geometry/violin';\n\nregisterGeometry('Polygon', Polygon);\nregisterGeometry('Interval', Interval);\nregisterGeometry('Schema', Schema);\nregisterGeometry('Path', Path);\nregisterGeometry('Point', Point);\nregisterGeometry('Line', Line);\nregisterGeometry('Area', Area);\nregisterGeometry('Edge', Edge);\nregisterGeometry('Heatmap', Heatmap);\nregisterGeometry('Violin', Violin);\n\n//  shapes\nimport './geometry/shape/area/line';\nimport './geometry/shape/area/smooth';\nimport './geometry/shape/area/smooth-line';\n\nimport './geometry/shape/edge/arc';\nimport './geometry/shape/edge/smooth';\nimport './geometry/shape/edge/vhv';\n\nimport './geometry/shape/interval/funnel';\nimport './geometry/shape/interval/hollow-rect';\nimport './geometry/shape/interval/line';\nimport './geometry/shape/interval/pyramid';\nimport './geometry/shape/interval/tick';\n\nimport './geometry/shape/line/step';\n\nimport './geometry/shape/point/hollow';\nimport './geometry/shape/point/image';\nimport './geometry/shape/point/solid';\n\nimport './geometry/shape/schema/box';\nimport './geometry/shape/schema/candle';\n\nimport './geometry/shape/polygon/square';\n\nimport './geometry/shape/violin/smooth';\nimport './geometry/shape/violin/hollow';\n\n//  Geometry  label\nimport { registerGeometryLabel } from './core';\nimport GeometryLabel from './geometry/label/base';\nimport IntervalLabel from './geometry/label/interval';\nimport PieLabel from './geometry/label/pie';\nimport PolarLabel from './geometry/label/polar';\n\nregisterGeometryLabel('base', GeometryLabel);\nregisterGeometryLabel('interval', IntervalLabel);\nregisterGeometryLabel('pie', PieLabel);\nregisterGeometryLabel('polar', PolarLabel);\n\n//  Geometry label \nimport { registerGeometryLabelLayout } from './core';\nimport { distribute } from './geometry/label/layout/pie/distribute';\nimport { pieOuterLabelLayout } from './geometry/label/layout/pie/outer';\nimport { pieSpiderLabelLayout } from './geometry/label/layout/pie/spider';\nimport { limitInCanvas } from './geometry/label/layout/limit-in-canvas';\nimport { limitInShape } from './geometry/label/layout/limit-in-shape';\nimport { fixedOverlap, overlap } from './geometry/label/layout/overlap';\nimport { hideOverlap } from './geometry/label/layout/hide-overlap';\nimport { adjustColor } from './geometry/label/layout/adjust-color';\nimport { intervalAdjustPosition } from './geometry/label/layout/interval/adjust-position';\nimport { intervalHideOverlap } from './geometry/label/layout/interval/hide-overlap';\nimport { pointAdjustPosition } from './geometry/label/layout/point/adjust-position';\nimport { pathAdjustPosition } from './geometry/label/layout/path/adjust-position';\nimport { limitInPlot } from './geometry/label/layout/limit-in-plot';\n\nregisterGeometryLabelLayout('overlap', overlap);\nregisterGeometryLabelLayout('distribute', distribute);\nregisterGeometryLabelLayout('fixed-overlap', fixedOverlap);\nregisterGeometryLabelLayout('hide-overlap', hideOverlap);\nregisterGeometryLabelLayout('limit-in-shape', limitInShape);\nregisterGeometryLabelLayout('limit-in-canvas', limitInCanvas);\nregisterGeometryLabelLayout('limit-in-plot', limitInPlot);\nregisterGeometryLabelLayout('pie-outer', pieOuterLabelLayout);\nregisterGeometryLabelLayout('adjust-color', adjustColor);\nregisterGeometryLabelLayout('interval-adjust-position', intervalAdjustPosition);\nregisterGeometryLabelLayout('interval-hide-overlap', intervalHideOverlap);\nregisterGeometryLabelLayout('point-adjust-position', pointAdjustPosition);\nregisterGeometryLabelLayout('pie-spider', pieSpiderLabelLayout);\nregisterGeometryLabelLayout('path-adjust-position', pathAdjustPosition);\n\n// \nimport { fadeIn, fadeOut } from './animate/animation/fade';\nimport { growInX, growInXY, growInY } from './animate/animation/grow-in';\nimport { pathIn } from './animate/animation/path-in';\nimport { positionUpdate } from './animate/animation/position-update';\nimport { scaleInX, scaleInY } from './animate/animation/scale-in';\nimport { sectorPathUpdate } from './animate/animation/sector-path-update';\nimport { waveIn } from './animate/animation/wave-in';\nimport { zoomIn, zoomOut } from './animate/animation/zoom';\nimport { registerAnimation } from './core';\n\nregisterAnimation('fade-in', fadeIn);\nregisterAnimation('fade-out', fadeOut);\nregisterAnimation('grow-in-x', growInX);\nregisterAnimation('grow-in-xy', growInXY);\nregisterAnimation('grow-in-y', growInY);\nregisterAnimation('scale-in-x', scaleInX);\nregisterAnimation('scale-in-y', scaleInY);\nregisterAnimation('wave-in', waveIn);\nregisterAnimation('zoom-in', zoomIn);\nregisterAnimation('zoom-out', zoomOut);\nregisterAnimation('position-update', positionUpdate);\nregisterAnimation('sector-path-update', sectorPathUpdate);\nregisterAnimation('path-in', pathIn);\n\n//  Facet\nimport { registerFacet } from './core';\nimport Circle from './facet/circle';\nimport List from './facet/list';\nimport Matrix from './facet/matrix';\nimport Mirror from './facet/mirror';\nimport Rect from './facet/rect';\nimport Tree from './facet/tree';\n\nregisterFacet('rect', Rect);\nregisterFacet('mirror', Mirror);\nregisterFacet('list', List);\nregisterFacet('matrix', Matrix);\nregisterFacet('circle', Circle);\nregisterFacet('tree', Tree);\n\n//  Component\nimport { registerComponentController } from './core';\n\nimport Annotation from './chart/controller/annotation';\nimport Axis from './chart/controller/axis';\nimport Legend from './chart/controller/legend';\nimport Slider from './chart/controller/slider';\nimport Tooltip from './chart/controller/tooltip';\nimport Scrollbar from './chart/controller/scrollbar';\n\n// register build-in components\nregisterComponentController('axis', Axis);\nregisterComponentController('legend', Legend);\nregisterComponentController('tooltip', Tooltip);\nregisterComponentController('annotation', Annotation);\nregisterComponentController('slider', Slider);\nregisterComponentController('scrollbar', Scrollbar);\n\n//  Interaction Action\nimport { registerAction } from './core';\nimport ActiveRegion from './interaction/action/active-region';\nimport SiblingTooltip from './interaction/action/component/tooltip/sibling';\nimport TooltipAction from './interaction/action/component/tooltip/geometry';\nimport EllipsisTextAction from './interaction/action/component/tooltip/ellipsis-text';\n\nimport ElementActive from './interaction/action/element/active';\nimport ElementLinkByColor from './interaction/action/element/link-by-color';\nimport ElementRangeActive from './interaction/action/element/range-active';\nimport ElementSingleActive from './interaction/action/element/single-active';\n\nimport ElementHighlight from './interaction/action/element/highlight';\nimport ElementHighlightByColor from './interaction/action/element/highlight-by-color';\nimport ElementHighlightByX from './interaction/action/element/highlight-by-x';\n\nimport ElementRangeHighlight, { ELEMENT_RANGE_HIGHLIGHT_EVENTS } from './interaction/action/element/range-highlight';\nimport ElementSingleHighlight from './interaction/action/element/single-highlight';\n\nimport ElementRangeSelected from './interaction/action/element/range-selected';\nimport ElementSelected from './interaction/action/element/selected';\nimport ElementSingleSelected from './interaction/action/element/single-selected';\n\nimport ListActive from './interaction/action/component/list-active';\nimport ListHighlight from './interaction/action/component/list-highlight';\nimport ListSelected from './interaction/action/component/list-selected';\nimport ListUnchecked from './interaction/action/component/list-unchecked';\nimport ListChecked from './interaction/action/component/list-checked';\nimport ListFocus from './interaction/action/component/list-focus';\nimport ListRadio from './interaction/action/component/list-radio';\n\nimport CircleMask from './interaction/action/mask/circle';\nimport DimMask from './interaction/action/mask/dim-rect';\nimport PathMask from './interaction/action/mask/path';\nimport RectMask from './interaction/action/mask/rect';\nimport SmoothPathMask from './interaction/action/mask/smooth-path';\n\nimport CursorAction from './interaction/action/cursor';\nimport DataFilter from './interaction/action/data/filter';\nimport DataRangeFilter, { BRUSH_FILTER_EVENTS } from './interaction/action/data/range-filter';\nimport SiblingFilter from './interaction/action/data/sibling-filter';\n\nimport ElementFilter from './interaction/action/element/filter';\nimport ElementSiblingFilter from './interaction/action/element/sibling-filter';\nimport ButtonAction from './interaction/action/view/button';\nimport ViewDrag from './interaction/action/view/drag';\nimport ViewMove from './interaction/action/view/move';\nimport ScaleTranslate from './interaction/action/view/scale-translate';\nimport ScaleZoom from './interaction/action/view/scale-zoom';\nimport MousewheelScroll from './interaction/action/view/mousewheel-scroll';\nimport AxisDescription from './interaction/action/component/axis/axis-description'\n\nregisterAction('tooltip', TooltipAction);\nregisterAction('sibling-tooltip', SiblingTooltip);\nregisterAction('ellipsis-text', EllipsisTextAction);\nregisterAction('element-active', ElementActive);\nregisterAction('element-single-active', ElementSingleActive);\nregisterAction('element-range-active', ElementRangeActive);\n\nregisterAction('element-highlight', ElementHighlight);\nregisterAction('element-highlight-by-x', ElementHighlightByX);\nregisterAction('element-highlight-by-color', ElementHighlightByColor);\n\nregisterAction('element-single-highlight', ElementSingleHighlight);\nregisterAction('element-range-highlight', ElementRangeHighlight);\nregisterAction('element-sibling-highlight', ElementRangeHighlight, {\n  effectSiblings: true,\n  effectByRecord: true,\n});\n\nregisterAction('element-selected', ElementSelected);\nregisterAction('element-single-selected', ElementSingleSelected);\nregisterAction('element-range-selected', ElementRangeSelected);\nregisterAction('element-link-by-color', ElementLinkByColor);\n\nregisterAction('active-region', ActiveRegion);\nregisterAction('list-active', ListActive);\nregisterAction('list-selected', ListSelected);\nregisterAction('list-highlight', ListHighlight);\nregisterAction('list-unchecked', ListUnchecked);\nregisterAction('list-checked', ListChecked);\nregisterAction('list-focus', ListFocus);\nregisterAction('list-radio', ListRadio);\n\nregisterAction('legend-item-highlight', ListHighlight, {\n  componentNames: ['legend'],\n});\n\nregisterAction('axis-label-highlight', ListHighlight, {\n  componentNames: ['axis'],\n});\nregisterAction('axis-description', AxisDescription)\n\nregisterAction('rect-mask', RectMask);\nregisterAction('x-rect-mask', DimMask, { dim: 'x' });\nregisterAction('y-rect-mask', DimMask, { dim: 'y' });\nregisterAction('circle-mask', CircleMask);\nregisterAction('path-mask', PathMask);\nregisterAction('smooth-path-mask', SmoothPathMask);\n\nregisterAction('cursor', CursorAction);\nregisterAction('data-filter', DataFilter);\n\nregisterAction('brush', DataRangeFilter);\nregisterAction('brush-x', DataRangeFilter, { dims: ['x'] });\nregisterAction('brush-y', DataRangeFilter, { dims: ['y'] });\nregisterAction('sibling-filter', SiblingFilter);\nregisterAction('sibling-x-filter', SiblingFilter);\nregisterAction('sibling-y-filter', SiblingFilter);\n\nregisterAction('element-filter', ElementFilter);\nregisterAction('element-sibling-filter', ElementSiblingFilter);\nregisterAction('element-sibling-filter-record', ElementSiblingFilter, { byRecord: true });\n\nregisterAction('view-drag', ViewDrag);\nregisterAction('view-move', ViewMove);\n\nregisterAction('scale-translate', ScaleTranslate);\nregisterAction('scale-zoom', ScaleZoom);\nregisterAction('reset-button', ButtonAction, {\n  name: 'reset-button',\n  text: 'reset',\n});\n\nregisterAction('mousewheel-scroll', MousewheelScroll);\n\n//  Interaction \nimport { registerInteraction } from './core';\n\nfunction isPointInView(context: IInteractionContext) {\n  return context.isInPlot();\n}\n\n//  tooltip  interaction\nregisterInteraction('tooltip', {\n  start: [\n    { trigger: 'plot:mousemove', action: 'tooltip:show', throttle: { wait: 50, leading: true, trailing: false } },\n    { trigger: 'plot:touchmove', action: 'tooltip:show', throttle: { wait: 50, leading: true, trailing: false } },\n  ],\n  end: [\n    { trigger: 'plot:mouseleave', action: 'tooltip:hide' },\n    { trigger: 'plot:leave', action: 'tooltip:hide' },\n    { trigger: 'plot:touchend', action: 'tooltip:hide' },\n  ],\n});\n\nregisterInteraction('ellipsis-text', {\n  start: [\n    {\n      trigger: 'legend-item-name:mousemove',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'legend-item-name:touchstart',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'axis-label:mousemove',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'axis-label:touchstart',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n  ],\n  end: [\n    { trigger: 'legend-item-name:mouseleave', action: 'ellipsis-text:hide' },\n    { trigger: 'legend-item-name:touchend', action: 'ellipsis-text:hide' },\n    { trigger: 'axis-label:mouseleave', action: 'ellipsis-text:hide' },\n    { trigger: 'axis-label:touchend', action: 'ellipsis-text:hide' },\n  ],\n});\n\n//  element  active\nregisterInteraction('element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-active:reset' }],\n});\n\n// \nregisterInteraction('element-selected', {\n  start: [{ trigger: 'element:click', action: 'element-selected:toggle' }],\n});\n\n// hover highlight\nregisterInteraction('element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight:reset' }],\n});\n\n// hover highlight by x\nregisterInteraction('element-highlight-by-x', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-x:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-x:reset' }],\n});\n\n// hover highlight by y\nregisterInteraction('element-highlight-by-color', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-color:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-color:reset' }],\n});\n\n// legend hoverelement active\nregisterInteraction('legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('legend-highlight', {\n  start: [\n    { trigger: 'legend-item:mouseenter', action: ['legend-item-highlight:highlight', 'element-highlight:highlight'] },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('axis-label-highlight', {\n  start: [\n    { trigger: 'axis-label:mouseenter', action: ['axis-label-highlight:highlight', 'element-highlight:highlight'] },\n  ],\n  end: [{ trigger: 'axis-label:mouseleave', action: ['axis-label-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('element-list-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: ['list-highlight:highlight', 'element-highlight:highlight'] }],\n  end: [{ trigger: 'element:mouseleave', action: ['list-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// \nregisterInteraction('element-range-highlight', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'mask:mouseenter', action: 'cursor:move' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n    { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n  ],\n  start: [\n    {\n      trigger: 'plot:mousedown',\n      isEnable(context) {\n        //  mask \n        return !context.isInShape('mask');\n      },\n      action: ['rect-mask:start', 'rect-mask:show'],\n    },\n    {\n      trigger: 'mask:dragstart',\n      action: ['rect-mask:moveStart'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: ['rect-mask:resize'],\n    },\n    {\n      trigger: 'mask:drag',\n      action: ['rect-mask:move'],\n    },\n    {\n      trigger: 'mask:change',\n      action: ['element-range-highlight:highlight'],\n    },\n  ],\n  end: [\n    { trigger: 'plot:mouseup', action: ['rect-mask:end'] },\n    { trigger: 'mask:dragend', action: ['rect-mask:moveEnd'] },\n    {\n      trigger: 'document:mouseup',\n      isEnable(context) {\n        return !context.isInPlot();\n      },\n      action: ['element-range-highlight:clear', 'rect-mask:end', 'rect-mask:hide'],\n    },\n  ],\n  rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', 'rect-mask:hide'] }],\n});\n\nregisterInteraction('brush', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'mousedown',\n      isEnable: isPointInView,\n      action: ['brush:start', 'rect-mask:start', 'rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'mousemove',\n      isEnable: isPointInView,\n      action: ['rect-mask:resize'],\n    },\n  ],\n  end: [\n    {\n      trigger: 'mouseup',\n      isEnable: isPointInView,\n      action: ['brush:filter', 'brush:end', 'rect-mask:end', 'rect-mask:hide', 'reset-button:show'],\n    },\n  ],\n  rollback: [{ trigger: 'reset-button:click', action: ['brush:reset', 'reset-button:hide', 'cursor:crosshair'] }],\n});\n\nregisterInteraction('brush-visible', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'plot:mousedown',\n      action: ['rect-mask:start', 'rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: ['rect-mask:resize'],\n    },\n    { trigger: 'mask:change', action: ['element-range-highlight:highlight'] },\n  ],\n  end: [\n    {\n      trigger: 'plot:mouseup',\n      action: ['rect-mask:end', 'rect-mask:hide', 'element-filter:filter', 'element-range-highlight:clear'],\n    },\n  ],\n  rollback: [\n    {\n      trigger: 'dblclick',\n      action: ['element-filter:clear'],\n    },\n  ],\n});\n\nregisterInteraction('brush-x', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'mousedown',\n      isEnable: isPointInView,\n      action: ['brush-x:start', 'x-rect-mask:start', 'x-rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'mousemove',\n      isEnable: isPointInView,\n      action: ['x-rect-mask:resize'],\n    },\n  ],\n  end: [\n    {\n      trigger: 'mouseup',\n      isEnable: isPointInView,\n      action: ['brush-x:filter', 'brush-x:end', 'x-rect-mask:end', 'x-rect-mask:hide'],\n    },\n  ],\n  rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n});\n\nregisterInteraction('element-path-highlight', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    { trigger: 'mousedown', isEnable: isPointInView, action: 'path-mask:start' },\n    { trigger: 'mousedown', isEnable: isPointInView, action: 'path-mask:show' },\n  ],\n  processing: [{ trigger: 'mousemove', action: 'path-mask:addPoint' }],\n  end: [{ trigger: 'mouseup', action: 'path-mask:end' }],\n  rollback: [{ trigger: 'dblclick', action: 'path-mask:hide' }],\n});\n\n// \nregisterInteraction('element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'element-single-selected:toggle' }],\n});\n\n// \nregisterInteraction('legend-filter', {\n  showEnable: [\n    { trigger: 'legend-item:mouseenter', action: ['cursor:pointer', 'list-radio:show'] },\n    { trigger: 'legend-item:mouseleave', action: ['cursor:default', 'list-radio:hide'] },\n  ],\n  start: [\n    {\n      trigger: 'legend-item:click',\n      isEnable: (context) => {\n        return !context.isInShape('legend-item-radio');\n      },\n      action: ['list-unchecked:toggle', 'data-filter:filter', 'list-radio:show'],\n    },\n    //  :  radio === truthy  legend-item-radio \n    {\n      trigger: 'legend-item-radio:mouseenter',\n      action: ['list-radio:showTip'],\n    },\n    {\n      trigger: 'legend-item-radio:mouseleave',\n      action: ['list-radio:hideTip'],\n    },\n    {\n      trigger: 'legend-item-radio:click',\n      action: ['list-focus:toggle', 'data-filter:filter', 'list-radio:show'],\n    },\n  ],\n});\n\n// \nregisterInteraction('continuous-filter', {\n  start: [{ trigger: 'legend:valuechanged', action: 'data-filter:filter' }],\n});\n// \nregisterInteraction('continuous-visible-filter', {\n  start: [{ trigger: 'legend:valuechanged', action: 'element-filter:filter' }],\n});\n\n// \nregisterInteraction('legend-visible-filter', {\n  showEnable: [\n    { trigger: 'legend-item:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'legend-item:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'legend-item:click', action: ['list-unchecked:toggle', 'element-filter:filter'] }],\n});\n\n// \nregisterInteraction('active-region', {\n  start: [{ trigger: 'plot:mousemove', action: 'active-region:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'active-region:hide' }],\n});\n\n// \nregisterInteraction('axis-description', {\n  start: [{ trigger: 'axis-description:mousemove', action: 'axis-description:show' }],\n  end: [{ trigger: 'axis-description:mouseleave', action: 'axis-description:hide' }]\n})\n\nfunction isWheelDown(event) {\n  event.gEvent.preventDefault();\n  return event.gEvent.originalEvent.deltaY > 0;\n}\nregisterInteraction('view-zoom', {\n  start: [\n    {\n      trigger: 'plot:mousewheel',\n      isEnable(context) {\n        return isWheelDown(context.event);\n      },\n      action: 'scale-zoom:zoomOut',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n    {\n      trigger: 'plot:mousewheel',\n      isEnable(context) {\n        return !isWheelDown(context.event);\n      },\n      action: 'scale-zoom:zoomIn',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n});\n\nregisterInteraction('sibling-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'sibling-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'sibling-tooltip:hide' }],\n});\n\nregisterInteraction('plot-mousewheel-scroll', {\n  start: [{ trigger: 'plot:mousewheel', action: 'mousewheel-scroll:scroll' }],\n});\n\n//  TS  View  Geometry \n/**\n *  View  Geometry \n *\n * Tips:\n * view module augmentation, detail: http://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation\n */\ndeclare module './chart/view' {\n  interface View {\n    /**\n     *  Polygon \n     * @param [cfg]  Polygon \n     * @returns polygon  Polygon \n     */\n    polygon(cfg?: Partial<GeometryCfg>): Polygon;\n    /**\n     *  Point \n     * @param [cfg]  Point \n     * @returns point  Point \n     */\n    point(cfg?: Partial<GeometryCfg>): Point;\n    /**\n     *  Interval \n     * @param [cfg]  Interval \n     * @returns interval  Interval \n     */\n    interval(cfg?: Partial<IntervalCfg>): Interval;\n    /**\n     *  Schema \n     * @param [cfg]  Schema \n     * @returns schema  Schema \n     */\n    schema(cfg?: Partial<GeometryCfg>): Schema;\n    /**\n     *  Path \n     * @param [cfg]  Path \n     * @returns path  Path \n     */\n    path(cfg?: Partial<PathCfg>): Path;\n    /**\n     *  Line \n     * @param [cfg]  Line \n     * @returns line  Line \n     */\n    line(cfg?: Partial<PathCfg>): Line;\n    /**\n     *  Area \n     * @param [cfg]  Area \n     * @returns area  Area \n     */\n    area(cfg?: Partial<AreaCfg>): Area;\n    /**\n     *  Edge \n     * @param [cfg]  Edge \n     * @returns schema  Edge \n     */\n    edge(cfg?: Partial<GeometryCfg>): Edge;\n    /**\n     *  Heatmap \n     * @param [cfg]  Heatmap \n     * @returns heatmap  Heatmap \n     */\n    heatmap(cfg?: Partial<GeometryCfg>): Heatmap;\n    /**\n     *  Violin \n     * @param [cfg]  Violin \n     * @returns violin  Violin \n     */\n    violin(cfg?: Partial<GeometryCfg>): Violin;\n  }\n}\n\n// \nexport { VIEW_LIFE_CIRCLE } from './constant';\n/** brush  */\nexport { BRUSH_FILTER_EVENTS, ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\nexport * from './core';\n",null,null,null,null,"/*  */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  //  polygon \n  //  xs [1, 1, 1, 1]\n  //  ys [0, 0, 0, 0]\n  //  k = 0\n  //  [NaN, NaN]\n  // \n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   *  bbox \n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n\n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n *  BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \n  // geometry : edge,heatmap,interval,line,path,point,polygon,schema,voilininterval  linear scale \n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  //  (fix-later  scale type )\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n *  scale values  coordinate  range\n * @param scale  scale \n * @param coordinate coordinate \n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // , [0.5,0.5] \n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \n      range = [offset, 1 - offset]; // \n    }\n  }\n  return range;\n}\n\n/**\n * @function yscalemax\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // values[] NaN/undefined/null \n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n","import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis titlemix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   *  spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \n     * //  10% 10%\n     * ['10%', '10%']\n     * //  10px 10px\n     * [10, 10]\n     *\n     * // \n     * ['10%', 10]\n     * //  10% 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // xSPacing, ySpacing\n    // \n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num  cols/rows\n     * spacing  xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    //  index \n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      //  cp1 \n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      //  nextCp0 \n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskBBox;\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskShape.attr('path');\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return target && target.get('name') === 'mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); //  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   *  action method \n   * -  action args \n   */\n  arg?: any | any[];\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n  /**\n   *  action \n   */\n  arg?: any;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExecute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        };\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n *  axis \n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n      iconStyle: {\n        fill: styleSheet.axisDescriptionIconFillColor\n      }\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n *  legend \n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, //  value \n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \n  };\n}\n\n/**\n * \n * @param styleSheet \n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // Theme\n    /** geometrygeometrynull */\n    columnWidthRatio: 1 / 2,\n    /**  */\n    maxColumnWidth: null,\n    /**  */\n    minColumnWidth: null,\n    /**  */\n    roseWidthRatio: 0.9999999,\n    /** / */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, //  rail \n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: 'transparent',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(0,0,0,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: brandColor,\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel  */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#000',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: brandColor,\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: brandColor,\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: brandColor,\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: brandColor,\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: brandColor,\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  //   ( light )\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  //  \n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n *  tooltip  title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  //  scale scale.getText() \n  //  scale title \n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        //  position \n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // null ,undefined\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  //  view \n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry  tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        //  'area', 'line', 'path' tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry  item geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n *  12  view \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  //  coordinate \n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          //  value  range  to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            //  range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone  padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  //  auto padding padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  //  padding \n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    //  axis \n    paddingCal.max(exceed);\n  });\n\n  //  padding \n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n *  syncViewPadding \n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  //  view  autoPadding \n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string;\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** padding */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: PaddingCal;\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /**  shape */\n  private backgroundStyleRectShape;\n  /**  view  padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   * @param params render \n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view  geometry  chart.geometry()  #2799\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    //  view \n    //  view \n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    //  padding \n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  4.1  view chart - view \n    //  API  warning\n    if (this.parent && this.parent.parent) {\n      //  3  \n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \n   * @returns  G2 \n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   *  padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   *  view  geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   *  view  geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoordinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    //  padding\n    this.renderPaddingRecursive(isUpdate);\n    // \n    this.renderLayoutRecursive(isUpdate);\n    //  shape\n    this.renderBackgroundStyleShape();\n    //  render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  shape\n   *  view  view \n   */\n  private renderBackgroundStyleShape() {\n    // \n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \n    if (background) {\n      // 1. \n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          //  shape \n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2.  shape \n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   *  view  padding coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  view  padding \n    // 4.1.  auto padding -> absolute padding appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2.  coordinateBBox Coordinate\n    //  view  viewBBox  parent  coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view padding\n    //  padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      //  padding  coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3.  view  view padding \n    this.doLayout();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      //  clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    //  coordinate bbox \n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          //  range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    //  render\n    for (let i = 0; i < this.getComponents().length; i++) {\n      const co = this.getComponents()[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \n    if (this.coordinateController) {\n      //  coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      //  coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    //  events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text', 'axis-description'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   *  WAI-ARIA  arial \n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    //  changeSize \n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   *  aria \n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); //  visible \n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      //  true autoFit = falseforceFit() \n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption  option used in annotation\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, isPointInCoordinate, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    //  customContent  tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title  items ,  tooltip \n    //  !isEqual(lastTitle, title) || !isEqual(lastItems, items)  tooltip \n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 resizetooltip\n      // tooltip\n      const canvas = this.view.getCanvas();\n      // TODO  tooltip  canvas \n      //  region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   *  enter tooltip \n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    //  tooltip dom \n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        //  clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...marker,\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   *  items  items\n   * \n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /** element  */\n  elementIndex?: number;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /** element  */\n  public elementIndex: number;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[] = [];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \n    newShape.cfg.element = this;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = [];\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        //  geometry  animate \n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    //  shape  clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          //  element  name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); //  name\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape  ( shapeFactory )\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n *  added, updated, removed\n * @param keyItem  key-item  object \n * @param keys  array \n * @returns  added, updated, removed array  object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GEOMETRY_LIFE_CIRCLE, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** xpadding */\n  xDimensionLength?: number;\n  /** offset */\n  groupNum?: number;\n  /**  size */\n  defaultSize?: number;\n  /**  */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /**  */\n  columnWidthRatio?: number;\n  /** dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /** elements  zIndex  zIndexReversed  */\n  zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  sortZIndex?: boolean;\n  /**  Geometry .  true ,  timeout  */\n  useDeferredLabel?: boolean | number;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n\n  /**  */\n  intervalPadding?: number;\n  /**  */\n  dodgePadding?: number;\n  /**  */\n  maxColumnWidth?: number;\n  /**  */\n  minColumnWidth?: number;\n  /** intervalschema */\n  columnWidthRatio?: number;\n  /**  */\n  roseWidthRatio?: number;\n  /** / */\n  multiplePieWidthRatio?: number;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /** custom  */\n  protected customOption: CustomOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \n  /**  */\n  protected intervalPadding: number;\n  /**  */\n  protected dodgePadding: number;\n  /**  */\n  protected maxColumnWidth: number;\n  /**  */\n  protected minColumnWidth: number;\n  /**  */\n  protected columnWidthRatio: number;\n  /**  */\n  protected roseWidthRatio: number;\n  /** / */\n  protected multiplePieWidthRatio: number;\n  /** elements  zIndex  zIndexReversed  */\n  public zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  public sortZIndex?: boolean;\n  protected useDeferredLabel?: null | number;\n\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n      useDeferredLabel,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n    this.useDeferredLabel = useDeferredLabel ? (typeof useDeferredLabel === 'number' ? useDeferredLabel : Infinity) : null;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  shape  shape  shape  shape \n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   *  shape \n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.initAttributes(); // \n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      const deferred = this.useDeferredLabel;\n      const callback = (() => this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate)).bind(this);\n      if (typeof deferred === 'number') {\n        // Use `requestIdleCallback` to render labels in idle time (like react fiber)\n        const timeout = (typeof deferred === 'number' && deferred !== Infinity) ? deferred : 0;\n        if (!window.requestIdleCallback) {\n          setTimeout(callback, timeout);\n        } else {\n          const options = timeout && timeout !== Infinity ? { timeout } : undefined;\n          window.requestIdleCallback(callback, options);\n        }\n      } else {\n        callback();\n      }\n    }\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   *  adjust \n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  coordinate \n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    //  diff  added, updated \n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    //  keys\n    //  key \n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    //  element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(currentShapeCfg); //  element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  setZIndex  sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    //  elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // theme\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // size\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          // theme\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private async renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_RENDER_LABEL);\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    await geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    // Store labels for every element.\n    const elementLabels = new Map<Element, Set<IGroup>>();\n    each(labelsMap, (labelGroup: IGroup, labelGroupId: string) => {\n      const labelChildren = labelGroup.getChildren() || [];\n      for (let j = 0; j < labelChildren.length; j++) {\n        const labelShape = labelChildren[j];\n        const element = this.elementsMap[labelShape.get('elementId') || labelGroupId.split(' ')[0]];\n        if (element) {\n          labelShape.cfg.name = ['element', 'label'];\n          labelShape.cfg.element = element;\n          const labels = elementLabels.get(element) || new Set();\n          labels.add(labelGroup);\n          elementLabels.set(element, labels);\n        }\n      }\n    });\n    for (const [element, labels] of elementLabels.entries()) {\n      element.labelShape = [...labels];\n    }\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.AFTER_RENDER_LABEL);\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n *  ()\n * @param element \n * @param rotateRadian \n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\n\n/**\n *  Label Group  shape \n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * : box () + rotation ()\n */\nexport function getLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: { rotate?: number;[key: string]: any },\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup && labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n\n  return { x: 0, y: 0, width: 0, height: 0, rotation: 0 };\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n  /**\n   * \n   */\n  public async render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    const shapesMap = {};\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          shapesMap[item.id] = this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // [todo] Move layout into Worker.\n      // step 2:  labels\n      await this.doLayout(items, shapes, shapesMap);\n\n      // step 3.1:  labelLine\n      this.renderLabelLine(items, shapesMap);\n      // step 3.2:  labelBackground\n      this.renderLabelBackground(items, shapesMap);\n      // step 4:  label\n      this.adjustLabel(items, shapesMap);\n    }\n\n    // \n    const lastShapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; //  shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          // If container has been destroyed, no need to render labels.\n          if (this.container.destroyed) return;\n          this.container.add(shape);\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.shapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup): IGroup {\n    const { id, elementId, data, mappingData, coordinate, animate, content } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    return labelGroup;\n  }\n\n  // typelabel\n  private async doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>, shapesMap: Record<string, IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      await Promise.all(layouts.map((layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (!layoutFn) return;\n\n        const labelShapes = [];\n        const geometryShapes = [];\n        each(shapesMap, (labelShape, id) => {\n          labelShapes.push(labelShape);\n          geometryShapes.push(shapes[labelShape.get('elementId')]);\n        });\n        // [todo] Refactor more layout into Worker.\n        return layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n      }));\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[], shapesMap) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix:  label content  group  content group   spider label  2  textShape  gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label  */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc  label ( id  idx )\n * @done shape \n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  fromShape.getChildren().forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public async render(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mappingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    await labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon  (interval  middle)  offset  0  \n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon  offset  0  \n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc  label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label  ()\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            //  label y,  y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // label X \n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        elementId: this.geometry.getElementId(mappingData), // label  Element  ID\n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg  innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      //  offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/**  marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n *  marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n *  marker  symbol, \n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n *  marker  symbol  symbol \n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @param showSinglePoint \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n *  path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *   path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n *   \n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); //  connectNulls  points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n *  path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","/* G2  Geometry */\n\nexport const VERSION = '4.2.2';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as Element } from './geometry/element'; // Element \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction, Action } from './interaction'; // Interaction, Action \nexport { Facet } from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \n  getPath,\n  getPathPoints,\n};\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: '#141414',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(255,255,255,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendSpacing: 16,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry label  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    overflowLabelFontSize: 12,\n    /** Geometry label  */\n    overflowLabelLineHeight: 12,\n    /** Geometry label  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#fff',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: QUALITATIVE_10[0],\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: QUALITATIVE_10[0],\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvDark = createDarkStyleSheet();\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n  /**  */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n  /**  */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path  element \n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); //  shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(shapeCfg); //  element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \n    let bottomLinePoints = []; // area \n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; //  X \n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /**  callback  */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *  rect path  radius\n * @returns  path  arc \n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  //  \n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n *  interval  path\n * @param cfg \n * @param points  4 \n * @param coordinate \n * @returns  path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      path.push(['M', p0.x, p1.y + r1]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p1.x, p1.y + r2]);\n      path.push(['L', p1.x, p0.y - r3]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      //  path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      //  path coordinate \n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param lineCap 'round'\n * @param coor \n * @returns  path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n *   \n * - \n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  //  \n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n  }\n\n  /**\n   * \n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1  p2\n   *      \n   *  p0  p3\n   *\n   *  \n   *\n   *  p0  p3               p2  p1\n   *                           \n   *  p1  p2  --> ()  p3  p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (coordinate.isTransposed) {\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  if (p0.y < p1.y /**  */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/**  */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \n  const { intervalPadding, dodgePadding } = geometry;\n  // theme\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // count\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \n    normalizedSize *= wr;\n  }\n  // \n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path  */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape  Interval Geometry  interval-rect shape  */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape  interval-rect shape  */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; //  X \n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \n * \n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size  */\n  private _sizeField: string;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), //  rect \n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   *  interval label  value \n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points  x/y  transpose \n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   *  interval  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   *  interval label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    //  interval label position  middle offset  0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc  label offset\n   * polar & theta coordinate supportstringtype, should transform to number\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   *  labelItems,  percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * \n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { Point } from '../dependents';\n\ntype Vec2 = [number, number];\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n/**\n * \n */\ntype Projection = { min: number; max: number };\n\nfunction dot(a, b) {\n  return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n}\n\n/**\n * @private\n * 1. \n */\nfunction getAxes(points: Point[] /**  */): Vec2[] {\n  //   , \n  if (points.length > 4) {\n    return [];\n  }\n  // \n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  //   2 : A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \n * \n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Item): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \n *\n * \n * 1 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n  // \n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Item) {\n  return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n}\n\n/**\n * \n */\nexport function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * , \n *\n * - : \n */\nexport function intersect(box1: Item, box2: Item, margin: number = 0) {\n  //  box  box\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2, margin);\n  }\n\n  //  4 \n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \n  const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \n    if (!isProjectionOverlap(projection1, projection2)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","const onmessage = function (e) {\n  type Item = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    rotation?: number;\n    visible?: boolean;\n  };\n\n  // Copy from src/util/collision-detect.ts\n  function generateUtils() {\n    type Vec2 = [number, number];\n\n    type Point = { x: number; y: number };\n\n    /**\n     * \n     */\n    type Projection = { min: number; max: number };\n\n    function dot(a, b) {\n      return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n    }\n    /**\n     * 1. \n     */\n    function getAxes(points: Point[] /**  */): Vec2[] {\n      //   , \n      if (points.length > 4) {\n        return [];\n      }\n      // \n      const vector = (start: Point, end: Point): Vec2 => {\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      //   2 : A -> B, B -> C\n      const AB = vector(points[0], points[1]);\n      const BC = vector(points[1], points[2]);\n\n      return [AB, BC];\n    }\n\n    /**\n     * \n     * \n     */\n    function rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n      const { x, y } = point;\n      return {\n        x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n        y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n      };\n    }\n\n    /**\n     * @private\n     * \n     *\n     * @param {Object} box\n     */\n    function getRectPoints(box: Item): Point[] {\n      const points = [\n        { x: box.x, y: box.y },\n        { x: box.x + box.width, y: box.y },\n        { x: box.x + box.width, y: box.y + box.height },\n        { x: box.x, y: box.y + box.height },\n      ];\n\n      const rotation = box.rotation;\n      if (rotation) {\n        return [\n          rotateAtPoint(points[0], rotation, points[0]),\n          rotateAtPoint(points[1], rotation, points[0]),\n          rotateAtPoint(points[2], rotation, points[0]),\n          rotateAtPoint(points[3], rotation, points[0]),\n        ];\n      }\n\n      return points;\n    }\n\n    /**\n     * 2. \n     *\n     * \n     * 1 x1 * x2 + y1 * y2\n     */\n    function getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n      // \n      if (points.length > 4) {\n        return { min: 0, max: 0 };\n      }\n\n      const scalars = [];\n      points.forEach((point) => {\n        scalars.push(dot([point.x, point.y], axis));\n      });\n\n      return { min: Math.min.apply(null, scalars), max: Math.max.apply(null, scalars) };\n    }\n\n    function isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n      return projection1.max > projection2.min && projection1.min < projection2.max;\n    }\n\n    function isValidNumber(d: number) {\n      return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n    }\n\n    function isValidBox(box: Item) {\n      return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n    }\n\n    function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n      return !(\n        box2.x > box1.x + box1.width + margin ||\n        box2.x + box2.width < box1.x - margin ||\n        box2.y > box1.y + box1.height + margin ||\n        box2.y + box2.height < box1.y - margin\n      );\n    }\n    function intersect(box1: Item, box2: Item, margin: number = 0) {\n      if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n      // Quick detect, if rotation is null or zero.\n      if (!box1.rotation && !box2.rotation) {\n        return isIntersectRect(box1, box2, margin);\n      }\n\n      //  4 \n      const rect1Points = getRectPoints(box1);\n      const rect2Points = getRectPoints(box2);\n\n      // \n      const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n      for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const projection1 = getProjection(rect1Points, axis);\n        const projection2 = getProjection(rect2Points, axis);\n\n        if (!isProjectionOverlap(projection1, projection2)) return false;\n      }\n\n      return true;\n    }\n    return { intersect }\n  }\n  const { intersect } = generateUtils();\n\n  // Label layouts.\n  function hideOverlap(items: Item[]) {\n    const boxes = items.slice();\n    for (let i = 0; i < boxes.length; i++) {\n      const box1 = boxes[i];\n      if (box1.visible) {\n        for (let j = i + 1; j < boxes.length; j++) {\n          const box2 = boxes[j];\n          if (box1 !== box2 && box2.visible) {\n            if (intersect(box1, box2)) {\n              box2.visible = false;\n            }\n          }\n        }\n      }\n    }\n    return boxes;\n  }\n\n  const methods = {\n    'hide-overlap': hideOverlap,\n  }\n\n  // Main\n  try {\n    const eventData = JSON.parse(e.data);\n    if (!eventData || !eventData.type || !methods[eventData.type]) return;\n\n    const { type, items } = eventData;\n    const result = methods[type](items);\n    self.postMessage(result);\n  } catch (e) {\n    throw e;\n  }\n}\n\nconst code = `\n   self.onmessage = ${onmessage.toString()}\n`\nexport { code };\n","import { get, each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { intersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getLabelBackgroundInfo } from '../util';\nimport { createWorker } from '../util/createWorker';\nimport { code as layoutCode } from './worker/hide-overlap';\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n\nconst layout = (items: Item[]): Item[] => {\n  const boxes = items.slice();\n  for (let i = 0; i < boxes.length; i++) {\n    const box1 = boxes[i];\n    if (box1.visible) {\n      for (let j = i + 1; j < boxes.length; j++) {\n        const box2 = boxes[j];\n        if (box1 !== box2 && box2.visible) {\n          if (intersect(box1, box2)) {\n            box2.visible = false;\n          }\n        }\n      }\n    }\n  }\n  return boxes;\n}\n\nconst cache: Map<string, any> = new Map();\nconst worker = createWorker(layoutCode);\n\n/**\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function hideOverlap(labelItems: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  // todo  label rank\n  return new Promise((resolve) => {\n    const boxes = labels.map((d, idx) => ({\n      ...getLabelBackgroundInfo(d, labelItems[idx], get(labelItems[idx], 'background.padding')),\n      visible: true,\n    }));\n    const memoKey = JSON.stringify(boxes);\n    const cb = (items: Item[]) => {\n      cache.set(memoKey, items);\n      each(items, ({ visible }, idx) => {\n        const labelShape = labels[idx];\n        if (visible) {\n          labelShape?.show()\n        } else {\n          labelShape?.hide();\n        }\n      });\n      return resolve(items);\n    }\n    if (cache.get(memoKey)) {\n      cb(cache.get(memoKey))\n    } else if (worker) {\n      // Do layout in worker.\n      try {\n        worker.postMessage(JSON.stringify({ type: 'hide-overlap', items: boxes }));\n        worker.onmessage = (e) => cb(Array.isArray(e.data) ? e.data : []);\n        worker.onmessageerror = (e) => {\n          console.warn('[AntV G2] Web worker is not available');\n          // Normal layout in main thread.\n          cb(layout(boxes));\n        };\n      } catch (e) {\n        console.error(e);\n        cb(layout(boxes));\n      }\n    } else {\n      // Normal layout in main thread.\n      cb(layout(boxes));\n    }\n  });\n}\n","export function createWorker(f: any) {\n  if (typeof window === \"undefined\") return;\n\n  let blob;\n  try {\n    blob = new Blob([f.toString()], { type: 'application/javascript' });\n  } catch (e) {\n    // @ts-ignore\n    blob = new window.BlobBuilder();\n    blob.append(f.toString());\n    blob = blob.getBlob();\n  }\n\n  return new Worker(URL.createObjectURL(blob));\n}\n","import colorUtil from '@antv/color-util';\n\n// \nconst preset = {\n  '#5B8FF9': true,\n};\n\n// YIQ\n// http://24ways.org/2010/calculating-color-contrast\n// http://www.w3.org/TR/AERT#color-contrast\nexport const isContrastColorWhite = (color: string): boolean => {\n  const rgb = colorUtil.toRGB(color).toUpperCase();\n  if (preset[rgb]) {\n    return preset[rgb];\n  }\n\n  const [r, g, b] = colorUtil.rgb2arr(rgb);\n  const isDark = (r * 299 + g * 587 + b * 114) / 1000 < 128;\n\n  return isDark;\n};\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { isString, memoize, values, toString } from '@antv/util';\nimport * as CSS from 'csstype';\nimport { getCanvasContext } from './context';\n\ntype FontFace = CSS.Properties;\n\ntype Font = Pick<FontFace, 'fontFamily' | 'fontWeight' | 'fontStyle' | 'fontVariant'> & {\n  fontSize?: number;\n};\n\n/**\n * \n */\nexport const measureTextWidth = memoize(\n  (text: any, font: Font = {}): number => {\n    const { fontSize, fontFamily, fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    ctx!.font = [fontStyle, fontVariant, fontWeight, `${fontSize}px`, fontFamily].join(' ');\n    return ctx!.measureText(isString(text) ? text : '').width;\n  },\n  (text: any, font: Font = {}) => [text, ...values(font)].join('')\n);\n\n/**\n *  ... \n *  measureText measureText \n * 1.  STEP  maxWidth \n * 2. \n * @param text ,  string,number\n * @param maxWidth\n * @param font\n */\nexport const getEllipsisText = (text: any, maxWidth: number, font?: Font) => {\n  const STEP = 16; //  16\n  const DOT_WIDTH = measureTextWidth('...', font);\n\n  let leftText;\n\n  if (!isString(text)) {\n    leftText = toString(text);\n  } else {\n    leftText = text;\n  }\n\n  let leftWidth = maxWidth;\n\n  const r = []; // \n  let currentText;\n  let currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  }\n\n  //  step \n  while (true) {\n    // \n    currentText = leftText.substr(0, STEP);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText);\n\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP);\n\n    // \n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  //  STEP 1 \n  while (true) {\n    // \n    currentText = leftText.substr(0, 1);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText);\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return `${r.join('')}...`;\n};\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  if (isNumberEqual(endAngle, Math.PI * -0.5)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nfunction getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  //  diff  attrs\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack,  /examples/bar/basic/demo/radial-line.ts \n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        //  path  setState() \n        shape.attr('path', path);\n      },\n    }\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = (Math.PI * 2) / count;\n\n    // \n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \n    const endAngle = (Math.PI * 1) / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 1/3\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * \n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/**  */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   *  annotation  render  layout \n   */\n  public layout() {\n    this.update();\n  }\n\n  //  Annotation  layout() \n  public render() { }\n\n  /**\n   * \n   */\n  public update() {\n    // 1.   Geometry \n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      //  regionFilter/shape \n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      //  cache\n      // \n      this.cache = this.syncCache(updated);\n    });\n\n    // 2.  regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        //  geometry \n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n            doWhat();\n          });\n        }\n      });\n    } else {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   *  ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   *  HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html  parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html  G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   *  annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      //  regionFilter/shape render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter/shape regionFilter/shape  Geometry  Shape view render \n        //  render \n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \n   * @param updated \n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \n\n    //  update  cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    //  options \n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   *  key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    //  id id string option  key\n    return option;\n    //  id \n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid x \n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    //  verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      ticks.pop();\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    //  update \n    this.update();\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) {\n      return;\n    }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    //  legend  viewBBox \n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        //  view \n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   *  slider \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   *  start/end  minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   *  view \n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    //  x \n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      //  bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /**   */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /**   */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    //  y \n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport { View } from 'src/chart';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false  shape  view  Geometry shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n *  Action.  interval  schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   * @param {ShapeAttrs} style region-path \n   * @param {number} appendRatio .  x  linear : 0.25, x  linear :  0\n   * @param {number} appendWidth  .  > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; //  x \n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            //    minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    //  showDelay  16ms tooltip  enterable\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    //  enterable +  tooltip \n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    //  tooltip \n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n *  Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      const tipContent = target.get('tip');\n      //  tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); //  tooltip \n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      //  mask \n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \n * 1. toggle \n * 2. checked \n * 3. reset \n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  //  checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  checked  checked \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * .\n   * 1.    item \n   * 2. \n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      //    unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   *  checked  unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1.  checked radio, clickItem \n       * 2. \n       *    2.1  item  clickItem\n       *    2.2  item\n       * 3.  2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip ()\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      //  tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r,\n    };\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(): Region {\n    const points = this.points;\n    return {\n      start: head(points),\n      end: last(points),\n    };\n  }\n  // \n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    const x = Math.min(start.x, end.x);\n    const y = Math.min(start.y, end.y);\n    const width = Math.abs(end.x - start.x);\n    const height = Math.abs(end.y - start.y);\n    return {\n      x,\n      y,\n      width,\n      height,\n    };\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(): Region {\n    let start = null;\n    let end = null;\n    const points = this.points;\n    const dim = this.dim;\n    const coord = this.context.view.getCoordinate();\n    const normalStart = coord.invert(head(points));\n    const normalEnd = coord.invert(last(points));\n    if (this.inPlot) {\n      //  0 - 1 \n      clampPoint(normalStart);\n      clampPoint(normalEnd);\n    }\n    if (dim === 'x') {\n      // x , y \n      start = coord.convert({\n        x: normalStart.x,\n        y: 0,\n      });\n      end = coord.convert({\n        x: normalEnd.x,\n        y: 1,\n      });\n    } else {\n      // y , x \n      start = coord.convert({\n        x: 0,\n        y: normalStart.y,\n      });\n      end = coord.convert({\n        x: 1,\n        y: normalEnd.y,\n      });\n    }\n    return {\n      start,\n      end,\n    };\n  }\n}\n\nexport default DimRect;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    const path = [];\n    if (points.length) {\n      each(points, (point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n      path.push(['L', points[0].x, points[0].y]);\n    }\n    return path;\n  }\n\n  protected getMaskAttrs() {\n    return {\n      path: this.getMaskPath(),\n    };\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    return getSpline(points, true);\n  }\n}\n\nexport default SmoothPathMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { deepMix } from '@antv/util';\nimport { HtmlTooltip } from '../../../../dependents';\nimport Action from '../../base';\nimport { getDelegationObject } from '../../util';\nimport cx from 'classnames';\n\nconst AXIS_DESCRIPTION_TOOLTIP = 'aixs-description-tooltip';\n\nclass AxisDescription extends Action {\n  private tooltip;\n\n  public show() {\n    const context = this.context;\n    const { axis } = getDelegationObject(context);\n    const { description, text, descriptionTooltipStyle } = axis.cfg.title;\n    const { x, y } = context.event;\n    if (!this.tooltip) {\n      this.renderTooltip();\n    }\n    this.tooltip.update({\n      title: text || '',\n      customContent: () => {\n        return `\n          <div class=\"${TOOLTIP_CSS_CONST.CONTAINER_CLASS}\" style={${descriptionTooltipStyle}}>\n            <div class=\"${TOOLTIP_CSS_CONST.TITLE_CLASS}\">\n              ${description}\n            </div>\n          </div>\n        `;\n      },\n      x,\n      y,\n    });\n    this.tooltip.show();\n  }\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  public hide() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  public renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      containerId: AXIS_DESCRIPTION_TOOLTIP,\n      domStyles: {\n        ...deepMix(\n          {},\n          {\n            // tooltip tip  50%\n            [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n              'max-width': '50%',\n              padding: '10px',\n              'line-height': '15px',\n              'font-size': '12px',\n              color: 'rgba(0, 0, 0, .65)',\n            },\n            [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n              'word-break': 'break-all',\n              'margin-bottom': '3px',\n            },\n          }\n        ),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false);\n    this.tooltip = tooltip;\n  }\n}\nexport default AxisDescription;\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout  */\nexport interface LimitInPlotLayoutCfg {\n  /**  Plot  */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /**  margin */\n  margin?: number;\n  /**  translate ; ellipsis  text  */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n *  label  Plot  Plot  label \n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\n/**\n *  labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    //  & \n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    //  smooth, undefined  smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 0 , 1 \n      let sweepFlag = 0;\n\n      // \n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       *  (100, 100),  (100, 90),  (50, 50)  (150, 50);\n       * A  4  large-arc-flag,  180 : 0 1 \n       *  5 : \n       */\n      // \n      const largeArcFlag = 0;\n      // step1: \n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3:   \n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2:  curve line ( & , , )\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n *  outer-label ,  type = pie  label offset > 0 \n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight  label \n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      //  overflowLabel \n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; //  500 \n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** ,  */\nconst INFLECTION_OFFSET = 4;\n/** , distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/**  */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /**  */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n *  spider ,  pie-spider \n * region  labelsRenderer ()\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    if (!item) return;\n    const label = get(labelsMap, [item.id]);\n    if (!label) return;\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(separateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(separateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /**  pos.x  item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  // \b\n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n    },\n  });\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n",null,null,null,null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { Geometry, Types } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Interaction } from '../types/interaction';\nimport { Transformations } from '../types/coordinate';\nimport { Axis } from '../types/axis';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { pick, deepAssign } from '../utils';\n\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(chart.geometries, (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n *  state \n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1.  scale \n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta  scale \n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /**  annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  //  limitInPlot yAxis  min/max  limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\n/**\n * \n */\nexport function transformations(coordinateType: Types.CoordinateOption['type'] = 'rect') {\n  return (params: Params<Options & { coordinate: Transformations }>) => {\n    const { chart, options } = params;\n    const { coordinate } = options;\n\n    const actions: Types.CoordinateActions[] = Array.from(coordinate || [])\n      .map((cfg) => {\n        if (cfg.type === 'reflectX') return ['reflect', 'x'] as Types.CoordinateActions;\n        if (cfg.type === 'reflectY') return ['reflect', 'y'] as Types.CoordinateActions;\n        if (cfg.type === 'transpose') return ['transpose'] as Types.CoordinateActions;\n\n        return null;\n      })\n      .filter((d) => !!d);\n\n    if (actions.length !== 0) {\n      chart.coordinate({ type: coordinateType, actions });\n    }\n\n    return params;\n  };\n}\n\nexport { pattern } from './pattern';\n",null,null,null,null,null,null,null,null,null,null,"/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","export type { GeometryOptions } from './base';\nexport { area } from './area';\nexport type { AreaGeometryOptions } from './area';\nexport { line } from './line';\nexport type { LineGeometryOptions } from './line';\nexport { point } from './point';\nexport type { PointGeometryOptions } from './point';\nexport { interval } from './interval';\nexport type { IntervalGeometryOptions } from './interval';\nexport { polygon } from './polygon';\nexport type { PolygonGeometryOptions } from './polygon';\nexport { edge } from './edge';\nexport type { EdgeGeometryOptions } from './edge';\nexport { schema } from './schema';\nexport type { SchemaGeometryOptions } from './schema';\nexport { violin } from './violin';\nexport type { ViolinGeometryOptions } from './violin';\n","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,"import { uniq, isFunction, isObject, isString, isNumber, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr, Options, Datum } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \n */\nexport type MappingOptions = {\n  /** color  */\n  readonly color?: ColorAttr;\n  /** shape  */\n  readonly shape?: ShapeAttr;\n  /** ,  */\n  readonly size?: SizeAttr;\n  /**  */\n  readonly style?: StyleAttr;\n  /** tooltip  */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \n * // TODO  adjust  field  styleFieldlabelField \n */\nexport type Geometry = {\n  /** geometry , 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly colorField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** style  */\n  readonly styleField?: string;\n  /** tooltip  */\n  readonly tooltipFields?: string[] | false;\n  /** ,  mapping  */\n  readonly rawFields?: string[];\n  /**  */\n  readonly mapping?: MappingOptions;\n  /** label  */\n  readonly label?: Label;\n  /**  */\n  readonly state?: State;\n  /**  registerShape  */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField, rawFields = [] } = o;\n\n  let fields = [];\n\n  //  color  bar  widthRatio \n  //  color  colorField  + rawFields\n  // shape, size \n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \n    fields.splice(idx, 1);\n    // \n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   *  line geometry  color \n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    //  undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  //  mapping \n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  //  geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip  API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  //  x y \n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor  geometry  adaptor type \n    ext: { geometry },\n  };\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, //  tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n",null,null,null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"\\\\d\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  let dateTZ: Date;\n  if (dateInfo.timezoneOffset == null) {\n    dateTZ = new Date(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute,\n      dateInfo.second,\n      dateInfo.millisecond\n    );\n    const validateFields: [\n      \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n      \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n    ][] = [\n      [\"month\", \"getMonth\"],\n      [\"day\", \"getDate\"],\n      [\"hour\", \"getHours\"],\n      [\"minute\", \"getMinutes\"],\n      [\"second\", \"getSeconds\"]\n    ];\n    for (let i = 0, len = validateFields.length; i < len; i++) {\n      // Check to make sure the date field is within the allowed range. Javascript dates allows values\n      // outside the allowed range. If the values don't match the value was invalid\n      if (\n        specifiedFields[validateFields[i][0]] &&\n        dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()\n      ) {\n        return null;\n      }\n    }\n  } else {\n    dateTZ = new Date(\n      Date.UTC(\n        dateInfo.year,\n        dateInfo.month,\n        dateInfo.day,\n        dateInfo.hour,\n        dateInfo.minute - dateInfo.timezoneOffset,\n        dateInfo.second,\n        dateInfo.millisecond\n      )\n    );\n\n    // We can't validate dates in another timezone unfortunately. Do a basic check instead\n    if (\n      dateInfo.month > 11 ||\n      dateInfo.month < 0 ||\n      dateInfo.day > 31 ||\n      dateInfo.day < 1 ||\n      dateInfo.hour > 23 ||\n      dateInfo.hour < 0 ||\n      dateInfo.minute > 59 ||\n      dateInfo.minute < 0 ||\n      dateInfo.second > 59 ||\n      dateInfo.second < 0\n    ) {\n      return null;\n    }\n  }\n\n  // Don't allow invalid dates\n\n  return dateTZ;\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/**\n *  meta  key \n */\nexport const AXIS_META_CONFIG_KEYS = [\n  'type',\n  'alias',\n  'tickCount',\n  'tickInterval',\n  'min',\n  'max',\n  'nice',\n  'minLimit',\n  'maxLimit',\n  // \n  'range',\n  'tickMethod',\n  // type: 'log' \n  'base',\n  // type: 'exp' \n  'exponent',\n  // time \n  'mask',\n  // \n  'sync',\n];\n",null,null,"import { Types } from '@antv/g2';\nimport { isNumber, isArray } from '@antv/util';\n\n/**\n *  padding \n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n *  appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n *  padding  appendPadding  padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  //  padding  normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      //  padding \n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n","import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { getCanvasPattern } from '../utils/pattern';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\n\n/**\n *  Pattern  options colorField/seriesField/stackField \n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \n *   view \n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    //  pattern \n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~  ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1.  patternOption `(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2.  pattern  CanvasPattern fill\n      if (pattern instanceof CanvasPattern === false) {\n        //  createPattern(PatternStyle)  CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n","import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1.  max \n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \n * @param data\n * @param measure  // \n * @param fields //  field\n * @param as // percent \n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // key\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // key\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPercentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n","import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n","// : data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n",null,"import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  scrollbar,\n  limitInPlot,\n  state,\n  transformations,\n} from '../../adaptor/common';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { flow, transformLabel, deepAssign, findGeometry, adjustYMetaByZero, pick } from '../../utils';\nimport { getDataWhetherPercentage, getDeepPercent } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  //  legend \n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // ,seriesField \n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        //  label layout  layout  position  layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip  ()\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          return items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \n    theme, // theme  geometry \n    pattern('columnStyle'),\n    state,\n    transformations('rect'),\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n","import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { VennOptions } from './types';\n\n// \nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  //  \n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n","import { isArray, isString, filter } from '@antv/util';\n\n/** export  */\n/**  */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child  */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/**  */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n","import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n","import { get, isNumber, filter } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  //  chord layout \n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    //  id \n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n","import { theme, scale, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get, last, isNil, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// '/'\nconst PADDING = 4;\n// \nconst PADDING_LEFT = 0;\n// \nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb:  */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /**  */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \n */\nexport type HierarchyNode<N = any /**  */> = {\n  /** todo  key  origin */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** ,  transformData  */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** .  unique */\n  depth: number;\n  /** depth + height =  */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description  action\n * @author liuzhenying\n *\n * hierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \n  protected historyCache: HistoryCache = [];\n  //  group\n  private breadCrumbGroup: IGroup = null;\n  // \n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * , \n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   *  chart  afterchangesize \n   */\n  public resetPosition() {\n    //  changedata  resetPosition  this.breadCrumbGroup \n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo  margin  padding \n    //  polar  coordinate\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP  */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   *  view \n   * @param nodeInfo \n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    //  update \n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \n   * @param historyCache \n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   *  mix \n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   *  Button  \n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    //  group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \n    let left = 0;\n    cache.forEach((record, index) => {\n      // \n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n","export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/**    */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \n  range: {\n    ticks: [],\n  }, // \n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    //  view  scale  v \n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,"var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","/**\n * \n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n","import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  limitInPlot,\n  scrollbar,\n} from '../../adaptor/common';\nimport { findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { point, line, area } from '../../adaptor/geometries';\nimport { flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      //  tooltip \n      // \n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * .  reflect \n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label  false,   label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n","import { PatternCfg } from '../../types/pattern';\n\n/**\n * \n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n *  cavnas\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \n *\n * @param size \n * @param padding \n * @param isStagger \n * @reutrn \n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // , unitSize \n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \n *\n * @param unitSize \n * @param isStagger \n * @reutrn  x,y \n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // ,  dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n *  pattern , \n *\n * @param pattern \n * @param dpr  \n * @param rotation \n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n","import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { LineOptions } from '../line/types';\nimport { ColumnOptions } from '../column/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  /**\n   * @title \n   */\n  readonly geometry?: string;\n  /**\n   * @title \n   */\n  readonly label?: Options['label'];\n  /**\n   * @title legend\n   */\n  readonly legend?: Options['legend'];\n  /**\n   * @title \n   */\n  readonly color?: Options['color'];\n  /**\n   * @title \n   * @default false\n   */\n  readonly isGroup?: boolean;\n  /**\n   * @title \n   * @description  seriesField\n   */\n  readonly groupField?: string;\n};\n\n// ,  LineOption \nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * @title \n   * @description \n   */\n  readonly data: Array<Record<string, any>[]>;\n  /**\n   * @title  x \n   * @description x \n   */\n  readonly xField: string;\n  /**\n   * @title  y \n   * @description \n   */\n  readonly yField: string[];\n  /**\n   * @title  yAxis \n   * @description  object key  y \n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n  /**\n   * @title \n   */\n  readonly geometryOptions?: GeometryOption[];\n  /**\n   * @title  annotation \n   * @description object  field \n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n","import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport {\n  DualAxesOptions,\n  GeometryOption,\n  DualAxesGeometry,\n  GeometryLineOption,\n  GeometryColumnOption,\n  AxisType,\n} from '../types';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\n\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n","import { isString } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { ProgressOptions } from './types';\nimport { DEFAULT_COLOR } from './constants';\nimport { getProgressData } from './utils';\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: '1',\n      yField: 'percent',\n      seriesField: 'type',\n      isStack: true,\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      type: 'target',\n      percent: 1 - clampPercent,\n    },\n  ];\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \n  interactions: [{ type: 'active-region' }],\n\n  //  tooltips  markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n","import { View } from '@antv/g2';\n\n/** tofront:   */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip  */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    //  crosshairs textBackground \n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n","import { Types } from '@antv/g2';\nimport { isFunction, map, isNumber, maxBy, get } from '@antv/util';\nimport { Datum, Data } from '../../../types/common';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\n\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    const { conversionTag } = options;\n\n    const { data } = chart.getOptions();\n\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n *  root \n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/**  */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \n  hierarchyConfig: {\n    //  value\n    field: 'value',\n  },\n\n  // \n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \n  drilldown: { enabled: true },\n});\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    //  element:mouseleave \n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n","export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n","export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { MixOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { MixOptions };\n\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /**  */\n  public type: string = 'mix';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n","import { View } from '@antv/g2';\n\n/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n","const MAX_MIX_LEVEL = 5; // \n\nconst toString = {}.toString;\n\n// \nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null  undefined \n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n","import { View, IGroup } from '@antv/g2';\nimport { each, get, isNumber, isFunction, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { pick, kebabCase } from '.';\n\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  //  shapeStyle   start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  //  shapeStyle   end\n\n  each(style, (v, k) => {\n    //   shapeStyle  fontSize \n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n","import { each } from '@antv/util';\n/**\n * @file ...\n */\nexport const GLOBAL = {\n  /**  */\n  locale: 'en-US',\n};\n\n/**\n * \n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n","import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n *  CanvasPattern \n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** point  */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { AreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  annotation,\n  limitInPlot,\n  pattern,\n  transformations,\n} from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { Params } from '../../core/adaptor';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { meta, legend, axis } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: { color, style: areaStyle },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  //  2px ( state fill  stroke )\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      //  tooltip \n      // \n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label  false,   label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    transformations('rect'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { ColumnOptions };\n\n/**\n * \n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n  if (prev === 0) {\n    return '';\n  }\n  if (next === 0) {\n    return '-';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n","import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { deepAssign } from '../utils';\nimport { Options as BaseOptions, BrushCfg, Interaction, Writable } from '../types';\n\n/** brush  */\nimport '../interactions/brush';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  //  brush \n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  //  brush \n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush.mask?.style || brush.type) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush.mask);\n      }\n      interactions.push(obj);\n    });\n\n    //  button  (G2Plot )\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2  brushbrush-xbrush-y \n *\n * 1. element-range-highlight  brush-highlight(mask )\n * 2. brush-visible  brush \n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n *   start \n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, mask?: BrushCfg['mask']) {\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \nregisterInteraction('brush', getInteractionCfg('brush'));\n//  element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// , x \nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// , y \nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { BarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { BarOptions };\n\n/**\n * \n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { isPercent } = options;\n    let { xField, yField, xAxis, yAxis } = options;\n    [xField, yField] = [yField, xField];\n    [xAxis, yAxis] = [yAxis, xAxis];\n    const switchedFieldOptions = { ...options, xField, yField, yAxis, xAxis };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPercentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip } from '../../adaptor/common';\nimport { deepAssign, flow } from '../../utils';\nimport { Axis } from '../../types';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nexport { meta } from '../column/adaptor';\nimport { BarOptions } from './types';\n\n/**\n * \n * 1. switch xField yField\n * 2. switch xAxis yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      //  xAxisyAxis  deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    //  label layout  layout  position  layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  //  legend \n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  // transpose column to bar  & y \n  const { options } = params;\n  const coordinateOptions = [{ type: 'transpose' }, { type: 'reflectY' }].concat(options.coordinate || []);\n  return deepAssign({}, params, { options: { coordinate: coordinateOptions } });\n}\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow  G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\nimport './interactions';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'pie';\n\n  /**\n   * \n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    //  0\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo  G2  afterrender  annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n","import { isFunction, isString, isNil, get, isArray, isNumber, each, toString, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { legend, animation, theme, state, annotation } from '../../adaptor/common';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { getLocale } from '../../core/locale';\nimport { Interaction } from '../../types/interaction';\nimport { flow, template, transformLabel, deepAssign, renderStatistic, processIllegalData } from '../../utils';\nimport { Data, Datum } from '../../types';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle } = options;\n\n  // \n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    //  0  position \n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta  scale \n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label  false,   label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    //   label content \n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append percent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefinedattributes  fields  scale\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \n * 1.  default options \n * 2.  meta  formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // , datum existed.\n            const text = datum\n              ? datum[colorField]\n              : !isNil(titleOpt.content)\n              ? titleOpt.content\n              : i18n.get(['statistic', 'total']);\n            const metaFormatter = get(meta, [colorField, 'formatter']) || ((v) => v);\n            return metaFormatter(text);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \n  chart.getController('annotation').clear(true);\n\n  //  annotations\n  flow(annotation())(params);\n\n  /**   */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    //  all zero  all zero \n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction  ( interaction, \n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      //  start \n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow  G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /**   */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** ,  */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /**  */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /**  text-annotation  */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n","import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n","import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n","import { Chart } from '@antv/g2';\r\nimport { Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { log, LEVEL, getContainerSize } from '../../utils';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n *  DataSet \r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  //  text  value \r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    //  padding \r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // wordCloud \r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * [width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  //  DataSet \r\n  //  DataSet \r\n  //  DataSet \r\n  // \r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  //  0\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n *  padding  appendPadding  padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n *  imageMask  url \r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n *  fontSize  DataSet \r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      //  number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n *  DataSet \r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  //  1  0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n","import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**  color  */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n","import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { adaptor, transformOptions, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    //  brush  meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      //  option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n","import { isNumber } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, pick } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { interaction, animation, theme, scale, annotation, slider, scrollbar } from '../../adaptor/common';\nimport { findGeometry, transformLabel } from '../../utils';\nimport { getQuadrantDefaultConfig, getPath, getMeta } from './util';\nimport { ScatterOptions } from './types';\n\n/**\n * \n *  data.length === 1   y    x \n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      //  oneValue\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  //  shapeLegend,  legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /**  shape  shapeLegend  undefined  */\n  /**  sizeField */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label  false,   label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, top = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const path = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    //  interaction \n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n","import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n","export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TinyLineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { TinyLineOptions } from './types';\nimport { X_FIELD, Y_FIELD } from './constants';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n","import { theme, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n","import { clone, sortBy, valuesOfKey, getRange, each, hasKey, groupBy, isEmpty } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n//  range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n//  sturges \nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  //  binField \n  sortBy(originData_copy, binField);\n\n  //  binField  range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  //  binWidth binNumber  binWidth \n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  //  binWidth  binNumber  Sturges formula  binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  //  key - StatisticData \n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  //  stackField \n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  //  plotData \n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { findGeometry, deepAssign } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**  xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/**  yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ProgressOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n","export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getProgressData } from '../progress/utils';\nimport { RingProgressOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'ring-process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNil } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  /**   */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n","import { groupBy, min, max } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X */\n  x: string;\n\n  /**  size  */\n  violinSize: number[];\n  /**  y  */\n  violinY: number[];\n\n  // \n  /**  */\n  high: number;\n  /**  */\n  low: number;\n  /**  */\n  q1: number;\n  /**  */\n  q3: number;\n  /**  */\n  median: number[];\n\n  /**  */\n  minMax: number[];\n  /**  */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /**  */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  view  view padding \n  syncViewPadding: true,\n  // \n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using PolakRibiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StockOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { getStockData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'stock';\n\n  /**\n   * \n   *  g2/g2plot    -->         -->          -->      \n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, annotation, slider } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\n\nimport { Y_FIELD, TREND_FIELD, TREND_UP, TREND_DOWN } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow  G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n","import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data, yField) {\n  return map(data, (obj) => {\n    if (isArray(yField)) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n","import { each } from '@antv/util';\nimport { Element } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StateName, StateCondition, StateObject } from '../..';\nimport { getAllElementsRecursively } from '../../utils';\nimport { FunnelOptions } from './types';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\n\nexport type { FunnelOptions };\n\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /**  */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \n  /**    */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /**    */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /**    */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n","import { isFunction, clone } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, scale, annotation, tooltip } from '../../adaptor/common';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FunnelOptions } from './types';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { facetFunnel } from './geometries/facet';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\n\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, findGeometry } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { maxSize } = options;\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [datumIndex - 0.5, percent],\n      end: [datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","const CAT_VALUE = 'liquid';\n\n/**\n * \n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n","import { registerShape } from '@antv/g2';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { reduce, isNumber, mix } from '@antv/util';\nimport { transform } from '../../../utils/matrix';\nimport { Point, ShapeStyle } from '../../../types';\nimport { LiquidOptions, CustomInfo } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nexport function addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  //   \n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  //  waveCount \n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 0 : idx / (waveCount - 1);\n\n    // \n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        // \n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      //  underfind \n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas  canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nconst builtInShapeByName = {\n  pin,\n  circle,\n  diamond,\n  triangle,\n  rect,\n};\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { radius: radio, shape, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    //  minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    //   radius \n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1. \n    const waves = container.addGroup({\n      name: 'waves',\n    });\n\n    // 3.  clip \n    const clipPath = waves.setClip({\n      type: 'path',\n      attrs: {\n        path: shapePath,\n      },\n    });\n\n    // 4. \n    addWaterWave(\n      center.x,\n      center.y,\n      1 - (cfg.points[1] as Point).y,\n      waveCount,\n      waveAttrs,\n      waves,\n      clipPath,\n      radius * 2,\n      waveLength,\n      animation\n    );\n\n    // 2.  distance  border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 3.  border  border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n","import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n\n/**\n *  key    key  tooltip \n * @param values \n * @param field \n * @param index \n * @returns string\n */\nfunction getSeriesFieldKey(values: number[], field: string, index: number): string {\n  return values.length > 1 ? `${field}_${index}` : `${field}`;\n}\n\n/**\n * bullet \n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    //  title * range\n    const rangeValues = [item[rangeField]].flat();\n    rangeValues.sort((a: number, b: number) => a - b);\n    rangeValues.forEach((d: number, i: number) => {\n      const range = i === 0 ? d : rangeValues[i] - rangeValues[i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // xField\n        [rangeField]: range,\n      });\n    });\n\n    //  title * measure\n    const measureValues = [item[measureField]].flat();\n    measureValues.forEach((d: number, i: number) => {\n      ds.push({\n        mKey: getSeriesFieldKey(measureValues, measureField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n\n    //  title * target\n    const targetValues = [item[targetField]].flat();\n    targetValues.forEach((d: number, i: number) => {\n      ds.push({\n        tKey: getSeriesFieldKey(targetValues, targetField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [targetField]: d,\n      });\n    });\n\n    // \n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min  0  0 \n  min = min > 0 ? 0 : min;\n\n  // \n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { HierarchyOption } from './types';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \n  sort: (a, b) => b.value - a.value,\n  // , treemapSquarify \n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue  true()  0 + 5 + 5 = 10\n       * ignoreParentValue  false   10 + 5 + 5 = 20\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { GaugeOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { INDICATEOR_VIEW_ID, RANGE_VIEW_ID, DEFAULT_OPTIONS } from './constants';\nimport { getIndicatorData, getRangeData } from './utils';\n\n//  shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\n\nexport type { GaugeOptions };\n\n/**\n * \n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'gauge';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   *  base \n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isString } from '@antv/util';\nimport { interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { RANGE_TYPE, RANGE_VALUE, PERCENT, DEFAULT_COLOR, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  //  & \n  // \n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      //  shape \n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, //  innerRadius * radius =  radius\n    });\n\n    v1.axis(PERCENT, axis);\n    //  scale \n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  //  range\n  // [{ range: 1, type: '0', percent:  }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  //  shape \n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    //  content \n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n */\nfunction tooltip(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(\n      deepAssign(\n        {\n          showTitle: false,\n          showMarkers: false,\n          containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n          domStyles: {\n            'g2-tooltip': {\n              padding: '4px 8px',\n              fontSize: '10px',\n            },\n          },\n          customContent: (x: string, data: any[]) => {\n            const percent = get(data, [0, 'data', PERCENT], 0);\n            return `${(percent * 100).toFixed(2)}%`;\n          },\n        },\n        tooltip\n      )\n    );\n  } else {\n    //  tooltip\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n *  adaptor\n */\nexport { statistic };\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    // animation  createView  View \n    animation,\n    geometry,\n    meta,\n    tooltip,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ...  adaptor flow\n  )(params);\n}\n","import { clamp, get, size } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { RANGE_VALUE, RANGE_TYPE, PERCENT } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n *  range  data \n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      //  stack \n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n      //  0 \n      .filter((d: Datum) => !!d[RANGE_VALUE])\n  );\n}\n\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? ticks : [0, clamp(percent, 0, 1), 1];\n  return processRangeData(clampTicks as number[], percent);\n}\n","import { isUndefined, isNumber, get, reduce, isObject } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n *   \n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n","export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n","import { groupBy } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  //  layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position top  v1  0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n     * + 5  \n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 left  left \n     * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5  \n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // position  top \n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n","import { isArray, get } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // , treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    //  depth === 1 \n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path (x, y), ( depth)\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // data.path) \n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n","import { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { Data } from '../../types';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { cutoffCircle } from './circle';\nimport { SankeyOptions } from './types';\n\n/**\n *  node-link \n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n *  layout view \n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n","import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        labelEmit: true,\n        style: {\n          fill: '#8c8c8c',\n        },\n        offsetX,\n        content: name,\n      };\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // node  tooltip ()edge  tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n","import { CirclePackingOptions } from './types';\n\n/**  */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  //  name \n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: { enabled: false },\n};\n","import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { adaptor as tinyAreaAdaptor } from '../tiny-area/adaptor';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { adaptor as stockAdaptor } from '../stock/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { Pie, PieOptions } from '../pie';\nimport { Bar, BarOptions } from '../bar';\nimport { Column, ColumnOptions } from '../column';\nimport { Area, AreaOptions } from '../area';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { Progress, ProgressOptions } from '../progress';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { Funnel, FunnelOptions } from '../funnel';\nimport { Stock, StockOptions } from '../stock';\nimport { Options } from '../../types';\n\n/**\n *  options  widthheight ,  options  data \n */\ntype PlotOptions<T> = Omit<T, 'width' | 'height' | 'data'> & Partial<Pick<T extends Options ? T : never, 'data'>>;\n\n/**\n * multi-view  plots  options \n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \n       */\n      readonly type: 'line';\n      /**\n       * plot \n       */\n      readonly options: PlotOptions<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: PlotOptions<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: PlotOptions<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: PlotOptions<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: PlotOptions<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: PlotOptions<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: PlotOptions<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: PlotOptions<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: PlotOptions<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: PlotOptions<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: PlotOptions<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: PlotOptions<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: PlotOptions<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: PlotOptions<FunnelOptions>;\n    }\n  | {\n      readonly type: 'stock';\n      readonly options: PlotOptions<StockOptions>;\n    };\n\n/**\n *  multi-view  plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreaAdaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n  stock: stockAdaptor,\n};\n\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n  stock: Stock,\n};\n\n/**\n *  mix  facet defaultOptions \n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"export const version = '2.4.19';\n\n// G2 \nimport * as G2 from '@antv/g2';\nexport { G2 };\n\n// \nimport { registerLocale } from './core/locale';\nimport { EN_US_LOCALE } from './locales/en_US';\nimport { ZH_CN_LOCALE } from './locales/zh_CN';\n/** default locale register */\nregisterLocale('en-US', EN_US_LOCALE);\nregisterLocale('zh-CN', ZH_CN_LOCALE);\n/**    */\nexport { registerLocale };\n\n/**  */\nexport { setGlobal } from './core/global';\n\n/** G2Plot  Plot  */\nexport { Plot } from './core/plot';\n\n/** Adaptor  */\nexport type { Adaptor, Params } from './core/adaptor';\n\n// \nexport * from './types';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Line } from './plots/line';\nexport type { LineOptions } from './plots/line';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Area } from './plots/area';\nexport type { AreaOptions } from './plots/area';\n\n//  | author by [zqlu](https://github.com/zqlu)\nexport { Column } from './plots/column';\nexport type { ColumnOptions } from './plots/column';\n\n//  | author by [BBSQQ](https://github.com/BBSQQ)\nexport { Bar } from './plots/bar';\nexport type { BarOptions } from './plots/bar';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Pie } from './plots/pie';\nexport type { PieOptions } from './plots/pie';\n\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { Rose } from './plots/rose';\nexport type { RoseOptions } from './plots/rose';\n\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { WordCloud } from './plots/word-cloud';\nexport type { WordCloudOptions } from './plots/word-cloud';\n\n//  | author by [lxfu1](https://github.com/lxfu1)\nexport { Scatter } from './plots/scatter';\nexport type { ScatterOptions } from './plots/scatter';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Radar } from './plots/radar';\nexport type { RadarOptions } from './plots/radar';\n\n//  | author by [liuzhenying](https://github.com/liuzhenying)\nexport { DualAxes } from './plots/dual-axes';\nexport type { DualAxesOptions } from './plots/dual-axes';\n\n//  | author by [connono](https://github.com/connono)\nexport { TinyLine } from './plots/tiny-line';\nexport type { TinyLineOptions } from './plots/tiny-line';\n\n//  | author by [connono](https://github.com/connono)\nexport { TinyColumn } from './plots/tiny-column';\nexport type { TinyColumnOptions } from './plots/tiny-column';\n\n//  | author by [connono](https://github.com/connono)\nexport { TinyArea } from './plots/tiny-area';\nexport type { TinyAreaOptions } from './plots/tiny-area';\n\n//  | author by [arcsin1](https://github.com/arcsin1), [visiky](https://github.com/visiky)\nexport { Histogram } from './plots/histogram';\nexport type { HistogramOptions } from './plots/histogram';\n\n//  | author by [connono](https://github.com/connono)\nexport { Progress } from './plots/progress';\nexport type { ProgressOptions } from './plots/progress';\n\n//  | author by [connono](https://github.com/connono)\nexport { RingProgress } from './plots/ring-progress';\nexport type { RingProgressOptions } from './plots/ring-progress';\n\n//  | author by [jiazhewang](https://github.com/jiazhewang)\nexport { Heatmap } from './plots/heatmap';\nexport type { HeatmapOptions } from './plots/heatmap';\n\n//  | author by [BBSQQ](https://github.com/BBSQQ), [visiky](https://github.com/visiky)\nexport { Box } from './plots/box';\nexport type { BoxOptions } from './plots/box';\n\n//  | author by [YiSiWang](https://github.com/YiSiWang), [visiky](https://github.com/visiky)\nexport { Violin } from './plots/violin';\nexport type { ViolinOptions } from './plots/violin';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Venn } from './plots/venn';\nexport type { VennOptions } from './plots/venn';\n\n// K | author by [jhwong](https://github.com/jinhuiWong), [visiky](https://github.com/visiky)\nexport { Stock } from './plots/stock';\nexport type { StockOptions } from './plots/stock';\n\n// \nexport { Funnel, FUNNEL_CONVERSATION_FIELD } from './plots/funnel';\nexport type { FunnelOptions } from './plots/funnel';\n\n//  | author by [CarisL](https://github.com/CarisL), [hustcc](https://github.com/hustcc), [pearmini](https://github.com/pearmini)\nexport { Liquid, addWaterWave } from './plots/liquid';\nexport type { LiquidOptions } from './plots/liquid';\n\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { Bullet } from './plots/bullet';\nexport type { BulletOptions } from './plots/bullet';\n\n//  | author by [lxfu1](https://github.com/lxfu1), [visiky](https://github.com/visiky)\nexport { Sunburst } from './plots/sunburst';\nexport type { SunburstOptions } from './plots/sunburst';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Gauge } from './plots/gauge';\nexport type { GaugeOptions } from './plots/gauge';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Waterfall } from './plots/waterfall';\nexport type { WaterfallOptions } from './plots/waterfall';\n\n//  | author by [yujs](https://github.com/yujs) | updated by [visiky](https://github.com/visiky)\nexport { RadialBar } from './plots/radial-bar';\nexport type { RadialBarOptions } from './plots/radial-bar';\n\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { BidirectionalBar } from './plots/bidirectional-bar';\nexport type { BidirectionalBarOptions } from './plots/bidirectional-bar';\n\n// \nexport { Treemap } from './plots/treemap';\nexport type { TreemapOptions } from './plots/treemap';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Sankey } from './plots/sankey';\nexport type { SankeyOptions } from './plots/sankey';\n\n//  | author by [MrSmallLiu](https://github.com/MrSmallLiu), [visiky](https://github.com/visiky)\nexport { Chord } from './plots/chord';\nexport type { ChordOptions } from './plots/chord';\n\n// circle-packing  | author by [visiky](https://github.com/visiky), [Angeli](https://github.com/Angelii)\nexport { CirclePacking } from './plots/circle-packing';\nexport type { CirclePackingOptions } from './plots/circle-packing';\n\n// \n/**  G2Plot.P  G2Plot.P  */\nexport { P } from './plugin';\n\n/**  getCanvasPatterng  */\nexport { getCanvasPattern } from './utils/pattern';\n\n//  Mix\nexport { Mix as MultiView } from './plots/mix';\nexport type { MixOptions as MultiViewOptions } from './plots/mix';\n/**  (mix) */\nexport { Mix as Mix } from './plots/mix';\nexport type { MixOptions } from './plots/mix';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Facet } from './plots/facet';\nexport type { FacetOptions } from './plots/facet';\n\n/**  adaptor  */\nexport { flow, measureTextWidth } from './utils';\n\n/**  geometry  adaptor */\nexport { line, interval, area, point, polygon, schema } from './adaptor/geometries';\nexport type {\n  LineGeometryOptions,\n  IntervalGeometryOptions,\n  AreaGeometryOptions,\n  PointGeometryOptions,\n  PolygonGeometryOptions,\n  SchemaGeometryOptions,\n} from './adaptor/geometries';\n/**  adaptor  */\nimport { scale, legend, tooltip, annotation, interaction, theme, animation } from './adaptor/common';\nexport const adaptors = { scale, legend, tooltip, annotation, interaction, theme, animation };\n\n/**  Lab  export */\nexport { Lab } from './lab';\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","type FlowFunction<P> = (param: P) => P;\n\n/**\n *  lodash.flow \n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n","import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n","import { Geometry, View, Element } from '@antv/g2';\nimport { reduce, get } from '@antv/util';\n\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n *  View   elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n *  View   elements,  View  View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n *  View   geometries,  View  View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n","import { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { Position, Point } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n","import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \n * @param text \n * @param font \n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n","import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \n  general: {\n    increase: '',\n    decrease: '',\n    root: '',\n  },\n\n  // \n  /**  */\n  statistic: {\n    total: '',\n  },\n  /**  */\n  conversionTag: {\n    label: '',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \n  waterfall: {\n    total: '',\n  },\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n *  sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); //  resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","export * from './common';\nexport * from './tooltip';\nexport * from './state';\nexport * from './attr';\nexport * from './statistic';\nexport * from './meta';\nexport * from './axis';\nexport * from './interaction';\nexport * from './annotation';\nexport * from './locale';\nexport * from './button';\n\n/**  readonly  */\nexport type Writable<T> = { -readonly [P in keyof T]: T[P] };\n","import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * dotPattern\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param x x\n * @param y y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n *  dot pattern HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  //  dots\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgrounddots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { initCanvas, drawBackground, transformMatrix, getPixelRatio } from './util';\n\n/**\n * linePattern  \n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * line\n *\n * @param context canvasContext\n * @param cfg linePattern \n * @param d  path  d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n *  linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  //  pattern  path  d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  //  patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  //  Pattern \n  return pattern;\n}\n","import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * squarePattern  \n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * square\n *\n * @param context canvasContext\n * @param cfg squarePattern \n * @param xy square\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // xy\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n *  squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  //  squares\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); //  dots \n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundsquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /** area  */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              shape: smooth ? 'smooth' : 'area',\n              tooltip: formatter,\n              ...area,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /**  */\n  readonly connectNulls?: boolean;\n  /** line  */\n  readonly line?: MappingOptions;\n  /**  */\n  readonly stepType?: string;\n}\n\n/**\n * line \n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls, useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { GeometryOptions, MappingOptions, geometry } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField: string;\n  /** y  */\n  readonly yField: string;\n  /**  groupFieldcolorField stackFieldcolorField  */\n  readonly seriesField?: string;\n  /**  */\n  readonly isGroup?: boolean;\n  /**  */\n  readonly isStack?: boolean;\n  /**  [0-1] */\n  readonly widthRatio?: number;\n  /** () */\n  readonly intervalPadding?: number;\n  /**  [0-1] */\n  readonly marginRatio?: number;\n  /** () */\n  readonly dodgePadding?: number;\n  /**  */\n  readonly minColumnWidth?: number;\n  /**  */\n  readonly maxColumnWidth?: number;\n  /**  */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /**  colorshapesizestyletooltip */\n  readonly interval?: MappingOptions;\n  /**  seriesField , isGroup: true  groupField */\n  readonly groupField?: string;\n}\n\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio  theme \n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n    useDeferredLabel,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  //  interval \n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: {\n              dodgePadding,\n              intervalPadding,\n              minColumnWidth,\n              maxColumnWidth,\n              background: columnBackground,\n              useDeferredLabel,\n            },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** edge  */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y Y */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** violin  */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n","import { each, findIndex } from '@antv/util';\nimport { InteractionAction, View, Geometry } from '@antv/g2';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items:  tooltip \n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n","import { map, find, each, isObject } from '@antv/util';\nimport { Coordinate, IGroup, ShapeAttrs, Element, Geometry, View, getTheme } from '@antv/g2';\nimport { Params } from '../core/adaptor';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\nimport { Options } from '../types';\n\n/**  */\nexport interface ConversionTagOptions {\n  /** tag  */\n  size?: number;\n  /** tag  */\n  spacing?: number;\n  /** tag  */\n  offset?: number;\n  /**  */\n  arrow?:\n    | {\n        /**  */\n        headSize?: number;\n        /**  */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /**  */\n  text?:\n    | {\n        /**  */\n        size?: number;\n        /**  */\n        style?: ShapeAttrs;\n        /**  */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/**  */\ntype TagRenderConfig = {\n  /**  View */\n  view: View;\n  /**  geometry */\n  geometry: Geometry;\n  /**  group */\n  group: IGroup;\n  /**  */\n  options: ConversionTagOptions;\n  /**  */\n  field: string;\n  /** / */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      //  1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      //   shape annotation \n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n","import { registerInteraction, ShapeAttrs, Element } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** ,  hover */\n  trigger?: 'hover' | 'click';\n  /**  */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/**  */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action  Button \n *\n * brush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override  G2 Button Action,  GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   *  mix \n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   *  Button  \n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \n\n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { IElement, IGroup } from '@antv/g-base';\nimport { Util, Element, Action } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n *   action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n","import { View, Action, Util, Types } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie  Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \n      view.getController('annotation').clear(true);\n      //  annotations\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    //  shape \n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n","import { Element } from '@antv/g2';\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RoseOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n","import { filter, isObject, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, findGeometry, log, LEVEL, transformLabel, deepAssign } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, color } = options;\n\n  // \n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label  false  label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    //  label  shape  'limit-in-shape' \n    //  label \n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  falsy \n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow  G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WordCloudOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { processImageMask, transform } from './utils';\n// shape\nimport './shapes/word-cloud';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      //  adaptor\n      // \n      this.execAdaptor();\n\n      // \n      // TODO: \n      window.setTimeout(() => {\n        // \n        super.triggerResize();\n      });\n    }\n  }\n}\n","import { isFunction, get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n *  legend \n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n","import { isNil, isFunction, assign } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \r\n  // \r\n  // \r\n  // \r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(canvas.getContext('2d')!.getImageData(0, 0, 1, 1).data.length >> 2);\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    //  width  height  0  cxt.getImageData \r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n","import { registerShape, Util, Types, IGroup, ShapeAttrs } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n","import {\n  regressionLinear,\n  regressionExp,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { isArray, get, isNumber } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \n  const textOffset = 10;\n  // \n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm } = regressionLine;\n  let pathData: Array<[number, number]>;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n  }\n  return splinePath(pathData, config);\n};\n\n/**\n *  meta: { min, max }  data.length === 1   y    x \n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   *  min max scale \n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n","// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\n// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\nfunction points(data, x, y, sort) {\n  data = data.filter(function (d, i) {\n    var u = x(d, i),\n        v = y(d, i);\n    return u != null && isFinite(u) && v != null && isFinite(v);\n  });\n\n  if (sort) {\n    data.sort(function (a, b) {\n      return x(a) - x(b);\n    });\n  }\n\n  var n = data.length,\n      X = new Float64Array(n),\n      Y = new Float64Array(n); // extract values, calculate means\n\n  var ux = 0,\n      uy = 0,\n      xv,\n      yv,\n      d;\n\n  for (var i = 0; i < n;) {\n    d = data[i];\n    X[i] = xv = +x(d, i, data);\n    Y[i] = yv = +y(d, i, data);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  } // mean center the data\n\n\n  for (var _i = 0; _i < n; ++_i) {\n    X[_i] -= ux;\n    Y[_i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\nfunction visitPoints(data, x, y, cb) {\n  var iterations = 0;\n\n  for (var i = 0, n = data.length; i < n; i++) {\n    var d = data[i],\n        dx = +x(d, i, data),\n        dy = +y(d, i, data);\n\n    if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n      cb(dx, dy, iterations++);\n    }\n  }\n}\n\n// return the coefficient of determination, or R squared.\n\nfunction determination(data, x, y, uY, predict) {\n  var SSE = 0,\n      SST = 0;\n  visitPoints(data, x, y, function (dx, dy) {\n    var sse = dy - predict(dx),\n        sst = dy - uY;\n    SSE += sse * sse;\n    SST += sst * sst;\n  });\n  return 1 - SSE / SST;\n}\n\n// Returns the angle of a line in degrees.\nfunction angle(line) {\n  return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n} // Returns the midpoint of a line.\n\nfunction midpoint(line) {\n  return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}\n\n// returns a smooth line.\n\nfunction interpose(xmin, xmax, predict) {\n  var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n  var precision = 1 * Math.pow(10, -l / 2 - 1),\n      maxIter = 1e4;\n  var points = [px(xmin), px(xmax)],\n      iter = 0;\n\n  while (find(points) && iter < maxIter) {\n  }\n\n  return points;\n\n  function px(x) {\n    return [x, predict(x)];\n  }\n\n  function find(points) {\n    iter++;\n    var n = points.length;\n    var found = false;\n\n    for (var i = 0; i < n - 1; i++) {\n      var p0 = points[i],\n          p1 = points[i + 1],\n          m = midpoint([p0, p1]),\n          mp = px(m[0]),\n          a0 = angle([p0, m]),\n          a1 = angle([p0, mp]),\n          a = Math.abs(a0 - a1);\n\n      if (a > precision) {\n        points.splice(i + 1, 0, mp);\n        found = true;\n      }\n    }\n\n    return found;\n  }\n}\n\n// Ordinary Least Squares from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\nfunction ols(uX, uY, uXY, uX2) {\n  var delta = uX2 - uX * uX,\n      slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n      intercept = uY - slope * uX;\n  return [intercept, slope];\n}\n\nfunction exponential () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function exponential(data) {\n    var n = 0,\n        Y = 0,\n        YL = 0,\n        XY = 0,\n        XYL = 0,\n        X2Y = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var ly = Math.log(dy),\n          xy = dx * dy;\n      ++n;\n      Y += (dy - Y) / n;\n      XY += (xy - XY) / n;\n      X2Y += (dx * xy - X2Y) / n;\n      YL += (dy * ly - YL) / n;\n      XYL += (xy * ly - XYL) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.exp(b * x);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  exponential.domain = function (arr) {\n    return arguments.length ? (domain = arr, exponential) : domain;\n  };\n\n  exponential.x = function (fn) {\n    return arguments.length ? (x = fn, exponential) : x;\n  };\n\n  exponential.y = function (fn) {\n    return arguments.length ? (y = fn, exponential) : y;\n  };\n\n  return exponential;\n}\n\nfunction linear () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function linear(data) {\n    var n = 0,\n        X = 0,\n        // sum of x\n    Y = 0,\n        // sum of y\n    XY = 0,\n        // sum of x * y\n    X2 = 0,\n        // sum of x * x\n    xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n;\n      X += (dx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (dx * dy - XY) / n;\n      X2 += (dx * dx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * x + intercept;\n    },\n        out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  linear.domain = function (arr) {\n    return arguments.length ? (domain = arr, linear) : domain;\n  };\n\n  linear.x = function (fn) {\n    return arguments.length ? (x = fn, linear) : x;\n  };\n\n  linear.y = function (fn) {\n    return arguments.length ? (y = fn, linear) : y;\n  };\n\n  return linear;\n}\n\n// Returns the medium value of an array of numbers.\nfunction median(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  var i = arr.length / 2;\n  return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}\n\nvar maxiters = 2,\n    epsilon = 1e-12;\nfunction loess () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      bandwidth = .3;\n\n  function loess(data) {\n    var _points = points(data, x, y, true),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        bw = Math.max(2, ~~(bandwidth * n)),\n        yhat = new Float64Array(n),\n        residuals = new Float64Array(n),\n        robustWeights = new Float64Array(n).fill(1);\n\n    for (var iter = -1; ++iter <= maxiters;) {\n      var interval = [0, bw - 1];\n\n      for (var i = 0; i < n; ++i) {\n        var dx = xv[i],\n            i0 = interval[0],\n            i1 = interval[1],\n            edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n        var W = 0,\n            X = 0,\n            Y = 0,\n            XY = 0,\n            X2 = 0,\n            denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n        for (var k = i0; k <= i1; ++k) {\n          var xk = xv[k],\n              yk = yv[k],\n              w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n              xkw = xk * w;\n          W += w;\n          X += xkw;\n          Y += yk * w;\n          XY += yk * xkw;\n          X2 += xk * xkw;\n        } // Linear regression fit\n\n\n        var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n            _ols2 = _slicedToArray(_ols, 2),\n            a = _ols2[0],\n            b = _ols2[1];\n\n        yhat[i] = a + b * dx;\n        residuals[i] = Math.abs(yv[i] - yhat[i]);\n        updateInterval(xv, i + 1, interval);\n      }\n\n      if (iter === maxiters) {\n        break;\n      }\n\n      var medianResidual = median(residuals);\n      if (Math.abs(medianResidual) < epsilon) break;\n\n      for (var _i = 0, arg, _w; _i < n; ++_i) {\n        arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n        // Keeping weights tiny but non-zero prevents singularites\n\n        robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n      }\n    }\n\n    return output(xv, yhat, ux, uy);\n  }\n\n  loess.bandwidth = function (bw) {\n    return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n  };\n\n  loess.x = function (fn) {\n    return arguments.length ? (x = fn, loess) : x;\n  };\n\n  loess.y = function (fn) {\n    return arguments.length ? (y = fn, loess) : y;\n  };\n\n  return loess;\n} // Weighting kernel for local regression\n\nfunction tricube(x) {\n  return (x = 1 - x * x * x) * x * x;\n} // Advance sliding window interval of nearest neighbors\n\n\nfunction updateInterval(xv, i, interval) {\n  var val = xv[i],\n      left = interval[0],\n      right = interval[1] + 1;\n  if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n  // Step when distance is equal to ensure movement over duplicate x values\n\n  while (i > left && xv[right] - val <= val - xv[left]) {\n    interval[0] = ++left;\n    interval[1] = right;\n    ++right;\n  }\n} // Generate smoothed output points\n// Average points with repeated x values\n\n\nfunction output(xv, yhat, ux, uy) {\n  var n = xv.length,\n      out = [];\n  var i = 0,\n      cnt = 0,\n      prev = [],\n      v;\n\n  for (; i < n; ++i) {\n    v = xv[i] + ux;\n\n    if (prev[0] === v) {\n      // Average output values via online update\n      prev[1] += (yhat[i] - prev[1]) / ++cnt;\n    } else {\n      // Add new output point\n      cnt = 0;\n      prev[1] += uy;\n      prev = [v, yhat[i]];\n      out.push(prev);\n    }\n  }\n\n  prev[1] += uy;\n  return out;\n}\n\nfunction logarithmic () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      base = Math.E,\n      domain;\n\n  function logarithmic(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity,\n        lb = Math.log(base);\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx) / lb;\n      ++n;\n      X += (lx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (lx * dy - XY) / n;\n      X2 += (lx * lx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * Math.log(x) / lb + intercept;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  logarithmic.domain = function (arr) {\n    return arguments.length ? (domain = arr, logarithmic) : domain;\n  };\n\n  logarithmic.x = function (fn) {\n    return arguments.length ? (x = fn, logarithmic) : x;\n  };\n\n  logarithmic.y = function (fn) {\n    return arguments.length ? (y = fn, logarithmic) : y;\n  };\n\n  logarithmic.base = function (n) {\n    return arguments.length ? (base = n, logarithmic) : base;\n  };\n\n  return logarithmic;\n}\n\nfunction quad () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function quadratic(data) {\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length;\n\n    var X2 = 0,\n        X3 = 0,\n        X4 = 0,\n        XY = 0,\n        X2Y = 0,\n        i,\n        dx,\n        dy,\n        x2;\n\n    for (i = 0; i < n;) {\n      dx = xv[i];\n      dy = yv[i++];\n      x2 = dx * dx;\n      X2 += (x2 - X2) / i;\n      X3 += (x2 * dx - X3) / i;\n      X4 += (x2 * x2 - X4) / i;\n      XY += (dx * dy - XY) / i;\n      X2Y += (x2 * dy - X2Y) / i;\n    }\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      n0++;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var X2X2 = X4 - X2 * X2,\n        d = X2 * X2X2 - X3 * X3,\n        a = (X2Y * X2 - XY * X3) / d,\n        b = (XY * X2X2 - X2Y * X3) / d,\n        c = -a * X2,\n        fn = function fn(x) {\n      x = x - ux;\n      return a * x * x + b * x + c + uy;\n    };\n\n    var out = interpose(xmin, xmax, fn);\n    out.a = a;\n    out.b = b - 2 * a * ux;\n    out.c = c - b * ux + a * ux * ux + uy;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  quadratic.domain = function (arr) {\n    return arguments.length ? (domain = arr, quadratic) : domain;\n  };\n\n  quadratic.x = function (fn) {\n    return arguments.length ? (x = fn, quadratic) : x;\n  };\n\n  quadratic.y = function (fn) {\n    return arguments.length ? (y = fn, quadratic) : y;\n  };\n\n  return quadratic;\n}\n\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n// ...with ideas from vega-statistics by Jeffrey Heer\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\nfunction polynomial () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      order = 3,\n      domain;\n\n  function polynomial(data) {\n    // Use more efficient methods for lower orders\n    if (order === 1) {\n      var o = linear().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.b, o.a];\n      delete o.a;\n      delete o.b;\n      return o;\n    }\n\n    if (order === 2) {\n      var _o = quad().x(x).y(y).domain(domain)(data);\n\n      _o.coefficients = [_o.c, _o.b, _o.a];\n      delete _o.a;\n      delete _o.b;\n      delete _o.c;\n      return _o;\n    }\n\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        lhs = [],\n        rhs = [],\n        k = order + 1;\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n0;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    var i, j, l, v, c;\n\n    for (i = 0; i < k; ++i) {\n      for (l = 0, v = 0; l < n; ++l) {\n        v += Math.pow(xv[l], i) * yv[l];\n      }\n\n      lhs.push(v);\n      c = new Float64Array(k);\n\n      for (j = 0; j < k; ++j) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i + j);\n        }\n\n        c[j] = v;\n      }\n\n      rhs.push(c);\n    }\n\n    rhs.push(lhs);\n\n    var coef = gaussianElimination(rhs),\n        fn = function fn(x) {\n      x -= ux;\n      var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n      for (i = 3; i < k; ++i) {\n        y += coef[i] * Math.pow(x, i);\n      }\n\n      return y;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.coefficients = uncenter(k, coef, -ux, uy);\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  polynomial.domain = function (arr) {\n    return arguments.length ? (domain = arr, polynomial) : domain;\n  };\n\n  polynomial.x = function (fn) {\n    return arguments.length ? (x = fn, polynomial) : x;\n  };\n\n  polynomial.y = function (fn) {\n    return arguments.length ? (y = fn, polynomial) : y;\n  };\n\n  polynomial.order = function (n) {\n    return arguments.length ? (order = n, polynomial) : order;\n  };\n\n  return polynomial;\n}\n\nfunction uncenter(k, a, x, y) {\n  var z = Array(k);\n  var i, j, v, c; // initialize to zero\n\n  for (i = 0; i < k; ++i) {\n    z[i] = 0;\n  } // polynomial expansion\n\n\n  for (i = k - 1; i >= 0; --i) {\n    v = a[i];\n    c = 1;\n    z[i] += v;\n\n    for (j = 1; j <= i; ++j) {\n      c *= (i + 1 - j) / j; // binomial coefficent\n\n      z[i - j] += v * Math.pow(x, j) * c;\n    }\n  } // bias term\n\n\n  z[0] += y;\n  return z;\n} // Given an array for a two-dimensional matrix and the polynomial order,\n// solve A * x = b using Gaussian elimination.\n\n\nfunction gaussianElimination(matrix) {\n  var n = matrix.length - 1,\n      coef = [];\n  var i, j, k, r, t;\n\n  for (i = 0; i < n; ++i) {\n    r = i; // max row\n\n    for (j = i + 1; j < n; ++j) {\n      if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n        r = j;\n      }\n    }\n\n    for (k = i; k < n + 1; ++k) {\n      t = matrix[k][i];\n      matrix[k][i] = matrix[k][r];\n      matrix[k][r] = t;\n    }\n\n    for (j = i + 1; j < n; ++j) {\n      for (k = n; k >= i; k--) {\n        matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n      }\n    }\n  }\n\n  for (j = n - 1; j >= 0; --j) {\n    t = 0;\n\n    for (k = j + 1; k < n; ++k) {\n      t += matrix[k][j] * coef[k];\n    }\n\n    coef[j] = (matrix[n][j] - t) / matrix[j][j];\n  }\n\n  return coef;\n}\n\nfunction power () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function power(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        YS = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx),\n          ly = Math.log(dy);\n      ++n;\n      X += (lx - X) / n;\n      Y += (ly - Y) / n;\n      XY += (lx * ly - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      YS += (dy - YS) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.pow(x, b);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, YS, fn);\n    return out;\n  }\n\n  power.domain = function (arr) {\n    return arguments.length ? (domain = arr, power) : domain;\n  };\n\n  power.x = function (fn) {\n    return arguments.length ? (x = fn, power) : x;\n  };\n\n  power.y = function (fn) {\n    return arguments.length ? (y = fn, power) : y;\n  };\n\n  return power;\n}\n\nexport { exponential as regressionExp, linear as regressionLinear, loess as regressionLoess, logarithmic as regressionLog, polynomial as regressionPoly, power as regressionPow, quad as regressionQuad };\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n","import '../../../interactions/drag-move';\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /**  */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, annotation, legend } from '../../adaptor/common';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  //   geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  //  Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  //  point.state,  state \n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n","import { registerComponentController, Util, TooltipController, Action } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n *  tooltip  action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { DualAxesOptions } from './types';\nimport { adaptor } from './adaptor';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** :  */\n  public type: string = 'dual-axes';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n","import { each, findIndex, get, find, isObject, every, isEqual, isBoolean } from '@antv/util';\nimport { Scale, Types, Event } from '@antv/g2';\nimport {\n  theme as commonTheme,\n  animation as commonAnimation,\n  scale,\n  interaction as commonInteraction,\n  annotation as commonAnnotation,\n  limitInPlot as commonLimitInPlot,\n} from '../../adaptor/common';\nimport { percent } from '../../utils/transform/percent';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { findViewById } from '../../utils/view';\nimport { isColumn, getYAxisWithDefault, getGeometryOption, transformObjectToArray } from './util/option';\nimport { getViewLegendItems } from './util/legend';\nimport { drawSingleGeometry } from './util/geometry';\nimport { doSliderFilter } from './util/render-sider';\nimport { DualAxesOptions, AxisType, DualAxesGeometry } from './types';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\n\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            //  cat \n            type: 'cat',\n            // x  scale \n            sync: true,\n            // \n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          //  crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n *    view theme \n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // id\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  //  view \n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // id\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /*  geometry  color\n   * 1.  geometryOptions  color drawGeometry \n   * 2.   color Geometry group scales theme color 10 \n   * 3.  group  view  N   concat  themeColor\n   * 4.  Geometry group scales color\n   * 5.  view  g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  //  View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  //  Y \n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip  getDefaultOption  undefined\n  chart.tooltip(tooltip);\n  //  view  tooltip shared  interaction active-region \n  // view  chart  shared\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   *  view  axisline chart  legend)\n   *  chart   view  theme G2 theme geometry > view > chart \n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry  view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \n          each(chart.views, (view) => {\n            // \n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  //  legend  unchecked \n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n *  slider \n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    //  View\n    leftView.option('slider', slider);\n    //  slider   View \n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions color legend  beforepaint\n  return flow(\n    transformOptions,\n    createViews,\n    // \n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n","import { reduce, get, isEmpty, isFunction } from '@antv/util';\nimport { View, Util } from '@antv/g2';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { Legend } from '../../../types/legend';\nimport { isLine } from './option';\n\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    //  g2 \n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { Params } from '../../../core/adaptor';\nimport { point, line } from '../../../adaptor/geometries';\nimport { pick, deepAssign } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isLine, isColumn } from './option';\n\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n","import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n *  View  slider \n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  //  x \n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n","import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { HeatmapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'heatmap';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n","import { get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle } = options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  const min = Math.min(...field);\n                  const max = Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // :  sizeField  sizeLegend.  legend \n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /**  sizeField */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \n * \n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  if (coordinate) {\n    chart.coordinate({\n      type: coordinate.type || 'rect',\n      cfg: coordinate.cfg,\n    });\n  }\n\n  if (reflect) {\n    chart.coordinate().reflect(reflect);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BoxOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n","import { isArray } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { BoxOptions } from './types';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { transformData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        //  label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n *  view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, interaction, animation, theme)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ViolinOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { get, set, omit, each } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, theme, tooltip, annotation as baseAnnotation } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign, findViewById } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/**  */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/**  */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/**  */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  //  `box`  false \n  if (box === false) return params;\n\n  // \n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  //  view \n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  //  view \n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      //  x \n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  //  false \n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    //  fixme G2 \n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  each(chart.views, (view) => {\n    //  view \n    if (typeof animation === 'boolean') {\n      view.animate(animation);\n    } else {\n      view.animate(true);\n    }\n\n    each(view.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { VennOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { VennOptions };\n\n/**\n *  \n */\nexport class Venn extends Plot<VennOptions> {\n  /**  */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Types } from '@antv/g2';\nimport { Datum, Options, StyleAttr } from '../../types';\nimport { ID_FIELD, PATH_FIELD } from './constant';\n\nexport type VennData = (Types.Datum & { sets: string[]; [PATH_FIELD]: string; [ID_FIELD]: string })[];\n\n/**  */\nexport interface VennOptions extends Options {\n  /**\n   * @title \n   */\n  readonly data: Types.Datum[];\n  /**\n   * @title \n   */\n  readonly setsField: string;\n  /**\n   * @title \n   */\n  readonly sizeField: string;\n\n  //  \n\n  /**\n   * @title \n   */\n  readonly color?: string | string[] | ((datum: Datum, defaultColor?: string) => string);\n  /**\n   * @title \n   * @description  :  https://gka.github.io/chroma.js/#chroma-blend\n   * @default \"multiply\"\n   */\n  readonly blendMode?: string;\n  /**\n   * @title point \n   */\n  readonly pointStyle?: StyleAttr;\n}\n\nexport type CustomInfo = { offsetY: number; offsetX: number } & Pick<VennOptions, 'label'>;\n","import { Geometry } from '@antv/g2';\nimport { isArray, get, deepMix, isEqual } from '@antv/util';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport {\n  deepAssign,\n  flow,\n  findGeometry,\n  transformLabel,\n  getAdjustAppendPadding,\n  normalPadding,\n  resolveAllPadding,\n} from '../../utils';\nimport { Datum } from '../../types';\nimport { log, LEVEL } from '../../utils';\nimport { getColorMap, layoutVennData, islegalSets } from './utils';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { ID_FIELD } from './constant';\nimport './shape';\nimport './label';\nimport './interactions';\n\n/**  */\nexport const LEGEND_SPACE = 40;\n\n/**\n *  color \n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n *  padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  //  legend .  40px,  appendPadding \n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /*     \n   * \n   * data = [\n   *   { sets: ['A'], size: 3 }, // \n   *   { sets: ['B'], size: 4 }, // \n   *   { sets: ['A', 'B'], size: 2 }, // \n   *   { sets: ['A', 'B', 'C'], size: 2 }, //  ( C)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    data = [];\n  }\n\n  // ['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  //  data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', ', ');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  //  legend .  40px,  appendPadding \n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox,  appendPadding  viewBBox\n  const { width, height } = chart.viewBBox;\n  // padding w  h \n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // , color .  datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \n  const [t, , , l] = normalPadding(chart.appendPadding);\n  //  label  \n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        //  G2  label \n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  //  \n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *  interaction \n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow  G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ...  adaptor flow\n  )(params);\n}\n","import { assign, memoize } from '@antv/util';\nimport { blend } from '../../utils/color/blend';\nimport { log, LEVEL } from '../../utils';\nimport { venn, scaleSolution } from './layout/layout';\nimport { intersectionAreaPath, computeTextCentres } from './layout/diagram';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n *  \n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /**   */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2.  crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    //  vennText \n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n *  \n * @param legalArr ['A', 'B']\n * @param testArr ['A', 'B', 'C'] or ['A', 'C'] 'C'\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    //  w3c  0 \n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \n * https://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr:  blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n *  [r, g, b, a]\n * https://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); //  16 6  1\n\n  // [r, g, b, a] \n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n","import { nelderMead, bisect, conjugateGradient, zeros, zerosM, norm2, scale } from 'fmin';\nimport { intersectionArea, circleOverlap, circleCircleIntersection, distance } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n","import { nelderMead } from 'fmin';\nimport { intersectionArea, distance, getCenter } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * (x, y)  r  path\n * @param x  x\n * @param y  y\n * @param r \n * @returns  path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { deepAssign } from '../../utils';\nimport { Datum, Point } from '../../types';\nimport { CustomInfo } from './types';\nimport { PATH_FIELD } from './constant';\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n","import { registerGeometryLabel, GeometryLabel } from '@antv/g2';\n\n// Step 1\n//  Label \n//  GeometryLabel \nclass VennLabel extends GeometryLabel {\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2:  CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ==================  aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ==================  ================== */\n\n// ========= Active  =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// =========   =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected  =========\n//  venn element \nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n//  venn element \nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// =========  =========\n// legend hoverelement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n *  \n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n *  \n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n    showFacetTitle,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo   shape\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { conversionTag, isTransposed } = options;\n  // @ts-ignore\n  chart.once('beforepaint', () => {\n    chart.views.forEach((view, viewIndex) => {\n      const getLineCoordinate = (\n        datum: Datum,\n        datumIndex: number,\n        data: Data,\n        initLineOption: Record<string, any>\n      ): Types.LineOption => {\n        const ratio = viewIndex === 0 ? -1 : 1;\n        return deepAssign({}, initLineOption, {\n          start: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n          end: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n          text: isTransposed\n            ? {\n                style: {\n                  textAlign: 'start',\n                },\n              }\n            : {\n                offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n                style: {\n                  textAlign: viewIndex === 0 ? 'end' : 'start',\n                },\n              },\n        });\n      };\n\n      conversionTagComponent(getLineCoordinate)(\n        deepAssign(\n          {},\n          {\n            chart: view,\n            options,\n          }\n        )\n      );\n    });\n  });\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n","import { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed, showFacetTitle } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n","import { map, reduce, maxBy, isArray, get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { flow } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Datum, Data } from '../../../types/common';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    //  xy  [, ]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LiquidOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getLiquidData } from './utils';\n// register liquid shape\nimport './shapes/liquid';\n\nexport { addWaterWave } from './shapes/liquid';\n\nexport type { LiquidOptions };\n\n/**\n * \n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'liquid';\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { interaction, animation, theme, scale, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, renderStatistic } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { LiquidOptions, CustomInfo } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius  columnWidthRatio \n      //   radius \n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    radius,\n    outline,\n    wave,\n    shape,\n    background,\n    animation,\n  };\n\n  //  radius  shape \n  geometry.customInfo(customInfo);\n\n  // \n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow  G2 API ()\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BulletOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n","import { get, isFunction } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { Datum } from '../../types';\nimport { interval, point } from '../../adaptor/geometries';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  //  tooltip \n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      //  meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO  legend\n  chart.legend(legend);\n\n  //  color  legend, legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \n    showMarkers: false,\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**   */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /**   */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /**  */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /**  */\n  public type: string = 'sunburst';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n","import { isFunction, get, uniq } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  annotation,\n  scale,\n  pattern,\n  legend,\n} from '../../adaptor/common';\nimport { flow, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { Datum } from '../../types';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { transformData } from './utils';\nimport { SunburstOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [] } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  //  fillOpacity \n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // undefined \n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \n  if (drilldown?.enabled) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore  seriesField  hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray, reduce, size } from '@antv/util';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  //  parentValue,  true \n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    //  \n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","/**  drill-down  */\nimport '../../../interactions/drill-down';\n","import { Options, ShapeStyle, Statistic, StyleAttr } from '../../types';\nimport { Axis } from '../../types/axis';\nimport { PERCENT, RANGE_TYPE, RANGE_VALUE } from './constants';\n\n/**  */\nexport type Indicator = {\n  /**\n   * @title \n   * @description  object\n   */\n  readonly pointer?: {\n    readonly style?: ShapeStyle;\n  };\n  /**\n   * @title \n   * @description  object\n   */\n  readonly pin?: {\n    readonly style?: ShapeStyle;\n  };\n  /**\n   * @title  shape\n   * @default 'gauge-indicator'\n   */\n  readonly shape?: string;\n};\n\nexport type Range = {\n  /**\n   * @title \n   * @description 0 ~ 1 \n   */\n  readonly ticks?: number[];\n  /**\n   * @title \n   */\n  readonly color?: string | string[];\n  /**\n   * @title \n   */\n  readonly width?: number;\n};\n\n/**\n * @title  rangeData\n */\nexport type GaugeRangeData = {\n  readonly [RANGE_VALUE]?: number;\n  readonly [RANGE_TYPE]: string;\n  readonly [PERCENT]: number;\n}[];\n\n/**\n * @title \n */\nexport interface GaugeOptions\n  extends Omit<Options, 'data' | 'legend' | 'xAxis' | 'yAxis' | 'xField' | 'yField' | 'color'> {\n  /**\n   * @title \n   * @description 0 ~ 1\n   */\n  readonly percent: number;\n  /**\n   * @title \n   * @description 0 ~ 1\n   */\n  readonly radius?: number;\n  /**\n   * @title \n   * @description 0 ~ 1\n   */\n  readonly innerRadius?: number;\n  /**\n   * @title \n   */\n  readonly startAngle?: number;\n  /**\n   * @title \n   */\n  readonly endAngle?: number;\n  /**\n   * @title  range \n   */\n  readonly range?: Range;\n  /**\n   * @title \n   */\n  readonly axis?: Axis;\n  /**\n   * @title \n   */\n  readonly indicator?: false | Indicator;\n  /**\n   * @title \n   */\n  readonly statistic?: Statistic;\n  /**\n   * @title \n   */\n  readonly gaugeStyle?: StyleAttr;\n\n  /**\n   * @title meter gauge \n   */\n\n  /**\n   * @title \n   * @description : 'meter', default \n   */\n  readonly type?: string;\n  /**\n   * @title \n   * @description  = 'meter' \n   */\n  readonly meter?: {\n    /**\n     * @title \n     * @default \"50\"\n     */\n    readonly steps?: number;\n    /**\n     * @title step  gap \n     * @default \"0.5\"\n     */\n    readonly stepRatio?: number;\n  };\n}\n\n/**\n * @title \n * @description  shape  customInfo\n */\nexport type GaugeCustomInfo = {\n  /**\n   * @title  meter \n   */\n  readonly meter?: GaugeOptions['meter'];\n};\n","import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// Shape \nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    //  customInfo \n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n","import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n *  Shape : \n *  STEP, STEP_RATIO. : 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    //  customInfo \n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio : (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    //  gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WaterfallOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum } from '../../types';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, state, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getLocale } from '../../core/locale';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { Y_FIELD, ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\nimport './shape';\n\n/**\n *  \n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, total, leaderLine, columnWidthRatio, waterfallStyle, risingFill, fallingFill, color } =\n    options;\n\n  // \n  chart.data(transformData(data, xField, yField, total));\n\n  //  colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        shape: 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  //  waterfall leaderLineCfg  shape \n  geometry.customInfo({ leaderLine });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip  y \n      fields: [yField],\n      ...tooltip,\n    });\n    //  yField  tooltip \n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { Point } from '../../types';\n\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    //  \n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    //  \n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadialBarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RadialBarOptions };\n\n/**\n * \n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    //  scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n","import { interaction, animation, theme, scale, tooltip, legend, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, findGeometry, transformLabel } from '../../utils';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { processIllegalData } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data } = options;\n\n  // \n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: type === 'line' ? 'line' : 'intervel',\n      },\n      // \n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label  false,   label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n","import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign, findViewById } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { syncViewPadding, transformData, isHorizontal } from './utils';\nimport { SERIES_FIELD_KEY, FIRST_AXES_VIEW, SECOND_AXES_VIEW } from './constant';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /**  */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /**  */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // viewdata\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  interaction as commonInteraction,\n  animation as commonAnimation,\n  theme as commonTheme,\n  limitInPlot as commonLimitInPlot,\n  scale,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, findViewById, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  //  view  legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  //  view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @: ( transform )\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  //  view axis ;  bottom  label\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme  label: null  tickLine \n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  //  false  firstView \n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      //  firstView \n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  syncViewPadding\n   *  TODO  g2 View  setter \n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label  (1.  offset  2. leftView  *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ----  ---- */\n    // \n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label  ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      //  textAlign \n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as Function).apply(this, args)];\n      }\n      //  textBaseline \n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TreemapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData, enableInteraction, resetDrillDown } from './utils';\nimport './interactions';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n","import { get } from '@antv/util';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { Params } from '../../core/adaptor';\nimport { interaction as commonInteraction, animation, theme, legend, annotation, tooltip } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { transformData, findInteraction, enableDrillInteraction } from './utils';\nimport { TreemapOptions } from './types';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          //   API\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  //  view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    //  interaction \n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      //  viewZoomInteraction \n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","export const DEFAULT_OPTIONS = {\n  //  name \n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n","/**  drag-move  */\nimport '../../../interactions/drag-move';\n/**  drill-down  */\nimport '../../../interactions/drill-down';\n","import { get } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { SankeyOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformToViewsData } from './helper';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n// \nimport './interactions';\n\nexport type { SankeyOptions };\n\n/**\n *   Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /**  */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // node  tooltipedge  tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n","import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\nimport { X_FIELD, Y_FIELD, COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n\n/**\n *  \n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState } = options;\n\n  // 1.  view \n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  //  Geometry \n  geometries.forEach((g) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow  G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ...  adaptor flow\n  )(params);\n}\n","import { assign, isString, isFunction } from '@antv/util';\nimport { Datum } from '../../types';\nimport { sankey, left, right, center, justify } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | Function;\n\n/**\n *  depth \n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n *  align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  const nodes = layoutData.nodes\n    .map((node) => {\n      const { x0, x1, y0, y1 } = node;\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      node.x = [x0, x1, x1, x0];\n      node.y = [y0, y0, y1, y1];\n\n      return node;\n    })\n    .filter((node) => {\n      return node.name !== null;\n    });\n\n  const links = layoutData.links\n    .map((edge) => {\n      const { source, target } = edge;\n      const sx = source.x1;\n      const tx = target.x0;\n      edge.x = [sx, sx, tx, tx];\n      const offset = edge.width / 2;\n      edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n\n      return edge;\n    })\n    .filter((edge) => {\n      const { source, target } = edge;\n      return source.name !== null && target.name !== null;\n    });\n\n  return { nodes, links };\n}\n","/**\n * Fork from https://github.com/d3/d3-sankey/tree/master/src\n * \n * 1.  d3-array \n * 2.  set map \n * 3.  [empty] \n * 4.  align  depth \n */\nimport { Sankey as sankey } from './sankey';\nexport { center, left, right, justify } from './align';\nexport { sankey };\n","import { justify } from './align';\nimport { constant, sumBy, maxValueBy, minValueBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    //  depth depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n","import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n *  edges  node \n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n *  edges  dfs \n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n *  DFS \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \n  const removedData = [];\n\n  // \n  const nodes = getNodes(edges, sourceField, targetField);\n  // \n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited, 0,1, -1\n  const visited = {};\n  // visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \n  function DFS(dfsNode) {\n    // \n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        //  removeData\n        if (visited[node] == 1) {\n          // \n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \n          return;\n        } else {\n          DFS(node); // \n        }\n      }\n    });\n    //-1\n    visited[dfsNode] = -1;\n  }\n\n  //  dfs \n  nodes.forEach((node) => {\n    //\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  //  remove \n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n","import './node-draggable';\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n","import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \n   */\n  private isDragging = false;\n\n  /**\n   * \n   */\n  private prevPoint: Point;\n  /**\n   * \n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   *  element \n   */\n  private currentElementIdx: number;\n\n  /**\n   *  element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   *  index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    // \n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        //  [0, 1] \n\n        // 1.  node \n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2.  edge \n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1  node  source  [x0, x1, x2, x3]  x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2  node  target  [x0, x1, x2, x3]  x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \n        this.prevPoint = currentPoint;\n\n        // node edge  render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *   Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { interaction, theme, state } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, pick } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { getAllGeometriesRecursively, transformDataToNodeLinkData } from '../../utils';\nimport { ChordOptions } from './types';\nimport { X_FIELD, Y_FIELD, NODE_COLOR_FIELD, EDGE_COLOR_FIELD } from './constant';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // extnodeGeometry edgeGeometry\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // node link\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. node\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2.  edge  \n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // chordDataextgeometry\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\n * @param params \n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\n * @param params \n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\n * @param params \n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(getAllGeometriesRecursively(chart), (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // (0, 1)\n  nodePaddingRatio?: number; // [0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport './interactions';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // padding\n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  legend,\n  annotation,\n  scale,\n  pattern,\n} from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { transformData, resolvePaddingForCircle } from './utils';\nimport { CirclePackingOptions } from './types';\nimport { RAW_FIELDS } from './constant';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // autofitfalse\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  //  padding coordinate \n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // sizeField value  size \n  let circleSize = ({ r }) => r * finalSize; // \n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; //  r \n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        //  nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * , \n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Types } from '@antv/g2';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { deepAssign, pick } from '../../utils';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    //  depth <= 2  ()\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // : x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n *  padding     finalPadding  finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; //  [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  //  tempPadding coordinate minSize = circle-packing\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\n\n  //  padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \n\n  return { finalPadding, finalSize };\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nimport { HierarchyOption } from './types';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n","/**  drill-down  */\nimport '../../../interactions/drill-down';\n","import { deepAssign } from '../utils';\nimport { Plot, PickOptions } from '../core/plot';\nimport { Adaptor } from '../core/adaptor';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /**  any plot */\n  public readonly type = 'g2-plot';\n\n  /**  defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /**  adaptor  */\n  private adaptor: Adaptor<O>;\n\n  /**\n   *  adaptor \n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { interaction, animation, theme, tooltip, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { Axis } from '../../types/axis';\nimport { Legend } from '../../types/legend';\nimport { Interaction } from '../../types/interaction';\nimport { MixOptions, IView, IGeometry } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1.  view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation ()\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1  Geometry todo \n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots, data = [] } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {}, top } = plot;\n    const { tooltip } = options;\n\n    if (top) {\n      execPlotAdaptor(type, chart, { ...options, data });\n      return;\n    }\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      //  tooltip \n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, { data, ...options });\n  });\n\n  return params;\n}\n\n/**\n *  adaptor (mix)\n * @param params\n */\nexport function slider(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n\n  chart.option('slider', options.slider);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, //  view \n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    slider,\n    annotation()\n    // ...  adaptor flow\n  )(params);\n}\n","/**\n *  view \n */\nimport './association';\n","import { each, get, map, isArray } from '@antv/util';\nimport { registerAction, registerInteraction, View, Element, Action } from '@antv/g2';\nimport { getAllElements, getViews, getSiblingViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nclass Association extends Action {\n  /**\n   *  elements\n   *\n   * -  dim  dim  field linkField  return\n   * -  dim  linkField \n   * -  linkField \n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   *  tooltip \n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   *  tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   *  active \n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   *  selected \n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   *  =>  inactive \n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n","import { View, Element } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n","import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, flow, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore  tooltip\n        if (plotOptions.tooltip) {\n          //  tooltip \n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \n  chart.coordinate(coordinate);\n\n  // 5. axis  ()\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \n  chart.legend(legend);\n\n  // theme \n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow  G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n","import { Geometry, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { IView } from './types';\n\n/**\n *\n * @param params  \n * @returns facet eachView  view \n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate  ()\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis  ( false )\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation ()\n  if (typeof animation === 'boolean') {\n    viewOfG2.animate(false);\n  } else {\n    viewOfG2.animate(true);\n    //  Geometry todo \n    each(viewOfG2.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  }\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n","/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n","import { Mix } from './plots/mix';\n\n/**  */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n"],"sourceRoot":""}