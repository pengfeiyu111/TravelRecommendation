{"version":3,"file":"point.js","sourceRoot":"","sources":["../../../src/adaptor/geometries/point.ts"],"names":[],"mappings":";;;;AACA,+CAAwD;AACxD,qCAAyC;AACzC,+BAAmE;AAiBnE;;;GAGG;AACH,SAAgB,KAAK,CAAiC,MAAiB;IAC7D,IAAA,OAAO,GAAK,MAAM,QAAX,CAAY;IACnB,IAAA,KAAK,GAAoF,OAAO,MAA3F,EAAE,MAAM,GAA4E,OAAO,OAAnF,EAAE,MAAM,GAAoE,OAAO,OAA3E,EAAE,WAAW,GAAuD,OAAO,YAA9D,EAAE,SAAS,GAA4C,OAAO,UAAnD,EAAE,UAAU,GAAgC,OAAO,WAAvC,EAAE,OAAO,GAAuB,OAAO,QAA9B,EAAE,gBAAgB,GAAK,OAAO,iBAAZ,CAAa;IAEnG,IAAA,KAAwB,2BAAiB,CAAC,OAAO,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC,EAAtG,MAAM,YAAA,EAAE,SAAS,eAAqF,CAAC;IAE/G,OAAO,KAAK;QACV,CAAC,CAAC,eAAQ,CACN,kBAAU,CAAC,EAAE,EAAE,MAAM,EAAE;YACrB,OAAO,EAAE;gBACP,IAAI,EAAE,OAAO;gBACb,UAAU,EAAE,WAAW;gBACvB,UAAU,EAAE,UAAU;gBACtB,aAAa,EAAE,MAAM;gBACrB,OAAO,qBACL,OAAO,EAAE,SAAS,IACf,KAAK,CACT;gBACD,IAAI,EAAE,EAAE,gBAAgB,kBAAA,EAAE;aAC3B;SACF,CAAC,CACH;QACH,CAAC,CAAC,MAAM,CAAC;AACb,CAAC;AAvBD,sBAuBC","sourcesContent":["import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x 轴字段 */\n  readonly xField?: string;\n  /** y 轴字段 */\n  readonly yField?: string;\n  /** 分组字段 */\n  readonly seriesField?: string;\n  /** size 映射字段 */\n  readonly sizeField?: string;\n  /** shape 的映射字段 */\n  readonly shapeField?: string;\n  /** point 图形映射规则 */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point 辅助点的配置处理\n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n"]}