{"version":3,"file":"wave-in.js","sourceRoot":"","sources":["../../../src/animate/animation/wave-in.ts"],"names":[],"mappings":";;;;AAAA,mCAAwC;AAGxC,oDAA6D;AAG7D;;;;;;;;GAQG;AACH,SAAgB,MAAM,CAAC,OAAwB,EAAE,UAAuB,EAAE,GAAoB;IACtF,IAAA,KAAiC,IAAA,iCAAoB,EAAC,GAAG,CAAC,UAAU,EAAE,EAAE,CAAC,EAAvE,IAAI,UAAA,EAAE,UAAU,gBAAA,EAAE,QAAQ,cAA6C,CAAC,CAAC,uBAAuB;IACxG,IAAM,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC;QAChC,IAAI,MAAA;QACJ,KAAK,EAAE,UAAU;KAClB,CAAW,CAAC,CAAC,iBAAiB;IAE/B,6BAA6B;IAC7B,IAAI,GAAG,CAAC,OAAO,EAAE;QACf,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;KAC3B;IAED,WAAW;IACX,SAAS,CAAC,OAAO,CAAC,QAAQ,wCACrB,UAAU,KACb,QAAQ,EAAE;YACR,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE;gBACxC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;aAChC;YACD,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,gBAAgB;YACxC,IAAA,iBAAU,EAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,UAAU,CAAC,QAAQ,EAAE,CAAC;QAC3D,CAAC,IACD,CAAC;AACL,CAAC;AAvBD,wBAuBC","sourcesContent":["import { isFunction } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * 整体动画\n * 划入入场动画效果\n * @todo 放两张直角坐标系和极坐标系的图\n * @param element 参与动画的图形元素\n * @param animateCfg 动画配置\n * @param cfg 额外信息\n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // 根据坐标系类型获取整体的剪切区域配置信息\n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; // 为 shape 设置剪切区域\n\n  // 更新 动画 获取了 toAttrs 需要重新更新上去\n  if (cfg.toAttrs) {\n    element.attr(cfg.toAttrs);\n  }\n\n  // 对剪切图形做动画\n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // 动画结束需要将剪切图形销毁\n      isFunction(animateCfg.callback) && animateCfg.callback();\n    },\n  });\n}\n"]}