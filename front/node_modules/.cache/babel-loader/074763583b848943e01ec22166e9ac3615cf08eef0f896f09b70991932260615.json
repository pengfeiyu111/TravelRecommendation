{"ast":null,"code":"import Vue from 'vue';\nimport ViewUI from 'view-design';\nimport Util from '../libs/util';\nimport VueRouter from 'vue-router';\nimport Cookies from 'js-cookie';\nimport { routers } from './router';\nVue.use(VueRouter);\nconst routerPush = VueRouter.prototype.push;\nVueRouter.prototype.push = function push(location) {\n  return routerPush.call(this, location).catch(error => error);\n};\nconst RouterConfig = {\n  // mode: 'history',\n  routes: routers\n};\nexport const router = new VueRouter(RouterConfig);\nrouter.beforeEach((to, from, next) => {\n  ViewUI.LoadingBar.start();\n  Util.title(to.meta.title);\n  var name = to.name;\n  if (Cookies.get('locking') == '1' && name !== 'locking') {\n    next({\n      replace: true,\n      name: 'locking'\n    });\n  } else if (Cookies.get('locking') == '0' && name == 'locking') {\n    next(false);\n  } else {\n    if (!Cookies.get('userInfo') && name != 'login' && name != 'regist') {\n      next({\n        name: 'login'\n      });\n    } else if (Cookies.get('userInfo') && name == 'login') {\n      Util.title();\n      next({\n        name: 'home_index'\n      });\n    } else {\n      Util.toDefaultPage([...routers], name, router, next);\n    }\n  }\n});\nrouter.afterEach(to => {\n  Util.openNewPage(router.app, to.name, to.params, to.query);\n  ViewUI.LoadingBar.finish();\n  window.scrollTo(0, 0);\n});","map":{"version":3,"names":["Vue","ViewUI","Util","VueRouter","Cookies","routers","use","routerPush","prototype","push","location","call","catch","error","RouterConfig","routes","router","beforeEach","to","from","next","LoadingBar","start","title","meta","name","get","replace","toDefaultPage","afterEach","openNewPage","app","params","query","finish","window","scrollTo"],"sources":["D:/TravelRecommendation/front/src/router/index.js"],"sourcesContent":["import Vue from 'vue';\r\nimport ViewUI from 'view-design';\r\nimport Util from '../libs/util';\r\nimport VueRouter from 'vue-router';\r\nimport Cookies from 'js-cookie';\r\nimport { routers } from './router';\r\n\r\nVue.use(VueRouter);\r\nconst routerPush = VueRouter.prototype.push\r\nVueRouter.prototype.push = function push(location) {\r\n  return routerPush.call(this, location).catch(error=> error)\r\n}\r\n\r\nconst RouterConfig = {\r\n    // mode: 'history',\r\n    routes: routers\r\n};\r\n\r\nexport const router = new VueRouter(RouterConfig);\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    ViewUI.LoadingBar.start();\r\n    Util.title(to.meta.title);\r\n    var name = to.name;\r\n    if (Cookies.get('locking') == '1' && name !== 'locking') {\r\n        next({\r\n            replace: true,\r\n            name: 'locking'\r\n        });\r\n    } else if (Cookies.get('locking') == '0' && name == 'locking') {\r\n        next(false);\r\n    } else {\r\n        if (!Cookies.get('userInfo') && (name != 'login' && name != 'regist')) {\r\n            next({\r\n                name: 'login'\r\n            });\r\n        } else if (Cookies.get('userInfo') && name == 'login') {\r\n            Util.title();\r\n            next({\r\n                name: 'home_index'\r\n            });\r\n        } else {\r\n            Util.toDefaultPage([...routers], name, router, next);\r\n        }\r\n    }\r\n});\r\n\r\nrouter.afterEach((to) => {\r\n    Util.openNewPage(router.app, to.name, to.params, to.query);\r\n    ViewUI.LoadingBar.finish();\r\n    window.scrollTo(0, 0);\r\n});\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,MAAM,MAAM,aAAa;AAChC,OAAOC,IAAI,MAAM,cAAc;AAC/B,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,OAAO,QAAQ,UAAU;AAElCL,GAAG,CAACM,GAAG,CAACH,SAAS,CAAC;AAClB,MAAMI,UAAU,GAAGJ,SAAS,CAACK,SAAS,CAACC,IAAI;AAC3CN,SAAS,CAACK,SAAS,CAACC,IAAI,GAAG,SAASA,IAAIA,CAACC,QAAQ,EAAE;EACjD,OAAOH,UAAU,CAACI,IAAI,CAAC,IAAI,EAAED,QAAQ,CAAC,CAACE,KAAK,CAACC,KAAK,IAAGA,KAAK,CAAC;AAC7D,CAAC;AAED,MAAMC,YAAY,GAAG;EACjB;EACAC,MAAM,EAAEV;AACZ,CAAC;AAED,OAAO,MAAMW,MAAM,GAAG,IAAIb,SAAS,CAACW,YAAY,CAAC;AAEjDE,MAAM,CAACC,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClCnB,MAAM,CAACoB,UAAU,CAACC,KAAK,CAAC,CAAC;EACzBpB,IAAI,CAACqB,KAAK,CAACL,EAAE,CAACM,IAAI,CAACD,KAAK,CAAC;EACzB,IAAIE,IAAI,GAAGP,EAAE,CAACO,IAAI;EAClB,IAAIrB,OAAO,CAACsB,GAAG,CAAC,SAAS,CAAC,IAAI,GAAG,IAAID,IAAI,KAAK,SAAS,EAAE;IACrDL,IAAI,CAAC;MACDO,OAAO,EAAE,IAAI;MACbF,IAAI,EAAE;IACV,CAAC,CAAC;EACN,CAAC,MAAM,IAAIrB,OAAO,CAACsB,GAAG,CAAC,SAAS,CAAC,IAAI,GAAG,IAAID,IAAI,IAAI,SAAS,EAAE;IAC3DL,IAAI,CAAC,KAAK,CAAC;EACf,CAAC,MAAM;IACH,IAAI,CAAChB,OAAO,CAACsB,GAAG,CAAC,UAAU,CAAC,IAAKD,IAAI,IAAI,OAAO,IAAIA,IAAI,IAAI,QAAS,EAAE;MACnEL,IAAI,CAAC;QACDK,IAAI,EAAE;MACV,CAAC,CAAC;IACN,CAAC,MAAM,IAAIrB,OAAO,CAACsB,GAAG,CAAC,UAAU,CAAC,IAAID,IAAI,IAAI,OAAO,EAAE;MACnDvB,IAAI,CAACqB,KAAK,CAAC,CAAC;MACZH,IAAI,CAAC;QACDK,IAAI,EAAE;MACV,CAAC,CAAC;IACN,CAAC,MAAM;MACHvB,IAAI,CAAC0B,aAAa,CAAC,CAAC,GAAGvB,OAAO,CAAC,EAAEoB,IAAI,EAAET,MAAM,EAAEI,IAAI,CAAC;IACxD;EACJ;AACJ,CAAC,CAAC;AAEFJ,MAAM,CAACa,SAAS,CAAEX,EAAE,IAAK;EACrBhB,IAAI,CAAC4B,WAAW,CAACd,MAAM,CAACe,GAAG,EAAEb,EAAE,CAACO,IAAI,EAAEP,EAAE,CAACc,MAAM,EAAEd,EAAE,CAACe,KAAK,CAAC;EAC1DhC,MAAM,CAACoB,UAAU,CAACa,MAAM,CAAC,CAAC;EAC1BC,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;AACzB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}